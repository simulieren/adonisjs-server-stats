(function(){"use strict";var te,N,Oe,J,Ie,De,Be,je,ge,be,ye,ne={},se=[],zt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,G=Array.isArray;function U(e,n){for(var s in n)e[s]=n[s];return e}function ve(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function re(e,n,s){var r,i,l,o={};for(l in n)l=="key"?r=n[l]:l=="ref"?i=n[l]:o[l]=n[l];if(arguments.length>2&&(o.children=arguments.length>3?te.call(arguments,2):s),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)o[l]===void 0&&(o[l]=e.defaultProps[l]);return le(e,o,r,i,null)}function le(e,n,s,r,i){var l={type:e,props:n,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Oe,__i:-1,__u:0};return i==null&&N.vnode!=null&&N.vnode(l),l}function I(e){return e.children}function H(e,n){this.props=e,this.context=n}function K(e,n){if(n==null)return e.__?K(e.__,e.__i+1):null;for(var s;n<e.__k.length;n++)if((s=e.__k[n])!=null&&s.__e!=null)return s.__e;return typeof e.type=="function"?K(e):null}function Vt(e){if(e.__P&&e.__d){var n=e.__v,s=n.__e,r=[],i=[],l=U({},n);l.__v=n.__v+1,N.vnode&&N.vnode(l),we(e.__P,l,n,e.__n,e.__P.namespaceURI,32&n.__u?[s]:null,r,s??K(n),!!(32&n.__u),i),l.__v=n.__v,l.__.__k[l.__i]=l,We(r,l,i),n.__e=n.__=null,l.__e!=s&&Re(l)}}function Re(e){if((e=e.__)!=null&&e.__c!=null)return e.__e=e.__c.base=null,e.__k.some(function(n){if(n!=null&&n.__e!=null)return e.__e=e.__c.base=n.__e}),Re(e)}function Fe(e){(!e.__d&&(e.__d=!0)&&J.push(e)&&!ie.__r++||Ie!=N.debounceRendering)&&((Ie=N.debounceRendering)||De)(ie)}function ie(){for(var e,n=1;J.length;)J.length>n&&J.sort(Be),e=J.shift(),n=J.length,Vt(e);ie.__r=0}function Ue(e,n,s,r,i,l,o,h,c,a,p){var d,u,f,_,m,y,b,g=r&&r.__k||se,k=n.length;for(c=Wt(s,n,g,c,k),d=0;d<k;d++)(f=s.__k[d])!=null&&(u=f.__i!=-1&&g[f.__i]||ne,f.__i=d,y=we(e,f,u,i,l,o,h,c,a,p),_=f.__e,f.ref&&u.ref!=f.ref&&(u.ref&&xe(u.ref,null,f),p.push(f.ref,f.__c||_,f)),m==null&&_!=null&&(m=_),(b=!!(4&f.__u))||u.__k===f.__k?c=He(f,c,e,b):typeof f.type=="function"&&y!==void 0?c=y:_&&(c=_.nextSibling),f.__u&=-7);return s.__e=m,c}function Wt(e,n,s,r,i){var l,o,h,c,a,p=s.length,d=p,u=0;for(e.__k=new Array(i),l=0;l<i;l++)(o=n[l])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=e.__k[l]=le(null,o,null,null,null):G(o)?o=e.__k[l]=le(I,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=e.__k[l]=le(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):e.__k[l]=o,c=l+u,o.__=e,o.__b=e.__b+1,h=null,(a=o.__i=qt(o,s,c,d))!=-1&&(d--,(h=s[a])&&(h.__u|=2)),h==null||h.__v==null?(a==-1&&(i>p?u--:i<p&&u++),typeof o.type!="function"&&(o.__u|=4)):a!=c&&(a==c-1?u--:a==c+1?u++:(a>c?u--:u++,o.__u|=4))):e.__k[l]=null;if(d)for(l=0;l<p;l++)(h=s[l])!=null&&(2&h.__u)==0&&(h.__e==r&&(r=K(h)),Je(h,h));return r}function He(e,n,s,r){var i,l;if(typeof e.type=="function"){for(i=e.__k,l=0;i&&l<i.length;l++)i[l]&&(i[l].__=e,n=He(i[l],n,s,r));return n}e.__e!=n&&(r&&(n&&e.type&&!n.parentNode&&(n=K(e)),s.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function ae(e,n){return n=n||[],e==null||typeof e=="boolean"||(G(e)?e.some(function(s){ae(s,n)}):n.push(e)),n}function qt(e,n,s,r){var i,l,o,h=e.key,c=e.type,a=n[s],p=a!=null&&(2&a.__u)==0;if(a===null&&h==null||p&&h==a.key&&c==a.type)return s;if(r>(p?1:0)){for(i=s-1,l=s+1;i>=0||l<n.length;)if((a=n[o=i>=0?i--:l++])!=null&&(2&a.__u)==0&&h==a.key&&c==a.type)return o}return-1}function ze(e,n,s){n[0]=="-"?e.setProperty(n,s??""):e[n]=s==null?"":typeof s!="number"||zt.test(n)?s:s+"px"}function oe(e,n,s,r,i){var l,o;e:if(n=="style")if(typeof s=="string")e.style.cssText=s;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(n in r)s&&n in s||ze(e.style,n,"");if(s)for(n in s)r&&s[n]==r[n]||ze(e.style,n,s[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(je,"$1")),o=n.toLowerCase(),n=o in e||n=="onFocusOut"||n=="onFocusIn"?o.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=s,s?r?s.u=r.u:(s.u=ge,e.addEventListener(n,l?ye:be,l)):e.removeEventListener(n,l?ye:be,l);else{if(i=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&s==1?"":s))}}function Ve(e){return function(n){if(this.l){var s=this.l[n.type+e];if(n.t==null)n.t=ge++;else if(n.t<s.u)return;return s(N.event?N.event(n):n)}}}function we(e,n,s,r,i,l,o,h,c,a){var p,d,u,f,_,m,y,b,g,k,C,v,w,P,$,M=n.type;if(n.constructor!==void 0)return null;128&s.__u&&(c=!!(32&s.__u),l=[h=n.__e=s.__e]),(p=N.__b)&&p(n);e:if(typeof M=="function")try{if(b=n.props,g="prototype"in M&&M.prototype.render,k=(p=M.contextType)&&r[p.__c],C=p?k?k.props.value:p.__:r,s.__c?y=(d=n.__c=s.__c).__=d.__E:(g?n.__c=d=new M(b,C):(n.__c=d=new H(b,C),d.constructor=M,d.render=Kt),k&&k.sub(d),d.state||(d.state={}),d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=U({},d.__s)),U(d.__s,M.getDerivedStateFromProps(b,d.__s))),f=d.props,_=d.state,d.__v=n,u)g&&M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&M.getDerivedStateFromProps==null&&b!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,C),n.__v==s.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,C)===!1){n.__v!=s.__v&&(d.props=b,d.state=d.__s,d.__d=!1),n.__e=s.__e,n.__k=s.__k,n.__k.some(function(q){q&&(q.__=n)}),se.push.apply(d.__h,d._sb),d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,C),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,_,m)})}if(d.context=C,d.props=b,d.__P=e,d.__e=!1,v=N.__r,w=0,g)d.state=d.__s,d.__d=!1,v&&v(n),p=d.render(d.props,d.state,d.context),se.push.apply(d.__h,d._sb),d._sb=[];else do d.__d=!1,v&&v(n),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(r=U(U({},r),d.getChildContext())),g&&!u&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,_)),P=p!=null&&p.type===I&&p.key==null?qe(p.props.children):p,h=Ue(e,G(P)?P:[P],n,s,r,i,l,o,h,c,a),d.base=n.__e,n.__u&=-161,d.__h.length&&o.push(d),y&&(d.__E=d.__=null)}catch(q){if(n.__v=null,c||l!=null)if(q.then){for(n.__u|=c?160:128;h&&h.nodeType==8&&h.nextSibling;)h=h.nextSibling;l[l.indexOf(h)]=null,n.__e=h}else{for($=l.length;$--;)ve(l[$]);Ne(n)}else n.__e=s.__e,n.__k=s.__k,q.then||Ne(n);N.__e(q,n,s)}else l==null&&n.__v==s.__v?(n.__k=s.__k,n.__e=s.__e):h=n.__e=Jt(s.__e,n,s,r,i,l,o,c,a);return(p=N.diffed)&&p(n),128&n.__u?void 0:h}function Ne(e){e&&(e.__c&&(e.__c.__e=!0),e.__k&&e.__k.some(Ne))}function We(e,n,s){for(var r=0;r<s.length;r++)xe(s[r],s[++r],s[++r]);N.__c&&N.__c(n,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(l){l.call(i)})}catch(l){N.__e(l,i.__v)}})}function qe(e){return typeof e!="object"||e==null||e.__b>0?e:G(e)?e.map(qe):U({},e)}function Jt(e,n,s,r,i,l,o,h,c){var a,p,d,u,f,_,m,y=s.props||ne,b=n.props,g=n.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),l!=null){for(a=0;a<l.length;a++)if((f=l[a])&&"setAttribute"in f==!!g&&(g?f.localName==g:f.nodeType==3)){e=f,l[a]=null;break}}if(e==null){if(g==null)return document.createTextNode(b);e=document.createElementNS(i,g,b.is&&b),h&&(N.__m&&N.__m(n,l),h=!1),l=null}if(g==null)y===b||h&&e.data==b||(e.data=b);else{if(l=l&&te.call(e.childNodes),!h&&l!=null)for(y={},a=0;a<e.attributes.length;a++)y[(f=e.attributes[a]).name]=f.value;for(a in y)f=y[a],a=="dangerouslySetInnerHTML"?d=f:a=="children"||a in b||a=="value"&&"defaultValue"in b||a=="checked"&&"defaultChecked"in b||oe(e,a,null,f,i);for(a in b)f=b[a],a=="children"?u=f:a=="dangerouslySetInnerHTML"?p=f:a=="value"?_=f:a=="checked"?m=f:h&&typeof f!="function"||y[a]===f||oe(e,a,f,y[a],i);if(p)h||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),n.__k=[];else if(d&&(e.innerHTML=""),Ue(n.type=="template"?e.content:e,G(u)?u:[u],n,s,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,l,o,l?l[0]:s.__k&&K(s,0),h,c),l!=null)for(a=l.length;a--;)ve(l[a]);h||(a="value",g=="progress"&&_==null?e.removeAttribute("value"):_!=null&&(_!==e[a]||g=="progress"&&!_||g=="option"&&_!=y[a])&&oe(e,a,_,y[a],i),a="checked",m!=null&&m!=e[a]&&oe(e,a,m,y[a],i))}return e}function xe(e,n,s){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&n==null||(e.__u=e(n))}else e.current=n}catch(i){N.__e(i,s)}}function Je(e,n,s){var r,i;if(N.unmount&&N.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||xe(r,null,n)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){N.__e(l,n)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Je(r[i],n,s||typeof e.type!="function");s||ve(e.__e),e.__c=e.__=e.__e=void 0}function Kt(e,n,s){return this.constructor(e,s)}function Ke(e,n,s){var r,i,l,o;n==document&&(n=document.documentElement),N.__&&N.__(e,n),i=(r=!1)?null:n.__k,l=[],o=[],we(n,e=n.__k=re(I,null,[e]),i||ne,ne,n.namespaceURI,i?null:n.firstChild?te.call(n.childNodes):null,l,i?i.__e:n.firstChild,r,o),We(l,e,o)}te=se.slice,N={__e:function(e,n,s,r){for(var i,l,o;n=n.__;)if((i=n.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(h){e=h}throw e}},Oe=0,H.prototype.setState=function(e,n){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof e=="function"&&(e=e(U({},s),this.props)),e&&U(s,e),e!=null&&this.__v&&(n&&this._sb.push(n),Fe(this))},H.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Fe(this))},H.prototype.render=I,J=[],De=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Be=function(e,n){return e.__v.__b-n.__v.__b},ie.__r=0,je=/(PointerCapture)$|Capture$/i,ge=0,be=Ve(!1),ye=Ve(!0);var Qt=0;function t(e,n,s,r,i,l){n||(n={});var o,h,c=n;if("ref"in c)for(h in c={},n)h=="ref"?o=n[h]:c[h]=n[h];var a={type:e,props:c,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Qt,__i:-1,__u:0,__source:i,__self:l};if(typeof e=="function"&&(o=e.defaultProps))for(h in o)c[h]===void 0&&(c[h]=o[h]);return N.vnode&&N.vnode(a),a}var X,L,$e,Qe,Y=0,Ge=[],E=N,Xe=E.__b,Ye=E.__r,Ze=E.diffed,et=E.__c,tt=E.unmount,nt=E.__;function ke(e,n){E.__h&&E.__h(L,e,Y||n),Y=0;var s=L.__H||(L.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({}),s.__[e]}function x(e){return Y=1,Gt(lt,e)}function Gt(e,n,s){var r=ke(X++,2);if(r.t=e,!r.__c&&(r.__=[s?s(n):lt(void 0,n),function(h){var c=r.__N?r.__N[0]:r.__[0],a=r.t(c,h);c!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=L,!L.__f)){var i=function(h,c,a){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(u){return u.__c});if(p.every(function(u){return!u.__N}))return!l||l.call(this,h,c,a);var d=r.__c.props!==h;return p.some(function(u){if(u.__N){var f=u.__[0];u.__=u.__N,u.__N=void 0,f!==u.__[0]&&(d=!0)}}),l&&l.call(this,h,c,a)||d};L.__f=!0;var l=L.shouldComponentUpdate,o=L.componentWillUpdate;L.componentWillUpdate=function(h,c,a){if(this.__e){var p=l;l=void 0,i(h,c,a),l=p}o&&o.call(this,h,c,a)},L.shouldComponentUpdate=i}return r.__N||r.__}function z(e,n){var s=ke(X++,3);!E.__s&&rt(s.__H,n)&&(s.__=e,s.u=n,L.__H.__h.push(s))}function B(e){return Y=5,T(function(){return{current:e}},[])}function T(e,n){var s=ke(X++,7);return rt(s.__H,n)&&(s.__=e(),s.__H=n,s.__h=e),s.__}function S(e,n){return Y=8,T(function(){return e},n)}function Xt(){for(var e;e=Ge.shift();){var n=e.__H;if(e.__P&&n)try{n.__h.some(ce),n.__h.some(Ce),n.__h=[]}catch(s){n.__h=[],E.__e(s,e.__v)}}}E.__b=function(e){L=null,Xe&&Xe(e)},E.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),nt&&nt(e,n)},E.__r=function(e){Ye&&Ye(e),X=0;var n=(L=e.__c).__H;n&&($e===L?(n.__h=[],L.__h=[],n.__.some(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(n.__h.some(ce),n.__h.some(Ce),n.__h=[],X=0)),$e=L},E.diffed=function(e){Ze&&Ze(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(Ge.push(n)!==1&&Qe===E.requestAnimationFrame||((Qe=E.requestAnimationFrame)||Yt)(Xt)),n.__H.__.some(function(s){s.u&&(s.__H=s.u),s.u=void 0})),$e=L=null},E.__c=function(e,n){n.some(function(s){try{s.__h.some(ce),s.__h=s.__h.filter(function(r){return!r.__||Ce(r)})}catch(r){n.some(function(i){i.__h&&(i.__h=[])}),n=[],E.__e(r,s.__v)}}),et&&et(e,n)},E.unmount=function(e){tt&&tt(e);var n,s=e.__c;s&&s.__H&&(s.__H.__.some(function(r){try{ce(r)}catch(i){n=i}}),s.__H=void 0,n&&E.__e(n,s.__v))};var st=typeof requestAnimationFrame=="function";function Yt(e){var n,s=function(){clearTimeout(r),st&&cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(s,35);st&&(n=requestAnimationFrame(s))}function ce(e){var n=L,s=e.__c;typeof s=="function"&&(e.__c=void 0,s()),L=n}function Ce(e){var n=L;e.__c=e.__(),L=n}function rt(e,n){return!e||e.length!==n.length||n.some(function(s,r){return s!==e[r]})}function lt(e,n){return typeof n=="function"?n(e):n}function Zt(e,n){for(var s in n)e[s]=n[s];return e}function it(e,n){for(var s in e)if(s!=="__source"&&!(s in n))return!0;for(var r in n)if(r!=="__source"&&e[r]!==n[r])return!0;return!1}function at(e,n){this.props=e,this.context=n}(at.prototype=new H).isPureReactComponent=!0,at.prototype.shouldComponentUpdate=function(e,n){return it(this.props,e)||it(this.state,n)};var ot=N.__b;N.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ot&&ot(e)};var en=N.__e;N.__e=function(e,n,s,r){if(e.then){for(var i,l=n;l=l.__;)if((i=l.__c)&&i.__c)return n.__e==null&&(n.__e=s.__e,n.__k=s.__k),i.__c(e,n)}en(e,n,s,r)};var ct=N.unmount;function dt(e,n,s){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=Zt({},e)).__c!=null&&(e.__c.__P===s&&(e.__c.__P=n),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return dt(r,n,s)})),e}function ht(e,n,s){return e&&s&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return ht(r,n,s)}),e.__c&&e.__c.__P===n&&(e.__e&&s.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=s)),e}function Z(){this.__u=0,this.o=null,this.__b=null}function ut(e){if(!e.__)return null;var n=e.__.__c;return n&&n.__a&&n.__a(e)}function D(e){var n,s,r,i=null;function l(o){if(n||(n=e()).then(function(h){h&&(i=h.default||h),r=!0},function(h){s=h,r=!0}),s)throw s;if(!r)throw n;return i?re(i,o):null}return l.displayName="Lazy",l.__f=!0,l}function de(){this.i=null,this.l=null}N.unmount=function(e){var n=e.__c;n&&(n.__z=!0),n&&n.__R&&n.__R(),n&&32&e.__u&&(e.type=null),ct&&ct(e)},(Z.prototype=new H).__c=function(e,n){var s=n.__c,r=this;r.o==null&&(r.o=[]),r.o.push(s);var i=ut(r.__v),l=!1,o=function(){l||r.__z||(l=!0,s.__R=null,i?i(c):c())};s.__R=o;var h=s.__P;s.__P=null;var c=function(){if(!--r.__u){if(r.state.__a){var a=r.state.__a;r.__v.__k[0]=ht(a,a.__c.__P,a.__c.__O)}var p;for(r.setState({__a:r.__b=null});p=r.o.pop();)p.__P=h,p.forceUpdate()}};r.__u++||32&n.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},Z.prototype.componentWillUnmount=function(){this.o=[]},Z.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=dt(this.__b,s,r.__O=r.__P)}this.__b=null}var i=n.__a&&re(I,null,e.fallback);return i&&(i.__u&=-33),[re(I,null,n.__a?null:e.children),i]};var ft=function(e,n,s){if(++s[1]===s[0]&&e.l.delete(n),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(s=e.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.i=s=s[2]}};(de.prototype=new H).__a=function(e){var n=this,s=ut(n.__v),r=n.l.get(e);return r[0]++,function(i){var l=function(){n.props.revealOrder?(r.push(i),ft(n,e,r)):i()};s?s(l):l()}},de.prototype.render=function(e){this.i=null,this.l=new Map;var n=ae(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&n.reverse();for(var s=n.length;s--;)this.l.set(n[s],this.i=[1,0,this.i]);return e.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(n,s){ft(e,s,n)})};var tn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,nn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,sn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,rn=/[A-Z0-9]/g,ln=typeof document<"u",an=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};H.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(H.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(n){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:n})}})});var pt=N.event;function on(){}function cn(){return this.cancelBubble}function dn(){return this.defaultPrevented}N.event=function(e){return pt&&(e=pt(e)),e.persist=on,e.isPropagationStopped=cn,e.isDefaultPrevented=dn,e.nativeEvent=e};var hn={enumerable:!1,configurable:!0,get:function(){return this.class}},_t=N.vnode;N.vnode=function(e){typeof e.type=="string"&&(function(n){var s=n.props,r=n.type,i={},l=r.indexOf("-")===-1;for(var o in s){var h=s[o];if(!(o==="value"&&"defaultValue"in s&&h==null||ln&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in s&&s.value==null?o="value":o==="download"&&h===!0?h="":c==="translate"&&h==="no"?h=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||an(s.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":sn.test(o)&&(o=c):c=o="oninput":l&&nn.test(o)?o=o.replace(rn,"-$&").toLowerCase():h===null&&(h=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=h}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=ae(s.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=ae(s.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),s.class&&!s.className?(i.class=s.class,Object.defineProperty(i,"className",hn)):s.className&&(i.class=i.className=s.className),n.props=i})(e),e.$$typeof=tn,_t&&_t(e)};var mt=N.__r;N.__r=function(e){mt&&mt(e),e.__c};var gt=N.diffed;N.diffed=function(e){gt&&gt(e);var n=e.props,s=e.__e;s!=null&&e.type==="textarea"&&"value"in n&&n.value!==s.value&&(s.value=n.value==null?"":n.value)};class he extends Error{status;constructor(n=403){super(`Unauthorized (HTTP ${n})`),this.name="UnauthorizedError",this.status=n}}class un extends Error{status;body;constructor(n,s){super(`API error (HTTP ${n})`),this.name="ApiError",this.status=n,this.body=s}}class Se{baseUrl;authToken;constructor(n){this.baseUrl=n.baseUrl.replace(/\/+$/,""),this.authToken=n.authToken}async fetch(n,s){const i={...{Accept:"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},...s?.headers},l=await globalThis.fetch(`${this.baseUrl}${n}`,{...s,headers:i,credentials:this.authToken?"omit":"include"});if(l.status===401||l.status===403)throw new he(l.status);if(!l.ok){const o=await l.text().catch(()=>"");throw new un(l.status,o)}return l.json()}async get(n,s){const r=s?`${n}?${s}`:n;return this.fetch(r)}async post(n,s){const r={method:"POST",...s!==void 0?{body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}:{}};return this.fetch(n,r)}async delete(n){return this.fetch(n,{method:"DELETE"})}}const bt="/admin/api/debug",yt={tracing:!1,process:!1,system:!1,http:!1,db:!1,redis:!1,queues:!1,cache:!1,app:!1,log:!1,emails:!1,dashboard:!1,customPanes:[]};function fn(e){return{tracing:e.features?.tracing??!1,process:e.features?.process??!1,system:e.features?.system??!1,http:e.features?.http??!1,db:e.features?.db??!1,redis:e.features?.redis??!1,queues:e.features?.queues??!1,cache:e.features?.cache??!1,app:e.features?.app??!1,log:e.features?.log??!1,emails:e.features?.emails??!1,dashboard:e.features?.dashboard??!1,customPanes:e.customPanes??[]}}async function pn(e,n=bt){const s=`${n.replace(/\/+$/,"")}/config`;return e.fetch(s)}async function _n(e){const{baseUrl:n="",debugEndpoint:s=bt,authToken:r}=e,i=new Se({baseUrl:n,authToken:r});try{const l=await pn(i,s);return fn(l)}catch{return yt}}function mn(e={}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=e,[i,l]=x(yt),[o,h]=x(!0),[c,a]=x(null),p=B(!1);return z(()=>{if(p.current)return;p.current=!0;let d=!1;return(async()=>{try{const f=await _n({baseUrl:n,debugEndpoint:s,authToken:r});d||(l(f),h(!1))}catch(f){d||(a(f instanceof Error?f:new Error(String(f))),h(!1))}})(),()=>{d=!0}},[n,s,r]),{features:i,isLoading:o,error:c}}const ue="ss-dash-theme",Te="ss-theme-change";function Le(){if(typeof window>"u")return"light";const e=localStorage.getItem(ue);return e==="dark"||e==="light"?e:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function gn(e){typeof window>"u"||(localStorage.setItem(ue,e),window.dispatchEvent(new CustomEvent(Te,{detail:e})))}function bn(){const n=Le()==="dark"?"light":"dark";return gn(n),n}function yn(e){if(typeof window>"u")return()=>{};const n=l=>{const o=l.detail;(o==="dark"||o==="light")&&e(o)},s=l=>{if(l.key===ue){const o=l.newValue;e(o==="dark"||o==="light"?o:Le())}},r=window.matchMedia("(prefers-color-scheme: dark)"),i=l=>{localStorage.getItem(ue)||e(l.matches?"dark":"light")};return window.addEventListener(Te,n),window.addEventListener("storage",s),r.addEventListener("change",i),()=>{window.removeEventListener(Te,n),window.removeEventListener("storage",s),r.removeEventListener("change",i)}}function vn(){const[e,n]=x(()=>Le());z(()=>yn(i=>{n(i)}),[]);const s=S(()=>{const r=bn();return n(r),r},[]);return{theme:e,toggleTheme:s}}const A={queries:{viewBox:"0 0 24 24",elements:['<ellipse cx="12" cy="5" rx="9" ry="3"/>','<path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>','<path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>']},events:{viewBox:"0 0 24 24",elements:['<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>']},emails:{viewBox:"0 0 24 24",elements:['<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>','<polyline points="22,6 12,13 2,6"/>']},routes:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<line x1="2" y1="12" x2="22" y2="12"/>','<path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>']},logs:{viewBox:"0 0 24 24",elements:['<line x1="8" y1="6" x2="21" y2="6"/>','<line x1="8" y1="12" x2="21" y2="12"/>','<line x1="8" y1="18" x2="21" y2="18"/>','<line x1="3" y1="6" x2="3.01" y2="6"/>','<line x1="3" y1="12" x2="3.01" y2="12"/>','<line x1="3" y1="18" x2="3.01" y2="18"/>']},timeline:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},cache:{viewBox:"0 0 24 24",elements:['<rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>','<rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>','<line x1="6" y1="6" x2="6.01" y2="6"/>','<line x1="6" y1="18" x2="6.01" y2="18"/>']},jobs:{viewBox:"0 0 24 24",elements:['<rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>','<path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>']},config:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="3"/>','<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>']},internals:{viewBox:"0 0 24 24",elements:['<rect x="4" y="4" width="16" height="16" rx="2"/>','<rect x="9" y="9" width="6" height="6"/>','<line x1="9" y1="1" x2="9" y2="4"/>','<line x1="15" y1="1" x2="15" y2="4"/>','<line x1="9" y1="20" x2="9" y2="23"/>','<line x1="15" y1="20" x2="15" y2="23"/>','<line x1="20" y1="9" x2="23" y2="9"/>','<line x1="20" y1="14" x2="23" y2="14"/>','<line x1="1" y1="9" x2="4" y2="9"/>','<line x1="1" y1="14" x2="4" y2="14"/>']},overview:{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="7" height="7"/>','<rect x="14" y="3" width="7" height="7"/>','<rect x="14" y="14" width="7" height="7"/>','<rect x="3" y="14" width="7" height="7"/>']},requests:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},"dashboard-timeline":{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<polyline points="12 6 12 12 16 14"/>']},"custom-pane":{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="18" height="18" rx="2"/>','<path d="M9 3v18"/>']},wrench:{viewBox:"0 0 24 24",elements:['<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>']},"external-link":{viewBox:"0 0 24 24",elements:['<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>','<polyline points="15 3 21 3 21 9"/>','<line x1="10" y1="14" x2="21" y2="3"/>']},sun:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="5"/>','<line x1="12" y1="1" x2="12" y2="3"/>','<line x1="12" y1="21" x2="12" y2="23"/>','<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>','<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>','<line x1="1" y1="12" x2="3" y2="12"/>','<line x1="21" y1="12" x2="23" y2="12"/>','<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>','<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>']},moon:{viewBox:"0 0 24 24",elements:['<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>']},search:{viewBox:"0 0 24 24",elements:['<circle cx="11" cy="11" r="8"/>','<line x1="21" y1="21" x2="16.65" y2="16.65"/>']},eye:{viewBox:"0 0 24 24",elements:['<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>','<circle cx="12" cy="12" r="3"/>']},"eye-off":{viewBox:"0 0 24 24",elements:['<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>','<path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>','<line x1="1" y1="1" x2="23" y2="23"/>','<path d="M14.12 14.12a3 3 0 1 1-4.24-4.24"/>']},"chevron-right":{viewBox:"0 0 24 24",elements:['<path d="M9 18l6-6-6-6"/>']},"chevron-left":{viewBox:"0 0 24 24",elements:['<path d="M15 18l-6-6 6-6"/>']},"open-external":{viewBox:"0 0 16 16",elements:['<path d="M6 3H3v10h10v-3M9 1h6v6M7 9L15 1"/>']}};function wn({theme:e,onToggle:n,className:s="",classPrefix:r="ss-dash"}){const i=e==="dark";return t("button",{type:"button",className:`${r==="ss-dbg"?"ss-dbg-theme-toggle":"ss-dash-theme-btn"} ${s}`,onClick:n,title:i?"Switch to light theme":"Switch to dark theme","aria-label":i?"Switch to light theme":"Switch to dark theme",children:i?t("svg",{width:"16",height:"16",viewBox:A.sun.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.sun.elements.join("")}}):t("svg",{width:"16",height:"16",viewBox:A.moon.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.moon.elements.join("")}})})}const Nn=D(()=>Promise.resolve().then(()=>Jn)),xn=D(()=>Promise.resolve().then(()=>Kn)),$n=D(()=>Promise.resolve().then(()=>Qn)),kn=D(()=>Promise.resolve().then(()=>Gn)),Cn=D(()=>Promise.resolve().then(()=>ts)),Sn=D(()=>Promise.resolve().then(()=>ss)),Tn=D(()=>Promise.resolve().then(()=>rs)),Ln=D(()=>Promise.resolve().then(()=>cs)),En=D(()=>Promise.resolve().then(()=>gs)),An=D(()=>Promise.resolve().then(()=>As)),Pn=D(()=>Promise.resolve().then(()=>Ps));function Mn(e){const{defaultOpen:n=!1,dashboardPath:s,isOpen:r,onOpenChange:i,isLive:l=!1,...o}=e,[h,c]=x(n),a=r!==void 0?r:h,p=v=>{i?i(v):c(v)},[d,u]=x("queries"),{features:f}=mn(o),{theme:_,toggleTheme:m}=vn(),y=f.customPanes||[];z(()=>{const v=w=>{w.key==="Escape"&&a&&p(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[a]);const b=T(()=>[{id:"queries",label:"Queries",visible:!0},{id:"events",label:"Events",visible:!0},{id:"emails",label:"Emails",visible:!0},{id:"routes",label:"Routes",visible:!0},{id:"logs",label:"Logs",visible:!0},{id:"timeline",label:"Timeline",visible:f.tracing},{id:"cache",label:"Cache",visible:f.cache},{id:"jobs",label:"Jobs",visible:f.queues},{id:"config",label:"Config",visible:!0},{id:"internals",label:"Internals",visible:!0}],[f]),g=T(()=>b.filter(v=>v.visible),[b]);z(()=>{const v=[...g.map(w=>w.id),...y.map(w=>w.id)];!v.includes(d)&&v.length>0&&u(v[0])},[g,y,d]);const k=S(()=>{p(!a)},[a]),C=S(()=>{const v={options:o},w=y.find($=>$.id===d);if(w)return t(Z,{fallback:t("div",{className:"ss-dbg-empty",children:"Loading..."}),children:t(Pn,{pane:w,options:o})});const P={queries:t(Nn,{...v}),events:t(xn,{...v}),emails:t($n,{...v}),routes:t(kn,{...v,currentPath:typeof window<"u"?window.location.pathname:""}),logs:t(Cn,{...v}),timeline:t(Sn,{...v}),cache:t(Tn,{...v,dashboardPath:s}),jobs:t(Ln,{...v,dashboardPath:s}),config:t(En,{...v,dashboardPath:s}),internals:t(An,{...v})};return t(Z,{fallback:t("div",{className:"ss-dbg-empty",children:"Loading..."}),children:P[d]||t("div",{className:"ss-dbg-empty",children:"Unknown tab"})})},[d,o,y]);return t(I,{children:[r===void 0&&t("button",{type:"button",className:`ss-dbg-btn ${a?"ss-dbg-active":""}`,onClick:k,title:"Toggle debug panel",id:"ss-dbg-wrench",children:t("svg",{width:"14",height:"14",viewBox:A.wrench.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.wrench.elements.join("")}})}),t("div",{className:`ss-dbg-panel ${a?"ss-dbg-open":""}`,"data-ss-theme":_,id:"ss-dbg-panel",children:[t("div",{className:"ss-dbg-tabs",children:[t("div",{className:"ss-dbg-tabs-scroll",children:[g.map(v=>t("button",{type:"button",className:`ss-dbg-tab ${d===v.id?"ss-dbg-active":""}`,onClick:()=>u(v.id),children:[A[v.id]?t("svg",{className:"ss-dbg-tab-icon",viewBox:A[v.id].viewBox,dangerouslySetInnerHTML:{__html:A[v.id].elements.join("")}}):null,v.label]},v.id)),y.map(v=>t("button",{type:"button",className:`ss-dbg-tab ${d===v.id?"ss-dbg-active":""}`,onClick:()=>u(v.id),children:v.label},v.id))]}),t("div",{className:"ss-dbg-tabs-right",children:[t("span",{className:`ss-dbg-conn-mode ${l?"ss-dbg-conn-live":"ss-dbg-conn-polling"}`,title:l?"Connected via Transmit (SSE) â€” real-time updates":"Polling every 3s",children:l?"live":"polling"}),t(wn,{theme:_,onToggle:m,classPrefix:"ss-dbg"}),s&&t("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"ss-dbg-dashboard-link",title:"Open dashboard",children:t("svg",{width:"14",height:"14",viewBox:A["external-link"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["external-link"].elements.join("")}})}),t("button",{type:"button",className:"ss-dbg-close",onClick:()=>p(!1),title:"Close panel",children:"Ã—"})]})]}),t("div",{className:"ss-dbg-content",children:a&&C()})]})]})}window.__ssDebugPanel={mount(e,n,s){Ke(t(Mn,{debugEndpoint:n.debugEndpoint,authToken:n.authToken,dashboardPath:n.dashboardPath||void 0,isOpen:!0,isLive:s}),e)},unmount(e){Ke(null,e)}};const On=3e3,In=100,Dn=500;function Bn(e){if(!e&&e!==0)return"-";const n=Math.floor(e),s=Math.floor(n/86400),r=Math.floor(n%86400/3600),i=Math.floor(n%3600/60);return s>0?`${s}d ${r}h`:r>0?`${r}h ${i}m`:i>0?`${i}m ${n%60}s`:`${n}s`}function j(e){return e>=1e3?`${(e/1e3).toFixed(2)}s`:e>=1?`${e.toFixed(0)}ms`:`${e.toFixed(2)}ms`}function V(e){if(!e)return"-";const n=typeof e=="string"?new Date(e):new Date(e);return Number.isNaN(n.getTime())?"-":n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+String(n.getMilliseconds()).padStart(3,"0")}function R(e){if(!e)return"-";const n=typeof e=="string"?new Date(e).getTime():e,s=Math.floor((Date.now()-n)/1e3);return s<0?"just now":s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function Q(e){return e>Dn?"very-slow":e>In?"slow":"normal"}function fe(e,n=100){if(e===null)return"null";if(e===void 0)return"-";if(typeof e=="string")return'"'+(e.length>40?e.slice(0,40)+"...":e)+'"';if(typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e)){if(e.length===0)return"[]";const r="["+e.slice(0,3).map(i=>fe(i,30)).join(", ")+(e.length>3?", ..."+e.length+" items":"")+"]";return r.length>n?"["+e.length+" items]":r}if(typeof e=="object"){const s=Object.keys(e);if(s.length===0)return"{}";const r=[];for(let l=0;l<Math.min(s.length,4);l++)r.push(s[l]+": "+fe(e[s[l]],30));const i="{ "+r.join(", ")+(s.length>4?", ...+"+(s.length-4):"")+" }";return i.length>n?"{ "+s.slice(0,6).join(", ")+(s.length>6?", ...":"")+" }":i}return String(e)}function jn(e){return e<0?"no expiry":e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m`:e<86400?`${Math.floor(e/3600)}h`:`${Math.floor(e/86400)}d`}function Rn(e){return e<1024?`${e}B`:e<1024*1024?`${(e/1024).toFixed(1)}KB`:`${(e/(1024*1024)).toFixed(1)}MB`}function Fn(e,n){if(!n)return e;const s=n.toLowerCase();return e.filter(r=>r.sql.toLowerCase().includes(s)||r.model&&r.model.toLowerCase().includes(s)||r.method.toLowerCase().includes(s))}function Un(e){const n={};for(const s of e)n[s.sql]=(n[s.sql]||0)+1;return n}function Hn(e,n){const s=e.filter(l=>l.duration>100).length,r=Object.values(n).filter(l=>l>1).length,i=e.length>0?e.reduce((l,o)=>l+o.duration,0)/e.length:0;return{slowCount:s,dupCount:r,avgDuration:i,totalCount:e.length}}const zn={queries:"/queries",events:"/events",emails:"/emails",routes:"/routes",logs:"/logs",timeline:"/traces",cache:"/cache",jobs:"/jobs",config:"/config",internals:"/diagnostics"};function Vn(e){return zn[e]||`/${e}`}class Wn{client;endpoint;refreshInterval;callbacks;timer=null;currentTab=null;fetchOnceCache={};constructor(n){this.client=new Se({baseUrl:n.baseUrl,authToken:n.authToken}),this.endpoint=n.endpoint??"/admin/api/debug",this.refreshInterval=n.refreshInterval??On,this.callbacks={onData:n.onData,onLoading:n.onLoading,onError:n.onError,onUnauthorized:n.onUnauthorized}}start(n){this.stop(),this.currentTab=n,this.callbacks.onLoading(!0),this.callbacks.onError(null),this.fetchData(),this.timer=setInterval(()=>this.fetchData(),this.refreshInterval)}stop(){this.timer&&(clearInterval(this.timer),this.timer=null)}switchTab(n){this.start(n)}refresh(){this.currentTab&&this.fetchData()}async fetchCustomPane(n,s=!1){if(s&&this.fetchOnceCache[n]!==void 0){this.callbacks.onData(this.fetchOnceCache[n]),this.callbacks.onLoading(!1);return}this.callbacks.onLoading(!0);try{const r=await this.client.fetch(n);this.callbacks.onData(r),this.callbacks.onError(null),s&&(this.fetchOnceCache[n]=r)}catch(r){if(r instanceof he){this.callbacks.onUnauthorized(r);return}this.callbacks.onError(r instanceof Error?r:new Error(String(r)))}finally{this.callbacks.onLoading(!1)}}cacheForTab(n,s){this.fetchOnceCache[n]=s}clearCache(){this.fetchOnceCache={}}async fetchData(){const n=this.currentTab;if(n){if(this.fetchOnceCache[n]!==void 0){this.callbacks.onData(this.fetchOnceCache[n]),this.callbacks.onLoading(!1);return}try{const s=`${this.endpoint}${Vn(n)}`,r=await this.client.fetch(s);this.callbacks.onData(r),this.callbacks.onError(null),this.callbacks.onLoading(!1)}catch(s){if(s instanceof he){this.callbacks.onError(s),this.callbacks.onLoading(!1),this.stop(),this.callbacks.onUnauthorized(s);return}this.callbacks.onError(s instanceof Error?s:new Error(String(s))),this.callbacks.onLoading(!1)}}}}function F(e,n={}){const{baseUrl:s="",debugEndpoint:r="/admin/api/debug",authToken:i}=n,[l,o]=x(null),[h,c]=x(!0),[a,p]=x(null),d=B(null);d.current||(d.current=new Wn({baseUrl:s,endpoint:r,authToken:i,onData:m=>o(m),onLoading:m=>c(m),onError:m=>p(m),onUnauthorized:m=>p(m)})),z(()=>{const m=d.current;return m.start(e),()=>m.stop()},[e]);const u=S(()=>{d.current?.refresh()},[]),f=S(()=>{o(null)},[]),_=S((m,y)=>{d.current?.cacheForTab(m,y)},[]);return{data:l,isLoading:h,error:a,refresh:u,clearData:f,cacheForTab:_}}const qn="ss-col-resize",vt="ss-resizing";function wt(e){const n=Array.from(e.querySelectorAll("thead th"));if(n.length===0)return()=>{};const s=[];let r=!1;function i(){if(!r){r=!0;for(const l of n)l.style.width=l.offsetWidth+"px";e.style.tableLayout="fixed"}}for(const l of n){let o=function(c){c.preventDefault(),c.stopPropagation(),i();const a=c.clientX,p=l.offsetWidth;h.classList.add(vt),h.setPointerCapture(c.pointerId);function d(f){const _=f.clientX-a,m=Math.max(30,p+_);l.style.width=m+"px"}function u(){h.classList.remove(vt),h.removeEventListener("pointermove",d),h.removeEventListener("pointerup",u)}h.addEventListener("pointermove",d),h.addEventListener("pointerup",u)};if(!l.textContent?.trim())continue;const h=document.createElement("div");h.className=qn,l.appendChild(h),h.addEventListener("pointerdown",o),s.push(()=>{h.removeEventListener("pointerdown",o),h.remove()})}return()=>{for(const l of s)l()}}function W(e=[]){const n=B(null),s=B(null);return z(()=>(n.current&&(s.current?.(),s.current=wt(n.current)),()=>{s.current?.(),s.current=null}),e),S(i=>{s.current?.(),s.current=null,n.current=i,i&&(s.current=wt(i))},[])}function Nt({options:e}){const{data:n,isLoading:s,error:r}=F("queries",e),[i,l]=x(""),[o,h]=x(null),c=T(()=>n?.queries||[],[n]),a=T(()=>Fn(c,i),[c,i]),p=T(()=>Un(c),[c]),d=T(()=>Hn(c,p),[c,p]),u=S(_=>{h(m=>m===_?null:_)},[]),f=W([a]);return s&&!n?t("div",{className:"ss-dbg-empty",children:"Loading queries..."}):r?t("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter queries...",value:i,onChange:_=>l(_.target.value)}),t("span",{className:"ss-dbg-summary",children:[a.length," queries",d.slowCount>0&&` | ${d.slowCount} slow`,d.dupCount>0&&` | ${d.dupCount} dup`,a.length>0&&` | avg ${j(d.avgDuration)}`]})]}),a.length===0?t("div",{className:"ss-dbg-empty",children:"No queries captured"}):t("table",{ref:f,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"70px"}}),t("col",{style:{width:"100px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"SQL"}),t("th",{children:"Duration"}),t("th",{children:"Method"}),t("th",{children:"Model"}),t("th",{children:"Time"})]})}),t("tbody",{children:a.map(_=>t("tr",{children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:_.id}),t("td",{children:[t("span",{className:`ss-dbg-sql ${o===_.id?"ss-dbg-expanded":""}`,onClick:()=>u(_.id),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&u(_.id),children:_.sql}),p[_.sql]>1&&t("span",{className:"ss-dbg-dup",children:[" x",p[_.sql]]}),_.inTransaction&&t("span",{className:"ss-dbg-dup",children:" TXN"})]}),t("td",{className:`ss-dbg-duration ${Q(_.duration)==="very-slow"?"ss-dbg-very-slow":Q(_.duration)==="slow"?"ss-dbg-slow":""}`,children:j(_.duration)}),t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${_.method.toLowerCase()}`,children:_.method})}),t("td",{className:"ss-dbg-c-muted",children:_.model||"-"}),t("td",{className:"ss-dbg-event-time",title:V(_.timestamp),children:R(_.timestamp)})]},_.id))})]})]})}const Jn=Object.freeze(Object.defineProperty({__proto__:null,QueriesTab:Nt,default:Nt},Symbol.toStringTag,{value:"Module"}));function Ee({data:e,maxPreviewLength:n=100,className:s="",classPrefix:r="ss-dash"}){const[i,l]=x(!1),o=T(()=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},[e]),h=T(()=>typeof o=="object"&&o!==null?fe(o,n):String(o??"-"),[o,n]),c=T(()=>typeof o=="object"&&o!==null?JSON.stringify(o,null,2):String(o),[o]),a=S(()=>{l(d=>!d)},[]),p=S(async()=>{try{await navigator.clipboard.writeText(c)}catch{}},[c]);return!e&&e!==0&&e!==!1?t("span",{className:`ss-dim ${r}-c-dim`,children:"-"}):t("div",{className:`${r}-data-cell ${s}`,children:[t("span",{className:`${r}-data-preview`,onClick:a,role:"button",tabIndex:0,onKeyDown:d=>d.key==="Enter"&&a(),children:h}),i&&t("div",{className:`${r}-data-full`,onClick:a,children:[t("button",{className:`${r}-copy-btn`,onClick:d=>{d.stopPropagation(),p()},title:"Copy to clipboard",type:"button",children:"Copy"}),t("pre",{children:c})]})]})}function xt({options:e}){const{data:n,isLoading:s,error:r}=F("events",e),[i,l]=x(""),o=T(()=>{const c=n?.events||[];if(!i)return c;const a=i.toLowerCase();return c.filter(p=>(p.event||"").toLowerCase().includes(a)||(p.data||"").toLowerCase().includes(a))},[n,i]),h=W([o]);return s&&!n?t("div",{className:"ss-dbg-empty",children:"Loading events..."}):r?t("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter events...",value:i,onChange:c=>l(c.target.value)}),t("span",{className:"ss-dbg-summary",children:[o.length," events"]})]}),o.length===0?t("div",{className:"ss-dbg-empty",children:"No events captured"}):t("table",{ref:h,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"20%"}}),t("col",{}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"Event"}),t("th",{children:"Data"}),t("th",{children:"Time"})]})}),t("tbody",{children:o.map(c=>{const a=c.timestamp||c.created_at||c.createdAt;return t("tr",{children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:c.id}),t("td",{className:"ss-dbg-event-name",children:c.event}),t("td",{className:"ss-dbg-event-data",children:t(Ee,{data:c.data,maxPreviewLength:80,classPrefix:"ss-dbg"})}),t("td",{className:"ss-dbg-event-time",title:V(a),children:R(a)})]},c.id)})})]})]})}const Kn=Object.freeze(Object.defineProperty({__proto__:null,EventsTab:xt,default:xt},Symbol.toStringTag,{value:"Module"}));function $t({options:e}){const{data:n,isLoading:s,error:r}=F("emails",e),[i,l]=x(""),[o,h]=x(null),c=T(()=>{const f=n?.emails||[];if(!i)return f;const _=i.toLowerCase();return f.filter(m=>(m.subject||"").toLowerCase().includes(_)||(m.to||"").toLowerCase().includes(_)||(m.from||"").toLowerCase().includes(_)||(m.mailer||"").toLowerCase().includes(_))},[n,i]),a=T(()=>c.find(f=>f.id===o),[c,o]),p=S(()=>h(null),[]),d={sent:"ss-dbg-email-status-sent",sending:"ss-dbg-email-status-sending",queued:"ss-dbg-email-status-queued",failed:"ss-dbg-email-status-failed"},u=W([c]);return s&&!n?t("div",{className:"ss-dbg-empty",children:"Loading emails..."}):r?t("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):a?t("div",{className:"ss-dbg-email-preview",children:[t("div",{className:"ss-dbg-email-preview-header",children:[t("div",{className:"ss-dbg-email-preview-meta",children:[t("div",{children:[t("strong",{children:"Subject:"})," ",a.subject]}),t("div",{children:[t("strong",{children:"From:"})," ",a.from]}),t("div",{children:[t("strong",{children:"To:"})," ",a.to]}),a.cc&&t("div",{children:[t("strong",{children:"CC:"})," ",a.cc]})]}),t("button",{className:"ss-dbg-btn-clear",onClick:p,type:"button",children:"Ã—"})]}),a.html?t("iframe",{className:"ss-dbg-email-iframe",srcDoc:a.html,title:"Email preview",sandbox:""}):t("div",{style:{padding:"12px",whiteSpace:"pre-wrap"},children:a.text||"No content"})]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter emails...",value:i,onChange:f=>l(f.target.value)}),t("span",{className:"ss-dbg-summary",children:[c.length," emails"]})]}),c.length===0?t("div",{className:"ss-dbg-empty",children:"No emails captured"}):t("table",{ref:u,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"140px"}}),t("col",{style:{width:"140px"}}),t("col",{}),t("col",{style:{width:"70px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"40px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"From"}),t("th",{children:"To"}),t("th",{children:"Subject"}),t("th",{children:"Status"}),t("th",{children:"Mailer"}),t("th",{title:"Attachments",children:"ðŸ“Ž"}),t("th",{children:"Time"})]})}),t("tbody",{children:c.map(f=>t("tr",{className:"ss-dbg-email-row",onClick:()=>h(f.id),children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:f.id}),t("td",{className:"ss-dbg-c-secondary",title:f.from,children:f.from}),t("td",{className:"ss-dbg-c-secondary",title:f.to,children:f.to}),t("td",{className:"ss-dbg-c-sql",children:f.subject}),t("td",{children:t("span",{className:`ss-dbg-email-status ${d[f.status]||""}`,children:f.status})}),t("td",{className:"ss-dbg-c-muted",children:f.mailer}),t("td",{className:"ss-dbg-c-dim",style:{textAlign:"center"},children:f.attachmentCount>0?f.attachmentCount:"-"}),t("td",{className:"ss-dbg-event-time",title:V(f.timestamp||f.created_at||f.createdAt),children:R(f.timestamp||f.created_at||f.createdAt)})]},f.id))})]})]})}const Qn=Object.freeze(Object.defineProperty({__proto__:null,EmailsTab:$t,default:$t},Symbol.toStringTag,{value:"Module"}));function kt({options:e,currentPath:n}){const{data:s,isLoading:r,error:i}=F("routes",e),[l,o]=x(""),h=T(()=>{const a=s?.routes||[];if(!l)return a;const p=l.toLowerCase();return a.filter(d=>d.pattern.toLowerCase().includes(p)||d.handler.toLowerCase().includes(p)||d.method.toLowerCase().includes(p)||d.name&&d.name.toLowerCase().includes(p))},[s,l]),c=W([h]);return r&&!s?t("div",{className:"ss-dbg-empty",children:"Loading routes..."}):i?t("div",{className:"ss-dbg-empty",children:["Error: ",i.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter routes...",value:l,onChange:a=>o(a.target.value)}),t("span",{className:"ss-dbg-summary",children:[h.length," routes"]})]}),h.length===0?t("div",{className:"ss-dbg-empty",children:"No routes found"}):t("table",{ref:c,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"70px"}}),t("col",{style:{width:"25%"}}),t("col",{style:{width:"15%"}}),t("col",{}),t("col",{style:{width:"20%"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"Method"}),t("th",{children:"Pattern"}),t("th",{children:"Name"}),t("th",{children:"Handler"}),t("th",{children:"Middleware"})]})}),t("tbody",{children:h.map((a,p)=>{const d=n&&(a.pattern===n||new RegExp("^"+a.pattern.replace(/:[^/]+/g,"[^/]+")+"$").test(n));return t("tr",{className:d?"ss-dbg-current-route":"",children:[t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${a.method.toLowerCase()}`,children:a.method})}),t("td",{className:"ss-dbg-c-text",children:a.pattern}),t("td",{className:"ss-dbg-c-muted",children:a.name||"-"}),t("td",{className:"ss-dbg-c-sql",children:a.handler}),t("td",{className:"ss-dbg-c-dim",style:{fontSize:"10px"},children:a.middleware.length>0?a.middleware.join(", "):"-"})]},`${a.method}-${a.pattern}-${p}`)})})]})]})}const Gn=Object.freeze(Object.defineProperty({__proto__:null,RoutesTab:kt,default:kt},Symbol.toStringTag,{value:"Module"})),Xn=["all","error","warn","info","debug"];function Ct(e){return(e.levelName||e.level_name||(typeof e.level=="string"?e.level:"")||"info").toLowerCase()}function St(e){return e.msg||e.message||JSON.stringify(e)}function Yn(e){return e.createdAt||e.created_at||e.time||e.timestamp||0}function Tt(e){const n=e.data||{};return e.requestId||e.request_id||e["x-request-id"]||n.requestId||n.request_id||n["x-request-id"]||""}function Zn(e,n="ss-dbg-log-level"){switch(e){case"error":case"fatal":return`${n}-error`;case"warn":return`${n}-warn`;case"info":return`${n}-info`;case"debug":return`${n}-debug`;case"trace":return`${n}-trace`;default:return`${n}-info`}}function es(e,n){return n==="all"?e:e.filter(s=>{const r=Ct(s);return n==="error"?r==="error"||r==="fatal":r===n})}function Lt({options:e}){const{data:n,isLoading:s,error:r}=F("logs",e),[i,l]=x("all"),[o,h]=x(""),[c,a]=x(""),p=T(()=>{let u=Array.isArray(n)?n:n?.logs||n?.entries||[];if(u=es(u,i),c){const f=c.toLowerCase();u=u.filter(_=>Tt(_).toLowerCase().includes(f))}if(o){const f=o.toLowerCase();u=u.filter(_=>St(_).toLowerCase().includes(f))}return u},[n,i,o,c]),d=S(u=>{a(f=>f===u?"":u)},[]);return s&&!n?t("div",{className:"ss-dbg-empty",children:"Loading logs..."}):r?t("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):t("div",{children:[t("div",{className:"ss-dbg-log-filters",children:[Xn.map(u=>t("button",{type:"button",className:`ss-dbg-log-filter ${i===u?"ss-dbg-active":""}`,onClick:()=>l(u),children:u},u)),c&&t("button",{type:"button",className:"ss-dbg-log-filter ss-dbg-active",onClick:()=>a(""),children:["req: ",c.slice(0,8)," x"]}),t("span",{className:"ss-dbg-summary",style:{marginLeft:"auto"},children:[p.length," entries"]})]}),t("div",{className:"ss-dbg-search-bar",children:t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter log messages...",value:o,onChange:u=>h(u.target.value)})}),t("div",{style:{overflow:"auto",flex:1},children:p.length===0?t("div",{className:"ss-dbg-empty",children:"No log entries"}):p.slice(-200).reverse().map((u,f)=>{const _=Ct(u),m=St(u),y=Yn(u),b=Tt(u);return t("div",{className:"ss-dbg-log-entry",children:[t("span",{className:`ss-dbg-log-level ${Zn(_)}`,children:_.toUpperCase()}),t("span",{className:"ss-dbg-log-time",title:y?V(y):"",children:y?R(y):"-"}),b?t("span",{className:"ss-dbg-log-reqid",onClick:()=>d(b),role:"button",tabIndex:0,title:b,onKeyDown:g=>g.key==="Enter"&&d(b),children:b.slice(0,8)}):t("span",{className:"ss-dbg-log-reqid-empty",children:"-"}),t("span",{className:"ss-dbg-log-msg",children:m})]},f)})})]})}const ts=Object.freeze(Object.defineProperty({__proto__:null,LogsTab:Lt,default:Lt},Symbol.toStringTag,{value:"Module"}));function Et(e="",n){const s=B(null);return S(()=>(s.current||(s.current=new Se({baseUrl:e,authToken:n})),s.current),[e,n])}const At={request:"#1e3a5f",middleware:"rgba(30, 58, 95, 0.7)",db:"#6d28d9",view:"#0e7490",mail:"#059669",event:"#b45309",custom:"#525252"},ns=[{label:"Request",color:"#1e3a5f"},{label:"Middleware",color:"rgba(30, 58, 95, 0.7)"},{label:"Database",color:"#6d28d9"},{label:"View",color:"#0e7490"},{label:"Mail",color:"#059669"},{label:"Event",color:"#b45309"}];function Pt({options:e}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=e||{},{data:i,isLoading:l,error:o}=F("timeline",e),[h,c]=x(""),[a,p]=x(null),[d,u]=x(null),[f,_]=x(!1),[m,y]=x(null),b=T(()=>{const w=i?.traces||[];if(!h)return w;const P=h.toLowerCase();return w.filter($=>$.url.toLowerCase().includes(P)||$.method.toLowerCase().includes(P)||String($.statusCode).includes(P))},[i,h]),g=Et(n,r);z(()=>{if(a===null){u(null),y(null);return}let w=!1;return _(!0),y(null),g().get(`${s}/traces/${a}`).then($=>{w||(u($),_(!1))}).catch($=>{w||(y($ instanceof Error?$.message:"Failed to load trace"),_(!1))}),()=>{w=!0}},[a,s,g]);const k=S(w=>{p(P=>P===w?null:w)},[]),C=S(w=>w>=500?"ss-dbg-status-5xx":w>=400?"ss-dbg-status-4xx":w>=300?"ss-dbg-status-3xx":"ss-dbg-status-2xx",[]),v=W([b]);if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading traces..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(a!==null){if(f)return t("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});if(m)return t("div",{children:[t("div",{className:"ss-dbg-tl-detail-header",children:t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:"â† Back"})}),t("div",{className:"ss-dbg-empty",children:["Error: ",m]})]});if(!d)return t("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});const w=d.spans||[],P=d.warnings||[];return t("div",{children:[t("div",{className:"ss-dbg-tl-detail-header",children:[t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:"â† Back"}),t("span",{className:`ss-dbg-method ss-dbg-method-${d.method.toLowerCase()}`,children:d.method}),t("span",{className:"ss-dbg-tl-detail-url",children:d.url}),t("span",{className:`ss-dbg-status ${C(d.statusCode)}`,children:d.statusCode}),t("span",{className:"ss-dbg-tl-meta",children:[j(d.totalDuration)," Â·"," ",d.spanCount," spans"]})]}),t("div",{className:"ss-dbg-tl-legend",children:ns.map($=>t("div",{className:"ss-dbg-tl-legend-item",children:[t("div",{className:"ss-dbg-tl-legend-dot",style:{background:$.color}}),t("span",{children:$.label})]},$.label))}),t("div",{style:{padding:"8px 12px",overflow:"auto"},children:w.length===0?t("div",{className:"ss-dbg-empty",children:"No spans captured for this request"}):w.map($=>{const M=d.totalDuration||1,q=$.startOffset/M*100,Ms=Math.max($.duration/M*100,.5);return t("div",{className:"ss-dbg-tl-row",children:[t("div",{className:"ss-dbg-tl-label",title:$.label,children:$.label}),t("div",{className:"ss-dbg-tl-track",children:t("div",{className:`ss-dbg-tl-bar ss-dbg-tl-bar-${$.category}`,style:{left:`${q}%`,width:`${Ms}%`,background:At[$.category]||At.custom},title:`${$.label}: ${j($.duration)}`})}),t("span",{className:"ss-dbg-tl-dur",children:j($.duration)})]},$.id)})}),P.length>0&&t("div",{className:"ss-dbg-tl-warnings",children:[t("div",{className:"ss-dbg-tl-warnings-title",children:"Warnings"}),P.map(($,M)=>t("div",{className:"ss-dbg-tl-warning",children:$},M))]})]})}return t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter traces...",value:h,onChange:w=>c(w.target.value)}),t("span",{className:"ss-dbg-summary",children:[b.length," traces"]})]}),b.length===0?t("div",{className:"ss-dbg-empty",children:"No traces captured. Enable tracing in config."}):t("table",{ref:v,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"70px"}}),t("col",{}),t("col",{style:{width:"60px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"50px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"Method"}),t("th",{children:"URL"}),t("th",{children:"Status"}),t("th",{children:"Duration"}),t("th",{children:"Spans"}),t("th",{children:"Time"})]})}),t("tbody",{children:b.map(w=>t("tr",{className:"ss-dbg-email-row",onClick:()=>k(w.id),children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:w.id}),t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${w.method.toLowerCase()}`,children:w.method})}),t("td",{title:w.url,children:w.url}),t("td",{children:t("span",{className:`ss-dbg-status ${C(w.statusCode)}`,children:w.statusCode})}),t("td",{className:`ss-dbg-duration ${Q(w.totalDuration)==="very-slow"?"ss-dbg-very-slow":Q(w.totalDuration)==="slow"?"ss-dbg-slow":""}`,children:j(w.totalDuration)}),t("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:w.spanCount}),t("td",{className:"ss-dbg-event-time",title:V(w.timestamp),children:R(w.timestamp)})]},w.id))})]})]})}const ss=Object.freeze(Object.defineProperty({__proto__:null,TimelineTab:Pt,default:Pt},Symbol.toStringTag,{value:"Module"}));function Ae(e,n){const s=T(()=>e?e.replace(/\/+$/,"")+"/api":null,[e]),r=T(()=>s?{...n,debugEndpoint:s}:n,[s,n]);return{dashApiBase:s,resolvedOptions:r}}function Mt({options:e,dashboardPath:n}){const{dashApiBase:s,resolvedOptions:r}=Ae(n,e),{data:i,isLoading:l,error:o}=F("cache",r),[h,c]=x(""),[a,p]=x(null),[d,u]=x(null),f=T(()=>{const g=i?.keys||[];if(!h)return g;const k=h.toLowerCase();return g.filter(C=>C.key.toLowerCase().includes(k))},[i,h]),_=S(async g=>{if(a===g){p(null),u(null);return}p(g);try{const{baseUrl:k="",authToken:C}=e||{},v=s||e?.debugEndpoint||"/admin/api/debug",w=`${k}${v}/cache/${encodeURIComponent(g)}`,P={Accept:"application/json"};C&&(P.Authorization=`Bearer ${C}`);const M=await(await fetch(w,{headers:P,credentials:C?"omit":"same-origin"})).json();u(M)}catch{u({error:"Failed to fetch key value"})}},[a,e,s]),m=W([f]);if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading cache data..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!i)return t("div",{className:"ss-dbg-empty",children:"Cache inspector not available"});const b=i.stats||i;return t("div",{children:[t("div",{className:"ss-dbg-cache-stats",children:[t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Hit Rate:"}),t("span",{className:"ss-dbg-cache-stat-value",children:[b.hitRate!==null&&b.hitRate!==void 0?b.hitRate.toFixed(1):"0","%"]})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Hits:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.totalHits??0})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Misses:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.totalMisses??0})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Keys:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.keyCount??"-"})]})]}),t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter keys...",value:h,onChange:g=>c(g.target.value)}),t("span",{className:"ss-dbg-summary",children:[f.length," keys"]})]}),a&&!!d&&t("div",{className:"ss-dbg-cache-detail",children:[t("strong",{children:a}),t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:["â†"," Back"]}),t(Ee,{data:d,classPrefix:"ss-dbg"})]}),f.length===0?t("div",{className:"ss-dbg-empty",children:"No cache keys found"}):t("table",{ref:m,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"Key"}),t("th",{children:"Type"}),t("th",{children:"TTL"}),t("th",{children:"Size"})]})}),t("tbody",{children:f.map(g=>t("tr",{className:"ss-dbg-email-row",onClick:()=>_(g.key),children:[t("td",{className:"ss-dbg-c-sql",children:g.key}),t("td",{className:"ss-dbg-c-muted",children:g.type}),t("td",{className:"ss-dbg-c-muted",children:g.ttl>0?jn(g.ttl):"-"}),t("td",{className:"ss-dbg-c-dim",children:g.size>0?Rn(g.size):"-"})]},g.key))})]})]})}const rs=Object.freeze(Object.defineProperty({__proto__:null,CacheTab:Mt,default:Mt},Symbol.toStringTag,{value:"Module"})),ls=["all","active","waiting","delayed","completed","failed"];function is(e,n="ss-dbg-job-status"){switch(e){case"completed":case"failed":case"active":case"waiting":case"delayed":return`${n}-${e}`;default:return"ss-dbg-badge-muted"}}function as(e){if(!e)return[];if(Array.isArray(e))return e;const n=e;return n.jobs||n.data||[]}function os(e){if(!e||Array.isArray(e))return null;const n=e;return n.stats||n.overview||null}function Ot({options:e,dashboardPath:n}){const{dashApiBase:s,resolvedOptions:r}=Ae(n,e),{data:i,isLoading:l,error:o}=F("jobs",r),[h,c]=x("all"),[a,p]=x(null),d=T(()=>{const m=as(i);return h==="all"?m:m.filter(y=>y.status===h)},[i,h]),u=S(async m=>{p(m);try{const{baseUrl:y="",authToken:b}=e||{},g=s||e?.debugEndpoint||"/admin/api/debug",k=`${y}${g}/jobs/${m}/retry`,C={Accept:"application/json"};b&&(C.Authorization=`Bearer ${b}`),await fetch(k,{method:"POST",headers:C,credentials:b?"omit":"same-origin"})}catch{}p(null)},[e,s]),f=W([d]);if(!s)return t("div",{className:"ss-dbg-empty",children:"Queue inspector not available (no dashboard configured)"});if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading jobs..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!i)return t("div",{className:"ss-dbg-empty",children:"Queue inspector not available"});const _=os(i);return t("div",{children:[t("div",{className:"ss-dbg-job-stats-area",children:[t("div",{className:"ss-dbg-job-stats",children:[t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Active:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.active??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Waiting:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.waiting??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Delayed:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.delayed??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Completed:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.completed??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Failed:"}),t("span",{className:"ss-dbg-job-stat-value ss-dbg-c-red",children:_?.failed??0})]})]}),t("div",{className:"ss-dbg-log-filters",children:ls.map(m=>t("button",{type:"button",className:`ss-dbg-job-filter ${h===m?"ss-dbg-active":""}`,onClick:()=>c(m),children:m},m))})]}),d.length===0?t("div",{className:"ss-dbg-empty",children:"No jobs found"}):t("table",{ref:f,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"15%"}}),t("col",{style:{width:"80px"}}),t("col",{}),t("col",{style:{width:"50px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"60px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"ID"}),t("th",{children:"Name"}),t("th",{children:"Status"}),t("th",{children:"Payload"}),t("th",{children:"Tries"}),t("th",{children:"Duration"}),t("th",{children:"Time"}),t("th",{})]})}),t("tbody",{children:d.map(m=>{const y=m;return t("tr",{children:[t("td",{className:"ss-dbg-c-dim",children:m.id}),t("td",{className:"ss-dbg-c-sql",title:m.name,children:m.name}),t("td",{children:t("span",{className:`ss-dbg-badge ${is(m.status)}`,children:m.status})}),t("td",{children:t(Ee,{data:m.payload||m.data,maxPreviewLength:60,classPrefix:"ss-dbg"})}),t("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:m.attempts||y.attemptsMade||0}),t("td",{className:"ss-dbg-duration",children:m.duration!==null?j(m.duration):"-"}),t("td",{className:"ss-dbg-event-time",title:V(m.timestamp||m.createdAt||y.processedAt||y.created_at),children:R(m.timestamp||m.createdAt||y.processedAt||y.created_at)}),t("td",{children:m.status==="failed"&&t("button",{type:"button",className:"ss-dbg-retry-btn",onClick:()=>u(m.id),disabled:a===m.id,children:a===m.id?"...":"Retry"})})]},m.id)})})]})]})}const cs=Object.freeze(Object.defineProperty({__proto__:null,JobsTab:Ot,default:Ot},Symbol.toStringTag,{value:"Module"}));function O(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.__redacted===!0}function Pe(e,n=""){if(typeof e!="object"||e===null||e===void 0)return[{path:n,value:e}];if(Array.isArray(e)||O(e))return[{path:n,value:e}];const s=[];for(const r of Object.keys(e)){const i=n?`${n}.${r}`:r,l=e[r];typeof l=="object"&&l!==null&&!Array.isArray(l)&&!O(l)?s.push(...Pe(l,i)):s.push({path:i,value:l})}return s}function Me(e){return e==null?{text:"null",color:"var(--ss-dim)"}:typeof e=="boolean"?{text:String(e),color:e?"var(--ss-green-fg)":"var(--ss-red-fg)"}:typeof e=="number"?{text:String(e),color:"var(--ss-amber-fg)"}:Array.isArray(e)?{text:`[${e.map(s=>s==null?"null":typeof s=="object"?JSON.stringify(s):String(s)).join(", ")}]`,color:"var(--ss-purple-fg)"}:typeof e=="object"?{text:JSON.stringify(e),color:"var(--ss-dim)"}:{text:String(e)}}function It(e){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return 1;let n=0;for(const s of Object.keys(e))n+=It(e[s]);return n}function ds(e){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return[];const n=[];for(const s of Object.keys(e)){const r=e[s];r!==null&&typeof r=="object"&&!Array.isArray(r)&&!O(r)&&n.push(s)}return n}function pe(e,n,s){n&&navigator.clipboard.writeText(e).then(()=>{const r=n.textContent;n.textContent="âœ“",n.classList.add(`${s}-copy-row-ok`),setTimeout(()=>{n.textContent=r,n.classList.remove(`${s}-copy-row-ok`)},1200)}).catch(()=>{})}function _e({redacted:e,p:n}){const[s,r]=x(!1);return t("span",{className:`${n}-config-redacted`,style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[t("span",{children:s?e.value:e.display}),t("button",{type:"button",className:`${n}-btn`,title:s?"Hide":"Reveal",style:{padding:"0 4px",fontSize:"0.85em",lineHeight:1,minWidth:"auto"},onClick:i=>{i.stopPropagation(),r(l=>!l)},children:s?t("svg",{width:"14",height:"14",viewBox:A["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["eye-off"].elements.join("")}}):t("svg",{width:"14",height:"14",viewBox:A.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.eye.elements.join("")}})})]})}function hs({env:e,search:n,p:s}){const r=B(new Map),i=n.toLowerCase(),l=Object.entries(e).filter(([o,h])=>{if(!i)return!0;const c=O(h)?h.display:h==null?"":String(h);return o.toLowerCase().includes(i)||c.toLowerCase().includes(i)});return t("div",{className:`${s}-config-table-wrap`,children:t("table",{className:`${s}-table ${s}-config-env-table`,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Variable"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:[l.map(([o,h])=>{const c=O(h),a=c?h.display:h==null?"null":String(h),p=`${o}=${a}`;return t("tr",{children:[t("td",{className:`${s}-env-key`,children:t("span",{className:`${s}-config-key`,children:o})}),t("td",{className:`${s}-env-val`,children:c?t(_e,{redacted:h,p:s}):t("span",{className:`${s}-config-val`,children:a})}),t("td",{children:!c&&t("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:d=>{r.current.set(o,d)},onClick:d=>{d.stopPropagation(),pe(p,r.current.get(o)??null,s)},children:"âŽ˜"})})]},o)}),l.length===0&&t("tr",{children:t("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching variables"})})]})]})})}function us({source:e,search:n,p:s}){const r=B(new Map),i=n.toLowerCase(),l=Pe(e,""),o=l.filter(h=>{const c=O(h.value)?h.value.display:h.value===null||h.value===void 0?"":String(h.value);return h.path.toLowerCase().includes(i)||c.toLowerCase().includes(i)});return t("div",{className:`${s}-config-table-wrap`,children:[t("table",{className:`${s}-table`,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Path"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:[o.map(h=>{const c=O(h.value),a=c?null:Me(h.value),p=c?h.value.display:a.text,d=`${h.path}: ${p}`;return t("tr",{children:[t("td",{children:t("span",{className:`${s}-config-key`,style:{whiteSpace:"nowrap"},children:h.path})}),t("td",{children:c?t(_e,{redacted:h.value,p:s}):t("span",{className:`${s}-config-val`,style:{wordBreak:"break-all",color:a.color},children:a.text})}),t("td",{children:!c&&t("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:u=>{r.current.set(h.path,u)},onClick:u=>{u.stopPropagation(),pe(d,r.current.get(h.path)??null,s)},children:"âŽ˜"})})]},h.path)}),o.length===0&&t("tr",{children:t("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching entries"})})]})]}),t("div",{style:{padding:"4px 16px",fontSize:"10px",color:"var(--ss-muted)"},children:[o.length," of ",l.length," entries"]})]})}function fs({obj:e,prefix:n,p:s}){const r=B(new Map),i=Pe(e,n);return t("table",{className:`${s}-table ${s}-config-inner-table`,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"35%"},children:"Key"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:i.map(l=>{const o=l.path.indexOf(n+".")===0?l.path.slice(n.length+1):l.path,h=O(l.value),c=h?null:Me(l.value),a=h?l.value.display:c.text,p=`${l.path}: ${a}`;return t("tr",{children:[t("td",{title:o,children:t("span",{className:`${s}-config-key`,children:o})}),t("td",{title:a,children:h?t(_e,{redacted:l.value,p:s}):t("span",{className:`${s}-config-val`,style:{color:c.color},children:c.text})}),t("td",{children:!h&&t("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:d=>{r.current.set(l.path,d)},onClick:d=>{d.stopPropagation(),pe(p,r.current.get(l.path)??null,s)},children:"âŽ˜"})})]},l.path)})})]})}function ps({value:e,p:n}){if(e==null)return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:"null"});if(O(e))return t(_e,{redacted:e,p:n});if(typeof e=="boolean")return t("span",{className:`${n}-config-val`,style:{color:e?"var(--ss-green-fg)":"var(--ss-red-fg)"},children:String(e)});if(typeof e=="number")return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-amber-fg)"},children:String(e)});if(Array.isArray(e)){const s=e.map(r=>r==null?"null":typeof r=="object"?JSON.stringify(r):String(r));return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-purple-fg)"},children:["[",s.join(", "),"]"]})}return typeof e=="object"?t("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:JSON.stringify(e)}):t("span",{className:`${n}-config-val`,children:String(e)})}function _s({obj:e,expandedPaths:n,onToggle:s,p:r}){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return null;const i=Object.keys(e),l=B(new Map);return t("div",{className:`${r}-config-sections`,children:i.map(o=>{const h=e[o],c=h!==null&&typeof h=="object"&&!Array.isArray(h)&&!O(h),a=n.has(o),p=O(h);return t("div",{className:`${r}-config-section`,children:[t("div",{className:`${r}-config-section-header${c?"":` ${r}-config-leaf`}`,onClick:c?()=>s(o):void 0,style:{cursor:c?"pointer":"default"},children:[c?t("span",{className:`${r}-config-toggle`,children:a?"â–¼":"â–¶"}):t("span",{className:`${r}-config-toggle`,style:{visibility:"hidden"},children:"â€¢"}),t("span",{className:`${r}-config-key`,children:o}),c?t("span",{className:`${r}-config-count`,children:[It(h)," entries"]}):t(I,{children:[t("span",{className:`${r}-config-val`,style:{marginLeft:"8px"},children:t(ps,{value:h,p:r})}),!p&&t("button",{type:"button",className:`${r}-copy-row-btn`,style:{marginLeft:"4px"},title:"Copy",ref:d=>{l.current.set(o,d)},onClick:d=>{d.stopPropagation();const u=Me(h);pe(`${o}: ${u.text}`,l.current.get(o)??null,r)},children:"âŽ˜"})]})]}),c&&a&&t("div",{className:`${r}-config-section-body`,children:t(fs,{obj:h,prefix:o,p:r})})]},o)})})}function ms({data:e,isLoading:n,classPrefix:s}){const r=s,[i,l]=x(""),[o,h]=x(""),[c,a]=x("app"),[p,d]=x(new Set),[u,f]=x("Copy JSON");z(()=>{const k=setTimeout(()=>h(i),200);return()=>clearTimeout(k)},[i]);const _=e,m=S(k=>{d(C=>{const v=new Set(C);return v.has(k)?v.delete(k):v.add(k),v})},[]),y=S(()=>{if(!_)return;const k=c==="app"?_.app:_.env;if(!k)return;const C=ds(k);d(new Set(C))},[_,c]),b=S(()=>{d(new Set)},[]),g=S(async()=>{if(_)try{const k=c==="app"?_.app:_.env;await navigator.clipboard.writeText(JSON.stringify(k,null,2)),f("Copied!"),setTimeout(()=>f("Copy JSON"),1500)}catch{}},[_,c]);return t("div",{children:[t("div",{className:`${r}-config-toolbar`,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px"},children:[t("button",{type:"button",className:`${r}-config-tab${c==="app"?` ${r}-active`:""}`,onClick:()=>a("app"),children:"App Config"}),t("button",{type:"button",className:`${r}-config-tab${c==="env"?` ${r}-active`:""}`,onClick:()=>a("env"),children:"Env"}),t("div",{style:{position:"relative",flex:1},children:[t("input",{type:"text",className:`${r}-search`,placeholder:"Search keys and values...",value:i,onChange:k=>l(k.target.value),style:{width:"100%"}}),i&&t("button",{type:"button",onClick:()=>l(""),style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"14px",color:"var(--ss-dim)",padding:"0 2px",lineHeight:1},children:"Ã—"})]}),c==="app"&&!o&&t(I,{children:[t("button",{type:"button",className:`${r}-btn`,onClick:y,children:"Expand All"}),t("button",{type:"button",className:`${r}-btn`,onClick:b,children:"Collapse All"})]}),t("button",{type:"button",className:`${r}-btn`,onClick:g,children:u})]}),n&&!e?t("div",{className:`${r}-empty`,children:"Loading config..."}):_?c==="env"?t(hs,{env:_.env??{},search:o,p:r}):o?t(us,{source:_.app??{},search:o,p:r}):t("div",{className:`${r}-config-table-wrap`,children:t(_s,{obj:_.app,expandedPaths:p,onToggle:m,p:r})}):t("div",{className:`${r}-empty`,children:"Config not available"})]})}function Dt({options:e,dashboardPath:n}){const{resolvedOptions:s}=Ae(n,e),{data:r,isLoading:i,error:l}=F("config",s);return l?t("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):t(ms,{data:r,isLoading:i,classPrefix:"ss-dbg"})}const gs=Object.freeze(Object.defineProperty({__proto__:null,ConfigTab:Dt,default:Dt},Symbol.toStringTag,{value:"Module"})),bs=["password","secret","token","key","credential","auth"];function Bt(e){const n=e.toLowerCase();return bs.some(s=>n.includes(s))}function jt(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e))return e.join(", ")||"-";try{return JSON.stringify(e)}catch{return String(e)}}const ys={collectionInterval:"Stats Collection",dashboardBroadcast:"Dashboard Broadcast",debugBroadcast:"Debug Broadcast",persistFlush:"Persist Flush",retentionCleanup:"Retention Cleanup"};function vs(e){return ys[e]||e}const ws={prometheus:"Prometheus",pinoHook:"Pino Log Hook",edgePlugin:"Edge Plugin",cacheInspector:"Cache Inspector",queueInspector:"Queue Inspector"};function Ns(e){return ws[e]||e}const xs=["healthy","active","connected","available","ready"],$s=["errored","unavailable"];function ks(e){return xs.includes(e)?"ok":$s.includes(e)?"err":""}function ee({status:e,prefix:n}){const s=ks(e);let r=`${n}-dot`;return s==="ok"?r+=` ${n}-dot-ok`:s==="err"&&(r+=` ${n}-dot-err`),t("span",{className:r})}const Rt=()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:A.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.eye.elements.join("")}}),Ft=()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:A["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["eye-off"].elements.join("")}});function Cs({value:e}){const[n,s]=x(!1);return t("span",{children:[n?e:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",t("button",{type:"button",onClick:()=>s(r=>!r),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:n?t(Ft,{}):t(Rt,{})})]})}function Ss({current:e,max:n,prefix:s}){const r=n>0?Math.min(100,Math.round(e/n*100)):0,i=r>=100;return t("div",{className:`${s}-bar`,children:[t("div",{className:`${s}-bar-track`,children:t("div",{className:`${s}-bar-fill${i?` ${s}-bar-fill-warn`:""}`,style:{width:`${r}%`}})}),t("span",{className:`${s}-bar-pct${i?` ${s}-bar-pct-warn`:""}`,children:[r,"%"]})]})}function Ts({config:e,prefix:n}){const s=Object.entries(e);return s.length===0?t("span",{className:`${n}-c-dim`,children:"-"}):t("span",{className:`${n}-c-muted`,children:s.map(([r,i],l)=>t("span",{children:[l>0&&", ",t("span",{className:`${n}-c-dim`,children:r}),"=",Bt(r)&&typeof i=="string"?t(Cs,{value:i}):t("span",{children:jt(i)})]},r))})}function me({label:e,value:n,prefix:s}){return t("div",{className:`${s}-info-card`,children:[t("span",{className:`${s}-info-card-label`,children:e}),t("span",{className:`${s}-info-card-value`,children:n})]})}function Ls({data:e,tableClassName:n,classPrefix:s}){const r=s||"ss-dash",[i,l]=x(new Set),o=S(c=>{l(a=>{const p=new Set(a);return p.has(c)?p.delete(c):p.add(c),p})},[]),h=S((c,a)=>{if(a==null)return t("span",{className:`${r}-c-dim`,children:"null"});if(typeof a=="boolean")return t("span",{className:a?`${r}-c-green`:`${r}-c-red`,children:String(a)});if(Array.isArray(a))return t("span",{children:a.join(", ")||"-"});const p=jt(a);if(Bt(c)){const d=i.has(c);return t("span",{children:[d?p:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",t("button",{type:"button",onClick:()=>o(c),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:d?t(Ft,{}):t(Rt,{})})]})}return t("span",{children:p})},[i,o,r]);return t("div",{children:[t("h3",{className:`${r}-internals-title`,children:"Package Info"}),t("div",{className:`${r}-info-cards`,children:[t(me,{label:"Version",value:e.package.version||"-",prefix:r}),t(me,{label:"Node.js",value:e.package.nodeVersion||"-",prefix:r}),t(me,{label:"AdonisJS",value:e.package.adonisVersion||"-",prefix:r}),t(me,{label:"Uptime",value:Bn(e.package.uptime),prefix:r})]}),e.collectors.length>0&&t(I,{children:[t("h3",{className:`${r}-internals-title`,children:"Collectors"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Collector"}),t("th",{children:"Status"}),t("th",{children:"Last Error"}),t("th",{children:"Config"})]})}),t("tbody",{children:e.collectors.map(c=>t("tr",{children:[t("td",{children:[t("code",{children:c.name}),c.label&&c.label!==c.name&&t("span",{className:`${r}-c-dim`,children:[" ",c.label]})]}),t("td",{children:[t(ee,{status:c.status,prefix:r}),c.status]}),t("td",{className:c.lastError?`${r}-c-red`:`${r}-c-dim`,children:c.lastError?t(I,{children:[c.lastError,c.lastErrorAt&&t("span",{className:`${r}-c-dim`,style:{fontSize:"10px"},children:R(c.lastErrorAt)})]}):"-"}),t("td",{children:t(Ts,{config:c.config,prefix:r})})]},c.name))})]})]}),t("h3",{className:`${r}-internals-title`,children:"Buffers"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Buffer"}),t("th",{children:"Usage"}),t("th",{children:"Fill %"})]})}),t("tbody",{children:Object.entries(e.buffers).map(([c,a])=>t("tr",{children:[t("td",{style:{textTransform:"capitalize"},children:c}),t("td",{children:[a.current.toLocaleString()," / ",a.max.toLocaleString()]}),t("td",{children:t(Ss,{current:a.current,max:a.max,prefix:r})})]},c))})]}),t("h3",{className:`${r}-internals-title`,children:"Timers"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Timer"}),t("th",{children:"Status"}),t("th",{children:"Interval"})]})}),t("tbody",{children:Object.entries(e.timers).map(([c,a])=>t("tr",{children:[t("td",{children:vs(c)}),t("td",{children:[t(ee,{status:a.active?"active":"inactive",prefix:r}),t("span",{className:a.active?`${r}-c-green`:`${r}-c-dim`,children:a.active?"active":"inactive"})]}),t("td",{children:a.active?a.intervalMs?j(a.intervalMs):a.debounceMs?`${j(a.debounceMs)} (debounce)`:"-":t("span",{className:`${r}-c-dim`,children:"â€”"})})]},c))})]}),t("h3",{className:`${r}-internals-title`,children:"Integrations"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Integration"}),t("th",{children:"Status"}),t("th",{children:"Details"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"Transmit (SSE)"}),t("td",{children:[t(ee,{status:e.transmit.available?"connected":"inactive",prefix:r}),e.transmit.available?"connected":"unavailable"]}),t("td",{style:{fontSize:"11px"},children:e.transmit.channels.length>0?`Channels: ${e.transmit.channels.join(", ")}`:"-"})]}),Object.entries(e.integrations).map(([c,a])=>{const p=a.active??a.available??!1,d=a.active?"active":a.available?"available":"unavailable";let u=a.mode?`Mode: ${a.mode}`:"-";return c==="edgePlugin"&&a.active?u="@serverStats() tag registered":c==="cacheInspector"&&a.available?u="Redis dependency detected":c==="queueInspector"&&a.available&&(u="Queue dependency detected"),t("tr",{children:[t("td",{children:Ns(c)}),t("td",{children:[t(ee,{status:p?"active":"inactive",prefix:r}),d]}),t("td",{className:`${r}-c-dim`,style:{fontSize:"11px"},children:u})]},c)})]})]}),e.storage&&t(I,{children:[t("h3",{className:`${r}-internals-title`,children:"Storage (SQLite)"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Metric"}),t("th",{children:"Value"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"Status"}),t("td",{children:[t(ee,{status:e.storage.ready?"ready":"inactive",prefix:r}),e.storage.ready?"ready":"not ready"]})]}),t("tr",{children:[t("td",{children:"DB Path"}),t("td",{children:t("code",{children:e.storage.dbPath})})]}),t("tr",{children:[t("td",{children:"File Size"}),t("td",{children:[e.storage.fileSizeMb.toFixed(1)," MB"]})]}),t("tr",{children:[t("td",{children:"WAL Size"}),t("td",{children:[e.storage.walSizeMb.toFixed(1)," MB"]})]}),t("tr",{children:[t("td",{children:"Retention"}),t("td",{children:[e.storage.retentionDays," days"]})]}),t("tr",{children:[t("td",{children:"Last Cleanup"}),t("td",{children:e.storage.lastCleanupAt?R(e.storage.lastCleanupAt):"-"})]})]})]}),e.storage.tables.length>0&&t("table",{className:n,style:{marginTop:8},children:[t("thead",{children:t("tr",{children:[t("th",{children:"Table"}),t("th",{children:"Rows"})]})}),t("tbody",{children:e.storage.tables.map(c=>t("tr",{children:[t("td",{children:t("code",{children:c.name})}),t("td",{children:c.rowCount.toLocaleString()})]},c.name))})]})]}),t("h3",{className:`${r}-internals-title`,children:"Resolved Config"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Setting"}),t("th",{children:"Value"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"intervalMs"}),t("td",{children:e.config.intervalMs})]}),t("tr",{children:[t("td",{children:"transport"}),t("td",{children:e.config.transport})]}),t("tr",{children:[t("td",{children:"channelName"}),t("td",{children:e.config.channelName})]}),t("tr",{children:[t("td",{children:"endpoint"}),t("td",{children:e.config.endpoint===!1?"false":e.config.endpoint})]}),t("tr",{children:[t("td",{children:"skipInTest"}),t("td",{children:h("skipInTest",e.config.skipInTest)})]}),t("tr",{children:[t("td",{children:"onStats callback"}),t("td",{children:e.config.hasOnStatsCallback?"defined":"not defined"})]}),t("tr",{children:[t("td",{children:"shouldShow callback"}),t("td",{children:e.config.hasShouldShowCallback?"defined":"not defined"})]})]})]}),t("h4",{className:`${r}-internals-title`,children:"DevToolbar"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Setting"}),t("th",{children:"Value"})]})}),t("tbody",{children:Object.entries(e.devToolbar).map(([c,a])=>t("tr",{children:[t("td",{children:c==="customPaneCount"?"customPanes":c}),t("td",{children:c==="customPaneCount"?`${a} registered`:h(c,a)})]},c))})]})]})}const Es=3e3;function Ut({options:e}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=e||{},[i,l]=x(null),[o,h]=x(!0),[c,a]=x(null),p=B(null),d=Et(n,r),u=S(async()=>{try{const _=await d().get(`${s}/diagnostics`);l(_),a(null),h(!1)}catch(f){if(f instanceof he){a(f),h(!1),p.current&&(clearInterval(p.current),p.current=null);return}a(f instanceof Error?f:new Error(String(f))),h(!1)}},[s,d]);return z(()=>(h(!0),a(null),u(),p.current=setInterval(u,Es),()=>{p.current&&(clearInterval(p.current),p.current=null)}),[u]),o&&!i?t("div",{className:"ss-dbg-empty",children:"Loading diagnostics..."}):c?t("div",{className:"ss-dbg-empty",children:["Error: ",c.message]}):i?t(Ls,{data:i,tableClassName:"ss-dbg-table",classPrefix:"ss-dbg"}):t("div",{className:"ss-dbg-empty",children:"Diagnostics not available"})}const As=Object.freeze(Object.defineProperty({__proto__:null,InternalsTab:Ut,default:Ut},Symbol.toStringTag,{value:"Module"}));function Ht({pane:e,options:n}){({...n});const{data:s,isLoading:r,error:i,clearData:l}=F(e.endpoint.replace(/^\//,""),{...n,debugEndpoint:""}),[o,h]=x(""),c=T(()=>{if(!s)return[];const u=e.dataKey||e.id;let f=s;for(const _ of u.split("."))f=f?.[_];return Array.isArray(f)?f:[]},[s,e.dataKey,e.id]),a=T(()=>{if(!o)return c;const u=o.toLowerCase(),f=e.columns.filter(_=>_.searchable).map(_=>_.key);return f.length===0?c:c.filter(_=>f.some(m=>{const y=_[m];return y!==null&&String(y).toLowerCase().includes(u)}))},[c,o,e.columns]),p=(u,f)=>{if(u==null)return t("span",{className:"ss-dbg-c-dim",children:"-"});switch(f.format||"text"){case"time":return t("span",{className:"ss-dbg-event-time",title:V(u),children:typeof u=="number"?R(u):String(u)});case"timeAgo":return t("span",{className:"ss-dbg-event-time",title:V(u),children:R(u)});case"duration":{const m=typeof u=="number"?u:parseFloat(String(u));return isNaN(m)?String(u):t("span",{className:`ss-dbg-duration ${Q(m)==="very-slow"?"ss-dbg-very-slow":Q(m)==="slow"?"ss-dbg-slow":""}`,children:j(m)})}case"method":return t("span",{className:`ss-dbg-method ss-dbg-method-${String(u).toLowerCase()}`,children:String(u)});case"json":{let m=u;if(typeof u=="string")try{m=JSON.parse(u)}catch{}return fe(m,80)}case"badge":{const m=String(u).toLowerCase(),b=(f.badgeColorMap||{})[m]||"muted";return t("span",{className:`ss-dbg-badge ss-dbg-badge-${b}`,children:String(u)})}default:return String(u)}},d=W([a]);return r&&!s?t("div",{className:"ss-dbg-empty",children:["Loading ",e.label,"..."]}):i?t("div",{className:"ss-dbg-empty",children:["Error: ",i.message]}):t("div",{children:[e.search&&t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:e.search.placeholder,value:o,onChange:u=>h(u.target.value)}),t("span",{className:"ss-dbg-summary",children:[a.length," items"]}),e.clearable&&t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:l,children:"Clear"})]}),a.length===0?t("div",{className:"ss-dbg-empty",children:"No data"}):t("table",{ref:d,className:"ss-dbg-table",children:[t("thead",{children:t("tr",{children:e.columns.map(u=>t("th",{children:u.label},u.key))})}),t("tbody",{children:a.map((u,f)=>t("tr",{children:e.columns.map(_=>t("td",{children:p(u[_.key],_)},_.key))},u.id??f))})]})]})}const Ps=Object.freeze(Object.defineProperty({__proto__:null,CustomPaneTab:Ht,default:Ht},Symbol.toStringTag,{value:"Module"}))})();
