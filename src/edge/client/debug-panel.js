(function(){"use strict";var Z,$,Me,W,Oe,je,Ie,Re,_e,ge,me,ee={},te=[],Bt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,K=Array.isArray;function B(t,n){for(var s in n)t[s]=n[s];return t}function be(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ne(t,n,s){var r,l,i,c={};for(i in n)i=="key"?r=n[i]:i=="ref"?l=n[i]:c[i]=n[i];if(arguments.length>2&&(c.children=arguments.length>3?Z.call(arguments,2):s),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)c[i]===void 0&&(c[i]=t.defaultProps[i]);return se(t,c,r,l,null)}function se(t,n,s,r,l){var i={type:t,props:n,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++Me,__i:-1,__u:0};return l==null&&$.vnode!=null&&$.vnode(i),i}function I(t){return t.children}function z(t,n){this.props=t,this.context=n}function J(t,n){if(n==null)return t.__?J(t.__,t.__i+1):null;for(var s;n<t.__k.length;n++)if((s=t.__k[n])!=null&&s.__e!=null)return s.__e;return typeof t.type=="function"?J(t):null}function zt(t){if(t.__P&&t.__d){var n=t.__v,s=n.__e,r=[],l=[],i=B({},n);i.__v=n.__v+1,$.vnode&&$.vnode(i),ye(t.__P,i,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,r,s??J(n),!!(32&n.__u),l),i.__v=n.__v,i.__.__k[i.__i]=i,Ve(r,i,l),n.__e=n.__=null,i.__e!=s&&De(i)}}function De(t){if((t=t.__)!=null&&t.__c!=null)return t.__e=t.__c.base=null,t.__k.some(function(n){if(n!=null&&n.__e!=null)return t.__e=t.__c.base=n.__e}),De(t)}function Fe(t){(!t.__d&&(t.__d=!0)&&W.push(t)&&!re.__r++||Oe!=$.debounceRendering)&&((Oe=$.debounceRendering)||je)(re)}function re(){for(var t,n=1;W.length;)W.length>n&&W.sort(Ie),t=W.shift(),n=W.length,zt(t);re.__r=0}function Be(t,n,s,r,l,i,c,o,u,d,f){var a,p,h,g,y,m,_,b=r&&r.__k||te,N=n.length;for(u=Ut(s,n,b,u,N),a=0;a<N;a++)(h=s.__k[a])!=null&&(p=h.__i!=-1&&b[h.__i]||ee,h.__i=a,m=ye(t,h,p,l,i,c,o,u,d,f),g=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&Ne(p.ref,null,h),f.push(h.ref,h.__c||g,h)),y==null&&g!=null&&(y=g),(_=!!(4&h.__u))||p.__k===h.__k?u=ze(h,u,t,_):typeof h.type=="function"&&m!==void 0?u=m:g&&(u=g.nextSibling),h.__u&=-7);return s.__e=y,u}function Ut(t,n,s,r,l){var i,c,o,u,d,f=s.length,a=f,p=0;for(t.__k=new Array(l),i=0;i<l;i++)(c=n[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?c=t.__k[i]=se(null,c,null,null,null):K(c)?c=t.__k[i]=se(I,{children:c},null,null,null):c.constructor===void 0&&c.__b>0?c=t.__k[i]=se(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):t.__k[i]=c,u=i+p,c.__=t,c.__b=t.__b+1,o=null,(d=c.__i=Ht(c,s,u,a))!=-1&&(a--,(o=s[d])&&(o.__u|=2)),o==null||o.__v==null?(d==-1&&(l>f?p--:l<f&&p++),typeof c.type!="function"&&(c.__u|=4)):d!=u&&(d==u-1?p--:d==u+1?p++:(d>u?p--:p++,c.__u|=4))):t.__k[i]=null;if(a)for(i=0;i<f;i++)(o=s[i])!=null&&(2&o.__u)==0&&(o.__e==r&&(r=J(o)),We(o,o));return r}function ze(t,n,s,r){var l,i;if(typeof t.type=="function"){for(l=t.__k,i=0;l&&i<l.length;i++)l[i]&&(l[i].__=t,n=ze(l[i],n,s,r));return n}t.__e!=n&&(r&&(n&&t.type&&!n.parentNode&&(n=J(t)),s.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function le(t,n){return n=n||[],t==null||typeof t=="boolean"||(K(t)?t.some(function(s){le(s,n)}):n.push(t)),n}function Ht(t,n,s,r){var l,i,c,o=t.key,u=t.type,d=n[s],f=d!=null&&(2&d.__u)==0;if(d===null&&o==null||f&&o==d.key&&u==d.type)return s;if(r>(f?1:0)){for(l=s-1,i=s+1;l>=0||i<n.length;)if((d=n[c=l>=0?l--:i++])!=null&&(2&d.__u)==0&&o==d.key&&u==d.type)return c}return-1}function Ue(t,n,s){n[0]=="-"?t.setProperty(n,s??""):t[n]=s==null?"":typeof s!="number"||Bt.test(n)?s:s+"px"}function ie(t,n,s,r,l){var i,c;e:if(n=="style")if(typeof s=="string")t.style.cssText=s;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)s&&n in s||Ue(t.style,n,"");if(s)for(n in s)r&&s[n]==r[n]||Ue(t.style,n,s[n])}else if(n[0]=="o"&&n[1]=="n")i=n!=(n=n.replace(Re,"$1")),c=n.toLowerCase(),n=c in t||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+i]=s,s?r?s.u=r.u:(s.u=_e,t.addEventListener(n,i?me:ge,i)):t.removeEventListener(n,i?me:ge,i);else{if(l=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&s==1?"":s))}}function He(t){return function(n){if(this.l){var s=this.l[n.type+t];if(n.t==null)n.t=_e++;else if(n.t<s.u)return;return s($.event?$.event(n):n)}}}function ye(t,n,s,r,l,i,c,o,u,d){var f,a,p,h,g,y,m,_,b,N,S,v,L,w,O,C=n.type;if(n.constructor!==void 0)return null;128&s.__u&&(u=!!(32&s.__u),i=[o=n.__e=s.__e]),(f=$.__b)&&f(n);e:if(typeof C=="function")try{if(_=n.props,b="prototype"in C&&C.prototype.render,N=(f=C.contextType)&&r[f.__c],S=f?N?N.props.value:f.__:r,s.__c?m=(a=n.__c=s.__c).__=a.__E:(b?n.__c=a=new C(_,S):(n.__c=a=new z(_,S),a.constructor=C,a.render=qt),N&&N.sub(a),a.state||(a.state={}),a.__n=r,p=a.__d=!0,a.__h=[],a._sb=[]),b&&a.__s==null&&(a.__s=a.state),b&&C.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=B({},a.__s)),B(a.__s,C.getDerivedStateFromProps(_,a.__s))),h=a.props,g=a.state,a.__v=n,p)b&&C.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),b&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(b&&C.getDerivedStateFromProps==null&&_!==h&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(_,S),n.__v==s.__v||!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(_,a.__s,S)===!1){n.__v!=s.__v&&(a.props=_,a.state=a.__s,a.__d=!1),n.__e=s.__e,n.__k=s.__k,n.__k.some(function(D){D&&(D.__=n)}),te.push.apply(a.__h,a._sb),a._sb=[],a.__h.length&&c.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(_,a.__s,S),b&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(h,g,y)})}if(a.context=S,a.props=_,a.__P=t,a.__e=!1,v=$.__r,L=0,b)a.state=a.__s,a.__d=!1,v&&v(n),f=a.render(a.props,a.state,a.context),te.push.apply(a.__h,a._sb),a._sb=[];else do a.__d=!1,v&&v(n),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++L<25);a.state=a.__s,a.getChildContext!=null&&(r=B(B({},r),a.getChildContext())),b&&!p&&a.getSnapshotBeforeUpdate!=null&&(y=a.getSnapshotBeforeUpdate(h,g)),w=f!=null&&f.type===I&&f.key==null?qe(f.props.children):f,o=Be(t,K(w)?w:[w],n,s,r,l,i,c,o,u,d),a.base=n.__e,n.__u&=-161,a.__h.length&&c.push(a),m&&(a.__E=a.__=null)}catch(D){if(n.__v=null,u||i!=null)if(D.then){for(n.__u|=u?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;i[i.indexOf(o)]=null,n.__e=o}else{for(O=i.length;O--;)be(i[O]);ve(n)}else n.__e=s.__e,n.__k=s.__k,D.then||ve(n);$.__e(D,n,s)}else i==null&&n.__v==s.__v?(n.__k=s.__k,n.__e=s.__e):o=n.__e=Vt(s.__e,n,s,r,l,i,c,u,d);return(f=$.diffed)&&f(n),128&n.__u?void 0:o}function ve(t){t&&(t.__c&&(t.__c.__e=!0),t.__k&&t.__k.some(ve))}function Ve(t,n,s){for(var r=0;r<s.length;r++)Ne(s[r],s[++r],s[++r]);$.__c&&$.__c(n,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(i){i.call(l)})}catch(i){$.__e(i,l.__v)}})}function qe(t){return typeof t!="object"||t==null||t.__b>0?t:K(t)?t.map(qe):B({},t)}function Vt(t,n,s,r,l,i,c,o,u){var d,f,a,p,h,g,y,m=s.props||ee,_=n.props,b=n.type;if(b=="svg"?l="http://www.w3.org/2000/svg":b=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((h=i[d])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){t=h,i[d]=null;break}}if(t==null){if(b==null)return document.createTextNode(_);t=document.createElementNS(l,b,_.is&&_),o&&($.__m&&$.__m(n,i),o=!1),i=null}if(b==null)m===_||o&&t.data==_||(t.data=_);else{if(i=i&&Z.call(t.childNodes),!o&&i!=null)for(m={},d=0;d<t.attributes.length;d++)m[(h=t.attributes[d]).name]=h.value;for(d in m)h=m[d],d=="dangerouslySetInnerHTML"?a=h:d=="children"||d in _||d=="value"&&"defaultValue"in _||d=="checked"&&"defaultChecked"in _||ie(t,d,null,h,l);for(d in _)h=_[d],d=="children"?p=h:d=="dangerouslySetInnerHTML"?f=h:d=="value"?g=h:d=="checked"?y=h:o&&typeof h!="function"||m[d]===h||ie(t,d,h,m[d],l);if(f)o||a&&(f.__html==a.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),n.__k=[];else if(a&&(t.innerHTML=""),Be(n.type=="template"?t.content:t,K(p)?p:[p],n,s,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":l,i,c,i?i[0]:s.__k&&J(s,0),o,u),i!=null)for(d=i.length;d--;)be(i[d]);o||(d="value",b=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[d]||b=="progress"&&!g||b=="option"&&g!=m[d])&&ie(t,d,g,m[d],l),d="checked",y!=null&&y!=t[d]&&ie(t,d,y,m[d],l))}return t}function Ne(t,n,s){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&n==null||(t.__u=t(n))}else t.current=n}catch(l){$.__e(l,s)}}function We(t,n,s){var r,l;if($.unmount&&$.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Ne(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){$.__e(i,n)}r.base=r.__P=null}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&We(r[l],n,s||typeof t.type!="function");s||be(t.__e),t.__c=t.__=t.__e=void 0}function qt(t,n,s){return this.constructor(t,s)}function Wt(t,n,s){var r,l,i,c;n==document&&(n=document.documentElement),$.__&&$.__(t,n),l=(r=!1)?null:n.__k,i=[],c=[],ye(n,t=n.__k=ne(I,null,[t]),l||ee,ee,n.namespaceURI,l?null:n.firstChild?Z.call(n.childNodes):null,i,l?l.__e:n.firstChild,r,c),Ve(i,t,c)}Z=te.slice,$={__e:function(t,n,s,r){for(var l,i,c;n=n.__;)if((l=n.__c)&&!l.__)try{if((i=l.constructor)&&i.getDerivedStateFromError!=null&&(l.setState(i.getDerivedStateFromError(t)),c=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,r||{}),c=l.__d),c)return l.__E=l}catch(o){t=o}throw t}},Me=0,z.prototype.setState=function(t,n){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=B({},this.state),typeof t=="function"&&(t=t(B({},s),this.props)),t&&B(s,t),t!=null&&this.__v&&(n&&this._sb.push(n),Fe(this))},z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fe(this))},z.prototype.render=I,W=[],je=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ie=function(t,n){return t.__v.__b-n.__v.__b},re.__r=0,Re=/(PointerCapture)$|Capture$/i,_e=0,ge=He(!1),me=He(!0);var Jt=0;function e(t,n,s,r,l,i){n||(n={});var c,o,u=n;if("ref"in u)for(o in u={},n)o=="ref"?c=n[o]:u[o]=n[o];var d={type:t,props:u,key:s,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Jt,__i:-1,__u:0,__source:l,__self:i};if(typeof t=="function"&&(c=t.defaultProps))for(o in c)u[o]===void 0&&(u[o]=c[o]);return $.vnode&&$.vnode(d),d}var Q,E,we,Je,G=0,Ke=[],A=$,Qe=A.__b,Ge=A.__r,Xe=A.diffed,Ye=A.__c,Ze=A.unmount,et=A.__;function $e(t,n){A.__h&&A.__h(E,t,G||n),G=0;var s=E.__H||(E.__H={__:[],__h:[]});return t>=s.__.length&&s.__.push({}),s.__[t]}function x(t){return G=1,Kt(st,t)}function Kt(t,n,s){var r=$e(Q++,2);if(r.t=t,!r.__c&&(r.__=[s?s(n):st(void 0,n),function(o){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,o);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=E,!E.__f)){var l=function(o,u,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(p){return p.__c});if(f.every(function(p){return!p.__N}))return!i||i.call(this,o,u,d);var a=r.__c.props!==o;return f.some(function(p){if(p.__N){var h=p.__[0];p.__=p.__N,p.__N=void 0,h!==p.__[0]&&(a=!0)}}),i&&i.call(this,o,u,d)||a};E.__f=!0;var i=E.shouldComponentUpdate,c=E.componentWillUpdate;E.componentWillUpdate=function(o,u,d){if(this.__e){var f=i;i=void 0,l(o,u,d),i=f}c&&c.call(this,o,u,d)},E.shouldComponentUpdate=l}return r.__N||r.__}function M(t,n){var s=$e(Q++,3);!A.__s&&nt(s.__H,n)&&(s.__=t,s.u=n,E.__H.__h.push(s))}function P(t){return G=5,T(function(){return{current:t}},[])}function T(t,n){var s=$e(Q++,7);return nt(s.__H,n)&&(s.__=t(),s.__H=n,s.__h=t),s.__}function k(t,n){return G=8,T(function(){return t},n)}function Qt(){for(var t;t=Ke.shift();){var n=t.__H;if(t.__P&&n)try{n.__h.some(ae),n.__h.some(xe),n.__h=[]}catch(s){n.__h=[],A.__e(s,t.__v)}}}A.__b=function(t){E=null,Qe&&Qe(t)},A.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),et&&et(t,n)},A.__r=function(t){Ge&&Ge(t),Q=0;var n=(E=t.__c).__H;n&&(we===E?(n.__h=[],E.__h=[],n.__.some(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(n.__h.some(ae),n.__h.some(xe),n.__h=[],Q=0)),we=E},A.diffed=function(t){Xe&&Xe(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(Ke.push(n)!==1&&Je===A.requestAnimationFrame||((Je=A.requestAnimationFrame)||Gt)(Qt)),n.__H.__.some(function(s){s.u&&(s.__H=s.u),s.u=void 0})),we=E=null},A.__c=function(t,n){n.some(function(s){try{s.__h.some(ae),s.__h=s.__h.filter(function(r){return!r.__||xe(r)})}catch(r){n.some(function(l){l.__h&&(l.__h=[])}),n=[],A.__e(r,s.__v)}}),Ye&&Ye(t,n)},A.unmount=function(t){Ze&&Ze(t);var n,s=t.__c;s&&s.__H&&(s.__H.__.some(function(r){try{ae(r)}catch(l){n=l}}),s.__H=void 0,n&&A.__e(n,s.__v))};var tt=typeof requestAnimationFrame=="function";function Gt(t){var n,s=function(){clearTimeout(r),tt&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(s,35);tt&&(n=requestAnimationFrame(s))}function ae(t){var n=E,s=t.__c;typeof s=="function"&&(t.__c=void 0,s()),E=n}function xe(t){var n=E;t.__c=t.__(),E=n}function nt(t,n){return!t||t.length!==n.length||n.some(function(s,r){return s!==t[r]})}function st(t,n){return typeof n=="function"?n(t):n}function Xt(t,n){for(var s in n)t[s]=n[s];return t}function rt(t,n){for(var s in t)if(s!=="__source"&&!(s in n))return!0;for(var r in n)if(r!=="__source"&&t[r]!==n[r])return!0;return!1}function lt(t,n){this.props=t,this.context=n}(lt.prototype=new z).isPureReactComponent=!0,lt.prototype.shouldComponentUpdate=function(t,n){return rt(this.props,t)||rt(this.state,n)};var it=$.__b;$.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),it&&it(t)};var Yt=$.__e;$.__e=function(t,n,s,r){if(t.then){for(var l,i=n;i=i.__;)if((l=i.__c)&&l.__c)return n.__e==null&&(n.__e=s.__e,n.__k=s.__k),l.__c(t,n)}Yt(t,n,s,r)};var at=$.unmount;function ct(t,n,s){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Xt({},t)).__c!=null&&(t.__c.__P===s&&(t.__c.__P=n),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ct(r,n,s)})),t}function ot(t,n,s){return t&&s&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return ot(r,n,s)}),t.__c&&t.__c.__P===n&&(t.__e&&s.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=s)),t}function X(){this.__u=0,this.o=null,this.__b=null}function dt(t){if(!t.__)return null;var n=t.__.__c;return n&&n.__a&&n.__a(t)}function R(t){var n,s,r,l=null;function i(c){if(n||(n=t()).then(function(o){o&&(l=o.default||o),r=!0},function(o){s=o,r=!0}),s)throw s;if(!r)throw n;return l?ne(l,c):null}return i.displayName="Lazy",i.__f=!0,i}function ce(){this.i=null,this.l=null}$.unmount=function(t){var n=t.__c;n&&(n.__z=!0),n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),at&&at(t)},(X.prototype=new z).__c=function(t,n){var s=n.__c,r=this;r.o==null&&(r.o=[]),r.o.push(s);var l=dt(r.__v),i=!1,c=function(){i||r.__z||(i=!0,s.__R=null,l?l(u):u())};s.__R=c;var o=s.__P;s.__P=null;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=ot(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.o.pop();)f.__P=o,f.forceUpdate()}};r.__u++||32&n.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(c,c)},X.prototype.componentWillUnmount=function(){this.o=[]},X.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ct(this.__b,s,r.__O=r.__P)}this.__b=null}var l=n.__a&&ne(I,null,t.fallback);return l&&(l.__u&=-33),[ne(I,null,n.__a?null:t.children),l]};var ut=function(t,n,s){if(++s[1]===s[0]&&t.l.delete(n),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(s=t.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;t.i=s=s[2]}};(ce.prototype=new z).__a=function(t){var n=this,s=dt(n.__v),r=n.l.get(t);return r[0]++,function(l){var i=function(){n.props.revealOrder?(r.push(l),ut(n,t,r)):l()};s?s(i):i()}},ce.prototype.render=function(t){this.i=null,this.l=new Map;var n=le(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&n.reverse();for(var s=n.length;s--;)this.l.set(n[s],this.i=[1,0,this.i]);return t.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(n,s){ut(t,s,n)})};var Zt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,en=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,nn=/[A-Z0-9]/g,sn=typeof document<"u",rn=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};z.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(z.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var ht=$.event;function ln(){}function an(){return this.cancelBubble}function cn(){return this.defaultPrevented}$.event=function(t){return ht&&(t=ht(t)),t.persist=ln,t.isPropagationStopped=an,t.isDefaultPrevented=cn,t.nativeEvent=t};var on={enumerable:!1,configurable:!0,get:function(){return this.class}},ft=$.vnode;$.vnode=function(t){typeof t.type=="string"&&(function(n){var s=n.props,r=n.type,l={},i=r.indexOf("-")===-1;for(var c in s){var o=s[c];if(!(c==="value"&&"defaultValue"in s&&o==null||sn&&c==="children"&&r==="noscript"||c==="class"||c==="className")){var u=c.toLowerCase();c==="defaultValue"&&"value"in s&&s.value==null?c="value":c==="download"&&o===!0?o="":u==="translate"&&o==="no"?o=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?c="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||rn(s.type)?u==="onfocus"?c="onfocusin":u==="onblur"?c="onfocusout":tn.test(c)&&(c=u):u=c="oninput":i&&en.test(c)?c=c.replace(nn,"-$&").toLowerCase():o===null&&(o=void 0),u==="oninput"&&l[c=u]&&(c="oninputCapture"),l[c]=o}}r=="select"&&l.multiple&&Array.isArray(l.value)&&(l.value=le(s.children).forEach(function(d){d.props.selected=l.value.indexOf(d.props.value)!=-1})),r=="select"&&l.defaultValue!=null&&(l.value=le(s.children).forEach(function(d){d.props.selected=l.multiple?l.defaultValue.indexOf(d.props.value)!=-1:l.defaultValue==d.props.value})),s.class&&!s.className?(l.class=s.class,Object.defineProperty(l,"className",on)):s.className&&(l.class=l.className=s.className),n.props=l})(t),t.$$typeof=Zt,ft&&ft(t)};var pt=$.__r;$.__r=function(t){pt&&pt(t),t.__c};var _t=$.diffed;$.diffed=function(t){_t&&_t(t);var n=t.props,s=t.__e;s!=null&&t.type==="textarea"&&"value"in n&&n.value!==s.value&&(s.value=n.value==null?"":n.value)};class Ce extends Error{status;constructor(n=403){super(`Unauthorized (HTTP ${n})`),this.name="UnauthorizedError",this.status=n}}class dn extends Error{status;body;constructor(n,s){super(`API error (HTTP ${n})`),this.name="ApiError",this.status=n,this.body=s}}class oe{baseUrl;authToken;constructor(n){this.baseUrl=n.baseUrl.replace(/\/+$/,""),this.authToken=n.authToken}async fetch(n,s){const l={...{Accept:"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},...s?.headers},i=await globalThis.fetch(`${this.baseUrl}${n}`,{...s,headers:l,credentials:this.authToken?"omit":"include"});if(i.status===401||i.status===403)throw new Ce(i.status);if(!i.ok){const c=await i.text().catch(()=>"");throw new dn(i.status,c)}return i.json()}async get(n,s){const r=s?`${n}?${s}`:n;return this.fetch(r)}async post(n,s){const r={method:"POST",...s!==void 0?{body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}:{}};return this.fetch(n,r)}async delete(n){return this.fetch(n,{method:"DELETE"})}}const gt="/admin/api/debug",mt={tracing:!1,process:!1,system:!1,http:!1,db:!1,redis:!1,queues:!1,cache:!1,app:!1,log:!1,emails:!1,dashboard:!1,customPanes:[]};function un(t){return{tracing:t.features?.tracing??!1,process:t.features?.process??!1,system:t.features?.system??!1,http:t.features?.http??!1,db:t.features?.db??!1,redis:t.features?.redis??!1,queues:t.features?.queues??!1,cache:t.features?.cache??!1,app:t.features?.app??!1,log:t.features?.log??!1,emails:t.features?.emails??!1,dashboard:t.features?.dashboard??!1,customPanes:t.customPanes??[]}}async function hn(t,n=gt){const s=`${n.replace(/\/+$/,"")}/config`;return t.fetch(s)}async function fn(t){const{baseUrl:n="",debugEndpoint:s=gt,authToken:r}=t,l=new oe({baseUrl:n,authToken:r});try{const i=await hn(l,s);return un(i)}catch{return mt}}function pn(t={}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t,[l,i]=x(mt),[c,o]=x(!0),[u,d]=x(null),f=P(!1);return M(()=>{if(f.current)return;f.current=!0;let a=!1;return(async()=>{try{const h=await fn({baseUrl:n,debugEndpoint:s,authToken:r});a||(i(h),o(!1))}catch(h){a||(d(h instanceof Error?h:new Error(String(h))),o(!1))}})(),()=>{a=!0}},[n,s,r]),{features:l,isLoading:c,error:u}}const de="ss-dash-theme",ke="ss-theme-change";function Se(){if(typeof window>"u")return"light";const t=localStorage.getItem(de);return t==="dark"||t==="light"?t:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function _n(t){typeof window>"u"||(localStorage.setItem(de,t),window.dispatchEvent(new CustomEvent(ke,{detail:t})))}function gn(){const n=Se()==="dark"?"light":"dark";return _n(n),n}function mn(t){if(typeof window>"u")return()=>{};const n=i=>{const c=i.detail;(c==="dark"||c==="light")&&t(c)},s=i=>{if(i.key===de){const c=i.newValue;t(c==="dark"||c==="light"?c:Se())}},r=window.matchMedia("(prefers-color-scheme: dark)"),l=i=>{localStorage.getItem(de)||t(i.matches?"dark":"light")};return window.addEventListener(ke,n),window.addEventListener("storage",s),r.addEventListener("change",l),()=>{window.removeEventListener(ke,n),window.removeEventListener("storage",s),r.removeEventListener("change",l)}}function bn(){const[t,n]=x(()=>Se());M(()=>mn(l=>{n(l)}),[]);const s=k(()=>{const r=gn();return n(r),r},[]);return{theme:t,toggleTheme:s}}function yn({theme:t,onToggle:n,className:s="",classPrefix:r="ss-dash"}){const l=t==="dark";return e("button",{type:"button",className:`${r==="ss-dbg"?"ss-dbg-theme-toggle":"ss-dash-theme-btn"} ${s}`,onClick:n,title:l?"Switch to light theme":"Switch to dark theme","aria-label":l?"Switch to light theme":"Switch to dark theme",children:l?e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("circle",{cx:"12",cy:"12",r:"5"}),e("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),e("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),e("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),e("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),e("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}const vn=R(()=>Promise.resolve().then(()=>Rn)),Nn=R(()=>Promise.resolve().then(()=>Dn)),wn=R(()=>Promise.resolve().then(()=>Fn)),$n=R(()=>Promise.resolve().then(()=>Bn)),xn=R(()=>Promise.resolve().then(()=>Un)),Cn=R(()=>Promise.resolve().then(()=>Vn)),kn=R(()=>Promise.resolve().then(()=>qn)),Sn=R(()=>Promise.resolve().then(()=>Jn)),Tn=R(()=>Promise.resolve().then(()=>ts)),Ln=R(()=>Promise.resolve().then(()=>os)),En=R(()=>Promise.resolve().then(()=>ds)),An={queries:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),e("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),e("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]}),events:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:e("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),emails:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})]}),routes:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),logs:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),timeline:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:e("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),cache:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),e("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),e("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),e("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"})]}),jobs:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),config:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),internals:e("svg",{className:"ss-dbg-tab-icon",viewBox:"0 0 24 24",children:[e("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),e("rect",{x:"9",y:"9",width:"6",height:"6"}),e("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),e("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),e("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),e("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),e("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),e("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),e("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),e("line",{x1:"1",y1:"14",x2:"4",y2:"14"})]})};function Pn(t){const{defaultOpen:n=!1,dashboardPath:s,isOpen:r,onOpenChange:l,isLive:i=!1,...c}=t,[o,u]=x(n),d=r!==void 0?r:o,f=v=>{l?l(v):u(v)},[a,p]=x("queries"),{features:h}=pn(c),{theme:g,toggleTheme:y}=bn(),m=h.customPanes||[];M(()=>{const v=L=>{L.key==="Escape"&&d&&f(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[d]);const _=T(()=>[{id:"queries",label:"Queries",visible:!0},{id:"events",label:"Events",visible:!0},{id:"emails",label:"Emails",visible:!0},{id:"routes",label:"Routes",visible:!0},{id:"logs",label:"Logs",visible:!0},{id:"timeline",label:"Timeline",visible:h.tracing},{id:"cache",label:"Cache",visible:h.cache},{id:"jobs",label:"Jobs",visible:h.queues},{id:"config",label:"Config",visible:!0},{id:"internals",label:"Internals",visible:!0}],[h]),b=T(()=>_.filter(v=>v.visible),[_]);M(()=>{const v=[...b.map(L=>L.id),...m.map(L=>L.id)];!v.includes(a)&&v.length>0&&p(v[0])},[b,m,a]);const N=k(()=>{f(!d)},[d]),S=k(()=>{const v={options:c},L=m.find(O=>O.id===a);if(L)return e(X,{fallback:e("div",{className:"ss-dbg-empty",children:"Loading..."}),children:e(En,{pane:L,options:c})});const w={queries:e(vn,{...v}),events:e(Nn,{...v}),emails:e(wn,{...v}),routes:e($n,{...v,currentPath:typeof window<"u"?window.location.pathname:""}),logs:e(xn,{...v}),timeline:e(Cn,{...v}),cache:e(kn,{...v,dashboardPath:s}),jobs:e(Sn,{...v,dashboardPath:s}),config:e(Tn,{...v,dashboardPath:s}),internals:e(Ln,{...v})};return e(X,{fallback:e("div",{className:"ss-dbg-empty",children:"Loading..."}),children:w[a]||e("div",{className:"ss-dbg-empty",children:"Unknown tab"})})},[a,c,m]);return e(I,{children:[r===void 0&&e("button",{type:"button",className:`ss-dbg-btn ${d?"ss-dbg-active":""}`,onClick:N,title:"Toggle debug panel",id:"ss-dbg-wrench",children:e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),e("div",{className:`ss-dbg-panel ${d?"ss-dbg-open":""}`,"data-ss-theme":g,id:"ss-dbg-panel",children:[e("div",{className:"ss-dbg-tabs",children:[e("div",{className:"ss-dbg-tabs-scroll",children:[b.map(v=>e("button",{type:"button",className:`ss-dbg-tab ${a===v.id?"ss-dbg-active":""}`,onClick:()=>p(v.id),children:[An[v.id]||null,v.label]},v.id)),m.map(v=>e("button",{type:"button",className:`ss-dbg-tab ${a===v.id?"ss-dbg-active":""}`,onClick:()=>p(v.id),children:v.label},v.id))]}),e("div",{className:"ss-dbg-tabs-right",children:[e("span",{className:`ss-dbg-conn-mode ${i?"ss-dbg-conn-live":"ss-dbg-conn-polling"}`,title:i?"Connected via Transmit (SSE) â€” real-time updates":"Polling every 3s",children:i?"live":"polling"}),e(yn,{theme:g,onToggle:y,classPrefix:"ss-dbg"}),s&&e("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"ss-dbg-dashboard-link",title:"Open dashboard",children:e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e("polyline",{points:"15 3 21 3 21 9"}),e("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}),e("button",{type:"button",className:"ss-dbg-close",onClick:()=>f(!1),title:"Close panel",children:"Ã—"})]})]}),e("div",{className:"ss-dbg-content",children:d&&S()})]})]})}const bt=document.getElementById("ss-dbg-config"),Te=bt?JSON.parse(bt.textContent||"{}"):{},yt=document.getElementById("ss-dbg-panel");yt&&Wt(e(Pn,{debugEndpoint:Te.debugEndpoint,authToken:Te.authToken,dashboardPath:Te.dashboardPath||void 0,defaultOpen:!1}),yt);function U(t){return t>=1e3?`${(t/1e3).toFixed(2)}s`:t>=1?`${t.toFixed(0)}ms`:`${t.toFixed(2)}ms`}function H(t){if(!t)return"-";const n=typeof t=="string"?new Date(t):new Date(t);return Number.isNaN(n.getTime())?"-":n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+String(n.getMilliseconds()).padStart(3,"0")}function V(t){if(!t)return"-";const n=typeof t=="string"?new Date(t).getTime():t,s=Math.floor((Date.now()-n)/1e3);return s<0?"just now":s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function ue(t,n=100){if(t===null)return"null";if(t===void 0)return"-";if(typeof t=="string")return'"'+(t.length>40?t.slice(0,40)+"...":t)+'"';if(typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t)){if(t.length===0)return"[]";const r="["+t.slice(0,3).map(l=>ue(l,30)).join(", ")+(t.length>3?", ..."+t.length+" items":"")+"]";return r.length>n?"["+t.length+" items]":r}if(typeof t=="object"){const s=Object.keys(t);if(s.length===0)return"{}";const r=[];for(let i=0;i<Math.min(s.length,4);i++)r.push(s[i]+": "+ue(t[s[i]],30));const l="{ "+r.join(", ")+(s.length>4?", ...+"+(s.length-4):"")+" }";return l.length>n?"{ "+s.slice(0,6).join(", ")+(s.length>6?", ...":"")+" }":l}return String(t)}const Mn="ss-col-resize",vt="ss-resizing";function q(t){const n=Array.from(t.querySelectorAll("thead th"));if(n.length===0)return()=>{};const s=[];let r=!1;function l(){if(!r){r=!0;for(const i of n)i.style.width=i.offsetWidth+"px";t.style.tableLayout="fixed"}}for(const i of n){let c=function(u){u.preventDefault(),u.stopPropagation(),l();const d=u.clientX,f=i.offsetWidth;o.classList.add(vt),o.setPointerCapture(u.pointerId);function a(h){const g=h.clientX-d,y=Math.max(30,f+g);i.style.width=y+"px"}function p(){o.classList.remove(vt),o.removeEventListener("pointermove",a),o.removeEventListener("pointerup",p)}o.addEventListener("pointermove",a),o.addEventListener("pointerup",p)};if(!i.textContent?.trim())continue;const o=document.createElement("div");o.className=Mn,i.appendChild(o),o.addEventListener("pointerdown",c),s.push(()=>{o.removeEventListener("pointerdown",c),o.remove()})}return()=>{for(const i of s)i()}}const On={queries:"/queries",events:"/events",emails:"/emails",routes:"/routes",logs:"/logs",timeline:"/traces",cache:"/cache",jobs:"/jobs",config:"/config",internals:"/diagnostics"};function jn(t){return On[t]||`/${t}`}const In=3e3;function F(t,n={}){const{baseUrl:s="",debugEndpoint:r="/admin/api/debug",authToken:l}=n,[i,c]=x(null),[o,u]=x(!0),[d,f]=x(null),a=P(null),p=P(null),h=P({}),g=k(()=>(a.current||(a.current=new oe({baseUrl:s,authToken:l})),a.current),[s,l]),y=k(async()=>{if(h.current[t]){c(h.current[t]),u(!1);return}try{const N=g(),S=`${r}${jn(t)}`,v=await N.get(S);c(v),f(null),u(!1)}catch(N){if(N instanceof Ce){f(N),u(!1),p.current&&(clearInterval(p.current),p.current=null);return}f(N instanceof Error?N:new Error(String(N))),u(!1)}},[t,r,g]);M(()=>(u(!0),f(null),y(),p.current=setInterval(y,In),()=>{p.current&&(clearInterval(p.current),p.current=null)}),[t,y]);const m=k(()=>{y()},[y]),_=k(()=>{c(null)},[]),b=k((N,S)=>{h.current[N]=S},[]);return{data:i,isLoading:o,error:d,refresh:m,clearData:_,cacheForTab:b}}function Nt({options:t}){const{data:n,isLoading:s,error:r}=F("queries",t),[l,i]=x(""),[c,o]=x(null),u=T(()=>{const h=n?.queries||[];if(!l)return h;const g=l.toLowerCase();return h.filter(y=>y.sql.toLowerCase().includes(g)||y.model&&y.model.toLowerCase().includes(g)||y.method.toLowerCase().includes(g))},[n,l]),d=T(()=>{const h={};for(const g of n?.queries||[])h[g.sql]=(h[g.sql]||0)+1;return h},[n]),f=T(()=>{const h=n?.queries||[],g=h.filter(_=>_.duration>100).length,y=Object.values(d).filter(_=>_>1).length,m=h.length>0?h.reduce((_,b)=>_+b.duration,0)/h.length:0;return{slowCount:g,dupCount:y,avgDuration:m}},[n,d]),a=k(h=>{o(g=>g===h?null:h)},[]),p=P(null);return M(()=>{if(p.current)return q(p.current)},[u]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading queries..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter queries...",value:l,onChange:h=>i(h.target.value)}),e("span",{className:"ss-dbg-summary",children:[u.length," queries",f.slowCount>0&&` | ${f.slowCount} slow`,f.dupCount>0&&` | ${f.dupCount} dup`,u.length>0&&` | avg ${U(f.avgDuration)}`]})]}),u.length===0?e("div",{className:"ss-dbg-empty",children:"No queries captured"}):e("table",{ref:p,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"70px"}}),e("col",{style:{width:"100px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"SQL"}),e("th",{children:"Duration"}),e("th",{children:"Method"}),e("th",{children:"Model"}),e("th",{children:"Time"})]})}),e("tbody",{children:u.map(h=>e("tr",{children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:h.id}),e("td",{children:[e("span",{className:`ss-dbg-sql ${c===h.id?"ss-dbg-expanded":""}`,onClick:()=>a(h.id),role:"button",tabIndex:0,onKeyDown:g=>g.key==="Enter"&&a(h.id),children:h.sql}),d[h.sql]>1&&e("span",{className:"ss-dbg-dup",children:[" x",d[h.sql]]}),h.inTransaction&&e("span",{className:"ss-dbg-dup",children:" TXN"})]}),e("td",{className:`ss-dbg-duration ${h.duration>500?"ss-dbg-very-slow":h.duration>100?"ss-dbg-slow":""}`,children:U(h.duration)}),e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${h.method.toLowerCase()}`,children:h.method})}),e("td",{className:"ss-dbg-c-muted",children:h.model||"-"}),e("td",{className:"ss-dbg-event-time",title:H(h.timestamp),children:V(h.timestamp)})]},h.id))})]})]})}const Rn=Object.freeze(Object.defineProperty({__proto__:null,QueriesTab:Nt,default:Nt},Symbol.toStringTag,{value:"Module"}));function Le({data:t,maxPreviewLength:n=100,className:s="",classPrefix:r="ss-dash"}){const[l,i]=x(!1),c=T(()=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},[t]),o=T(()=>typeof c=="object"&&c!==null?ue(c,n):String(c??"-"),[c,n]),u=T(()=>typeof c=="object"&&c!==null?JSON.stringify(c,null,2):String(c),[c]),d=k(()=>{i(a=>!a)},[]),f=k(async()=>{try{await navigator.clipboard.writeText(u)}catch{}},[u]);return!t&&t!==0&&t!==!1?e("span",{className:`ss-dim ${r}-c-dim`,children:"-"}):e("div",{className:`${r}-data-cell ${s}`,children:[e("span",{className:`${r}-data-preview`,onClick:d,role:"button",tabIndex:0,onKeyDown:a=>a.key==="Enter"&&d(),children:o}),l&&e("div",{className:`${r}-data-full`,onClick:d,children:[e("button",{className:`${r}-copy-btn`,onClick:a=>{a.stopPropagation(),f()},title:"Copy to clipboard",type:"button",children:"Copy"}),e("pre",{children:u})]})]})}function wt({options:t}){const{data:n,isLoading:s,error:r}=F("events",t),[l,i]=x(""),c=T(()=>{const u=n?.events||[];if(!l)return u;const d=l.toLowerCase();return u.filter(f=>(f.event||"").toLowerCase().includes(d)||(f.data||"").toLowerCase().includes(d))},[n,l]),o=P(null);return M(()=>{if(o.current)return q(o.current)},[c]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading events..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter events...",value:l,onChange:u=>i(u.target.value)}),e("span",{className:"ss-dbg-summary",children:[c.length," events"]})]}),c.length===0?e("div",{className:"ss-dbg-empty",children:"No events captured"}):e("table",{ref:o,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"20%"}}),e("col",{}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"Event"}),e("th",{children:"Data"}),e("th",{children:"Time"})]})}),e("tbody",{children:c.map(u=>{const d=u.timestamp||u.created_at||u.createdAt;return e("tr",{children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:u.id}),e("td",{className:"ss-dbg-event-name",children:u.event}),e("td",{className:"ss-dbg-event-data",children:e(Le,{data:u.data,maxPreviewLength:80,classPrefix:"ss-dbg"})}),e("td",{className:"ss-dbg-event-time",title:H(d),children:V(d)})]},u.id)})})]})]})}const Dn=Object.freeze(Object.defineProperty({__proto__:null,EventsTab:wt,default:wt},Symbol.toStringTag,{value:"Module"}));function $t({options:t}){const{data:n,isLoading:s,error:r}=F("emails",t),[l,i]=x(""),[c,o]=x(null),u=T(()=>{const h=n?.emails||[];if(!l)return h;const g=l.toLowerCase();return h.filter(y=>(y.subject||"").toLowerCase().includes(g)||(y.to||"").toLowerCase().includes(g)||(y.from||"").toLowerCase().includes(g)||(y.mailer||"").toLowerCase().includes(g))},[n,l]),d=T(()=>u.find(h=>h.id===c),[u,c]),f=k(()=>o(null),[]),a={sent:"ss-dbg-email-status-sent",sending:"ss-dbg-email-status-sending",queued:"ss-dbg-email-status-queued",failed:"ss-dbg-email-status-failed"},p=P(null);return M(()=>{if(p.current)return q(p.current)},[u]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading emails..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):d?e("div",{className:"ss-dbg-email-preview",children:[e("div",{className:"ss-dbg-email-preview-header",children:[e("div",{className:"ss-dbg-email-preview-meta",children:[e("div",{children:[e("strong",{children:"Subject:"})," ",d.subject]}),e("div",{children:[e("strong",{children:"From:"})," ",d.from]}),e("div",{children:[e("strong",{children:"To:"})," ",d.to]}),d.cc&&e("div",{children:[e("strong",{children:"CC:"})," ",d.cc]})]}),e("button",{className:"ss-dbg-btn-clear",onClick:f,type:"button",children:"Ã—"})]}),d.html?e("iframe",{className:"ss-dbg-email-iframe",srcDoc:d.html,title:"Email preview",sandbox:""}):e("div",{style:{padding:"12px",whiteSpace:"pre-wrap"},children:d.text||"No content"})]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter emails...",value:l,onChange:h=>i(h.target.value)}),e("span",{className:"ss-dbg-summary",children:[u.length," emails"]})]}),u.length===0?e("div",{className:"ss-dbg-empty",children:"No emails captured"}):e("table",{ref:p,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"140px"}}),e("col",{style:{width:"140px"}}),e("col",{}),e("col",{style:{width:"70px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"40px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"From"}),e("th",{children:"To"}),e("th",{children:"Subject"}),e("th",{children:"Status"}),e("th",{children:"Mailer"}),e("th",{title:"Attachments",children:"ðŸ“Ž"}),e("th",{children:"Time"})]})}),e("tbody",{children:u.map(h=>e("tr",{className:"ss-dbg-email-row",onClick:()=>o(h.id),children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:h.id}),e("td",{className:"ss-dbg-c-secondary",title:h.from,children:h.from}),e("td",{className:"ss-dbg-c-secondary",title:h.to,children:h.to}),e("td",{className:"ss-dbg-c-sql",children:h.subject}),e("td",{children:e("span",{className:`ss-dbg-email-status ${a[h.status]||""}`,children:h.status})}),e("td",{className:"ss-dbg-c-muted",children:h.mailer}),e("td",{className:"ss-dbg-c-dim",style:{textAlign:"center"},children:h.attachmentCount>0?h.attachmentCount:"-"}),e("td",{className:"ss-dbg-event-time",title:H(h.timestamp||h.created_at||h.createdAt),children:V(h.timestamp||h.created_at||h.createdAt)})]},h.id))})]})]})}const Fn=Object.freeze(Object.defineProperty({__proto__:null,EmailsTab:$t,default:$t},Symbol.toStringTag,{value:"Module"}));function xt({options:t,currentPath:n}){const{data:s,isLoading:r,error:l}=F("routes",t),[i,c]=x(""),o=T(()=>{const d=s?.routes||[];if(!i)return d;const f=i.toLowerCase();return d.filter(a=>a.pattern.toLowerCase().includes(f)||a.handler.toLowerCase().includes(f)||a.method.toLowerCase().includes(f)||a.name&&a.name.toLowerCase().includes(f))},[s,i]),u=P(null);return M(()=>{if(u.current)return q(u.current)},[o]),r&&!s?e("div",{className:"ss-dbg-empty",children:"Loading routes..."}):l?e("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter routes...",value:i,onChange:d=>c(d.target.value)}),e("span",{className:"ss-dbg-summary",children:[o.length," routes"]})]}),o.length===0?e("div",{className:"ss-dbg-empty",children:"No routes found"}):e("table",{ref:u,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"70px"}}),e("col",{style:{width:"25%"}}),e("col",{style:{width:"15%"}}),e("col",{}),e("col",{style:{width:"20%"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"Method"}),e("th",{children:"Pattern"}),e("th",{children:"Name"}),e("th",{children:"Handler"}),e("th",{children:"Middleware"})]})}),e("tbody",{children:o.map((d,f)=>{const a=n&&(d.pattern===n||new RegExp("^"+d.pattern.replace(/:[^/]+/g,"[^/]+")+"$").test(n));return e("tr",{className:a?"ss-dbg-current-route":"",children:[e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${d.method.toLowerCase()}`,children:d.method})}),e("td",{className:"ss-dbg-c-text",children:d.pattern}),e("td",{className:"ss-dbg-c-muted",children:d.name||"-"}),e("td",{className:"ss-dbg-c-sql",children:d.handler}),e("td",{className:"ss-dbg-c-dim",style:{fontSize:"10px"},children:d.middleware.length>0?d.middleware.join(", "):"-"})]},`${d.method}-${d.pattern}-${f}`)})})]})]})}const Bn=Object.freeze(Object.defineProperty({__proto__:null,RoutesTab:xt,default:xt},Symbol.toStringTag,{value:"Module"})),zn=["all","error","warn","info","debug"];function Ct({options:t}){const{data:n,isLoading:s,error:r}=F("logs",t),[l,i]=x("all"),[c,o]=x(""),[u,d]=x(""),f=k(_=>(_.levelName||_.level_name||(typeof _.level=="string"?_.level:"")||"info").toLowerCase(),[]),a=k(_=>_.msg||_.message||JSON.stringify(_),[]),p=k(_=>_.time||_.timestamp||0,[]),h=k(_=>_.requestId||_.request_id||_["x-request-id"]||"",[]),g=T(()=>{let _=Array.isArray(n)?n:n?.logs||n?.entries||[];if(l!=="all"&&(_=_.filter(b=>{const N=f(b);return l==="error"?N==="error"||N==="fatal":N===l})),u){const b=u.toLowerCase();_=_.filter(N=>h(N).toLowerCase().includes(b))}if(c){const b=c.toLowerCase();_=_.filter(N=>a(N).toLowerCase().includes(b))}return _},[n,l,c,u,f,a,h]),y=k(_=>{switch(_){case"error":case"fatal":return"ss-dbg-log-level-error";case"warn":return"ss-dbg-log-level-warn";case"info":return"ss-dbg-log-level-info";case"debug":return"ss-dbg-log-level-debug";case"trace":return"ss-dbg-log-level-trace";default:return"ss-dbg-log-level-info"}},[]),m=k(_=>{d(b=>b===_?"":_)},[]);return s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading logs..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-log-filters",children:[zn.map(_=>e("button",{type:"button",className:`ss-dbg-log-filter ${l===_?"ss-dbg-active":""}`,onClick:()=>i(_),children:_},_)),u&&e("button",{type:"button",className:"ss-dbg-log-filter ss-dbg-active",onClick:()=>d(""),children:["req: ",u.slice(0,8)," x"]}),e("span",{className:"ss-dbg-summary",style:{marginLeft:"auto"},children:[g.length," entries"]})]}),e("div",{className:"ss-dbg-search-bar",children:e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter log messages...",value:c,onChange:_=>o(_.target.value)})}),e("div",{style:{overflow:"auto",flex:1},children:g.length===0?e("div",{className:"ss-dbg-empty",children:"No log entries"}):g.slice(-200).reverse().map((_,b)=>{const N=f(_),S=a(_),v=p(_),L=h(_);return e("div",{className:"ss-dbg-log-entry",children:[e("span",{className:`ss-dbg-log-level ${y(N)}`,children:N.toUpperCase()}),e("span",{className:"ss-dbg-log-time",title:v?H(v):"",children:v?V(v):"-"}),L?e("span",{className:"ss-dbg-log-reqid",onClick:()=>m(L),role:"button",tabIndex:0,title:L,onKeyDown:w=>w.key==="Enter"&&m(L),children:L.slice(0,8)}):e("span",{className:"ss-dbg-log-reqid-empty",children:"-"}),e("span",{className:"ss-dbg-log-msg",children:S})]},b)})})]})}const Un=Object.freeze(Object.defineProperty({__proto__:null,LogsTab:Ct,default:Ct},Symbol.toStringTag,{value:"Module"})),kt={request:"#1e3a5f",middleware:"rgba(30, 58, 95, 0.7)",db:"#6d28d9",view:"#0e7490",mail:"#059669",event:"#b45309",custom:"#525252"},Hn=[{label:"Request",color:"#1e3a5f"},{label:"Middleware",color:"rgba(30, 58, 95, 0.7)"},{label:"Database",color:"#6d28d9"},{label:"View",color:"#0e7490"},{label:"Mail",color:"#059669"},{label:"Event",color:"#b45309"}];function St({options:t}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t||{},{data:l,isLoading:i,error:c}=F("timeline",t),[o,u]=x(""),[d,f]=x(null),[a,p]=x(null),[h,g]=x(!1),[y,m]=x(null),_=T(()=>{const w=l?.traces||[];if(!o)return w;const O=o.toLowerCase();return w.filter(C=>C.url.toLowerCase().includes(O)||C.method.toLowerCase().includes(O)||String(C.statusCode).includes(O))},[l,o]),b=P(null),N=k(()=>(b.current||(b.current=new oe({baseUrl:n,authToken:r})),b.current),[n,r]);M(()=>{if(d===null){p(null),m(null);return}let w=!1;return g(!0),m(null),N().get(`${s}/traces/${d}`).then(C=>{w||(p(C),g(!1))}).catch(C=>{w||(m(C instanceof Error?C.message:"Failed to load trace"),g(!1))}),()=>{w=!0}},[d,s,N]);const S=k(w=>{f(O=>O===w?null:w)},[]),v=k(w=>w>=500?"ss-dbg-status-5xx":w>=400?"ss-dbg-status-4xx":w>=300?"ss-dbg-status-3xx":"ss-dbg-status-2xx",[]),L=P(null);if(M(()=>{if(L.current)return q(L.current)},[_]),i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading traces..."});if(c)return e("div",{className:"ss-dbg-empty",children:["Error: ",c.message]});if(d!==null){if(h)return e("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});if(y)return e("div",{children:[e("div",{className:"ss-dbg-tl-detail-header",children:e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:"â† Back"})}),e("div",{className:"ss-dbg-empty",children:["Error: ",y]})]});if(!a)return e("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});const w=a.spans||[],O=a.warnings||[];return e("div",{children:[e("div",{className:"ss-dbg-tl-detail-header",children:[e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:"â† Back"}),e("span",{className:`ss-dbg-method ss-dbg-method-${a.method.toLowerCase()}`,children:a.method}),e("span",{className:"ss-dbg-tl-detail-url",children:a.url}),e("span",{className:`ss-dbg-status ${v(a.statusCode)}`,children:a.statusCode}),e("span",{className:"ss-dbg-tl-meta",children:[U(a.totalDuration)," Â·"," ",a.spanCount," spans"]})]}),e("div",{className:"ss-dbg-tl-legend",children:Hn.map(C=>e("div",{className:"ss-dbg-tl-legend-item",children:[e("div",{className:"ss-dbg-tl-legend-dot",style:{background:C.color}}),e("span",{children:C.label})]},C.label))}),e("div",{style:{padding:"8px 12px",overflow:"auto"},children:w.length===0?e("div",{className:"ss-dbg-empty",children:"No spans captured for this request"}):w.map(C=>{const D=a.totalDuration||1,us=C.startOffset/D*100,hs=Math.max(C.duration/D*100,.5);return e("div",{className:"ss-dbg-tl-row",children:[e("div",{className:"ss-dbg-tl-label",title:C.label,children:C.label}),e("div",{className:"ss-dbg-tl-track",children:e("div",{className:`ss-dbg-tl-bar ss-dbg-tl-bar-${C.category}`,style:{left:`${us}%`,width:`${hs}%`,background:kt[C.category]||kt.custom},title:`${C.label}: ${U(C.duration)}`})}),e("span",{className:"ss-dbg-tl-dur",children:U(C.duration)})]},C.id)})}),O.length>0&&e("div",{className:"ss-dbg-tl-warnings",children:[e("div",{className:"ss-dbg-tl-warnings-title",children:"Warnings"}),O.map((C,D)=>e("div",{className:"ss-dbg-tl-warning",children:C},D))]})]})}return e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter traces...",value:o,onChange:w=>u(w.target.value)}),e("span",{className:"ss-dbg-summary",children:[_.length," traces"]})]}),_.length===0?e("div",{className:"ss-dbg-empty",children:"No traces captured. Enable tracing in config."}):e("table",{ref:L,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"70px"}}),e("col",{}),e("col",{style:{width:"60px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"50px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"Method"}),e("th",{children:"URL"}),e("th",{children:"Status"}),e("th",{children:"Duration"}),e("th",{children:"Spans"}),e("th",{children:"Time"})]})}),e("tbody",{children:_.map(w=>e("tr",{className:"ss-dbg-email-row",onClick:()=>S(w.id),children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:w.id}),e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${w.method.toLowerCase()}`,children:w.method})}),e("td",{title:w.url,children:w.url}),e("td",{children:e("span",{className:`ss-dbg-status ${v(w.statusCode)}`,children:w.statusCode})}),e("td",{className:`ss-dbg-duration ${w.totalDuration>500?"ss-dbg-very-slow":w.totalDuration>100?"ss-dbg-slow":""}`,children:U(w.totalDuration)}),e("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:w.spanCount}),e("td",{className:"ss-dbg-event-time",title:H(w.timestamp),children:V(w.timestamp)})]},w.id))})]})]})}const Vn=Object.freeze(Object.defineProperty({__proto__:null,TimelineTab:St,default:St},Symbol.toStringTag,{value:"Module"}));function Tt({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:c}=F("cache",r),[o,u]=x(""),[d,f]=x(null),[a,p]=x(null),h=T(()=>{const b=l?.keys||[];if(!o)return b;const N=o.toLowerCase();return b.filter(S=>S.key.toLowerCase().includes(N))},[l,o]),g=k(async b=>{if(d===b){f(null),p(null);return}f(b);try{const{baseUrl:N="",authToken:S}=t||{},v=s||t?.debugEndpoint||"/admin/api/debug",L=`${N}${v}/cache/${encodeURIComponent(b)}`,w={Accept:"application/json"};S&&(w.Authorization=`Bearer ${S}`);const C=await(await fetch(L,{headers:w,credentials:S?"omit":"same-origin"})).json();p(C)}catch{p({error:"Failed to fetch key value"})}},[d,t,s]),y=P(null);if(M(()=>{if(y.current)return q(y.current)},[h]),i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading cache data..."});if(c)return e("div",{className:"ss-dbg-empty",children:["Error: ",c.message]});if(!l)return e("div",{className:"ss-dbg-empty",children:"Cache inspector not available"});const _=l.stats||l;return e("div",{children:[e("div",{className:"ss-dbg-cache-stats",children:[e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Hit Rate:"}),e("span",{className:"ss-dbg-cache-stat-value",children:[_.hitRate!==null&&_.hitRate!==void 0?_.hitRate.toFixed(1):"0","%"]})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Hits:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.totalHits??0})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Misses:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.totalMisses??0})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Keys:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.keyCount??"-"})]})]}),e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter keys...",value:o,onChange:b=>u(b.target.value)}),e("span",{className:"ss-dbg-summary",children:[h.length," keys"]})]}),d&&a&&e("div",{className:"ss-dbg-cache-detail",children:[e("strong",{children:d}),e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:["â†"," Back"]}),e(Le,{data:a,classPrefix:"ss-dbg"})]}),h.length===0?e("div",{className:"ss-dbg-empty",children:"No cache keys found"}):e("table",{ref:y,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"Key"}),e("th",{children:"Type"}),e("th",{children:"TTL"}),e("th",{children:"Size"})]})}),e("tbody",{children:h.map(b=>e("tr",{className:"ss-dbg-email-row",onClick:()=>g(b.key),children:[e("td",{className:"ss-dbg-c-sql",children:b.key}),e("td",{className:"ss-dbg-c-muted",children:b.type}),e("td",{className:"ss-dbg-c-muted",children:b.ttl>0?`${b.ttl}s`:"-"}),e("td",{className:"ss-dbg-c-dim",children:b.size>0?`${b.size}B`:"-"})]},b.key))})]})]})}const qn=Object.freeze(Object.defineProperty({__proto__:null,CacheTab:Tt,default:Tt},Symbol.toStringTag,{value:"Module"})),Wn=["all","active","waiting","delayed","completed","failed"];function Lt({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:c}=F("jobs",r),[o,u]=x("all"),[d,f]=x(null),a=T(()=>{if(!l)return[];const m=l.data||l.jobs||[];return o==="all"?m:m.filter(_=>_.status===o)},[l,o]),p=k(async m=>{f(m);try{const{baseUrl:_="",authToken:b}=t||{},N=s||t?.debugEndpoint||"/admin/api/debug",S=`${_}${N}/jobs/${m}/retry`,v={Accept:"application/json"};b&&(v.Authorization=`Bearer ${b}`),await fetch(S,{method:"POST",headers:v,credentials:b?"omit":"same-origin"})}catch{}f(null)},[t,s]),h={completed:"ss-dbg-job-status-completed",failed:"ss-dbg-job-status-failed",active:"ss-dbg-job-status-active",waiting:"ss-dbg-job-status-waiting",delayed:"ss-dbg-job-status-delayed"},g=P(null);if(M(()=>{if(g.current)return q(g.current)},[a]),!s)return e("div",{className:"ss-dbg-empty",children:"Queue inspector not available (no dashboard configured)"});if(i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading jobs..."});if(c)return e("div",{className:"ss-dbg-empty",children:["Error: ",c.message]});if(!l)return e("div",{className:"ss-dbg-empty",children:"Queue inspector not available"});const y=l.stats||l.overview;return e("div",{children:[e("div",{className:"ss-dbg-job-stats-area",children:[e("div",{className:"ss-dbg-job-stats",children:[e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Active:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.active??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Waiting:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.waiting??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Delayed:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.delayed??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Completed:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.completed??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Failed:"}),e("span",{className:"ss-dbg-job-stat-value ss-dbg-c-red",children:y?.failed??0})]})]}),e("div",{className:"ss-dbg-log-filters",children:Wn.map(m=>e("button",{type:"button",className:`ss-dbg-job-filter ${o===m?"ss-dbg-active":""}`,onClick:()=>u(m),children:m},m))})]}),a.length===0?e("div",{className:"ss-dbg-empty",children:"No jobs found"}):e("table",{ref:g,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"15%"}}),e("col",{style:{width:"80px"}}),e("col",{}),e("col",{style:{width:"50px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"60px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"Name"}),e("th",{children:"Status"}),e("th",{children:"Payload"}),e("th",{children:"Tries"}),e("th",{children:"Duration"}),e("th",{children:"Time"}),e("th",{})]})}),e("tbody",{children:a.map(m=>{const _=m;return e("tr",{children:[e("td",{className:"ss-dbg-c-dim",children:m.id}),e("td",{className:"ss-dbg-c-sql",title:m.name,children:m.name}),e("td",{children:e("span",{className:`ss-dbg-badge ${h[m.status]||"ss-dbg-badge-muted"}`,children:m.status})}),e("td",{children:e(Le,{data:m.payload||m.data,maxPreviewLength:60,classPrefix:"ss-dbg"})}),e("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:m.attempts||_.attemptsMade||0}),e("td",{className:"ss-dbg-duration",children:m.duration!==null?U(m.duration):"-"}),e("td",{className:"ss-dbg-event-time",title:H(m.timestamp||m.createdAt||_.processedAt||_.created_at),children:V(m.timestamp||m.createdAt||_.processedAt||_.created_at)}),e("td",{children:m.status==="failed"&&e("button",{type:"button",className:"ss-dbg-retry-btn",onClick:()=>p(m.id),disabled:d===m.id,children:d===m.id?"...":"Retry"})})]},m.id)})})]})]})}const Jn=Object.freeze(Object.defineProperty({__proto__:null,JobsTab:Lt,default:Lt},Symbol.toStringTag,{value:"Module"}));function j(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.__redacted===!0}function Ee(t,n){if(typeof t!="object"||t===null||t===void 0)return[{path:n,value:t}];if(Array.isArray(t)||j(t))return[{path:n,value:t}];const s=[];for(const r of Object.keys(t)){const l=n?`${n}.${r}`:r,i=t[r];typeof i=="object"&&i!==null&&!Array.isArray(i)&&!j(i)?s.push(...Ee(i,l)):s.push({path:l,value:i})}return s}function Ae(t){return t==null?{text:"null",color:"var(--ss-dim)"}:typeof t=="boolean"?{text:String(t),color:t?"var(--ss-green-fg)":"var(--ss-red-fg)"}:typeof t=="number"?{text:String(t),color:"var(--ss-amber-fg)"}:Array.isArray(t)?{text:`[${t.map(s=>s==null?"null":typeof s=="object"?JSON.stringify(s):String(s)).join(", ")}]`,color:"var(--ss-purple-fg)"}:typeof t=="object"?{text:JSON.stringify(t),color:"var(--ss-dim)"}:{text:String(t)}}function Et(t){if(t==null||typeof t!="object"||Array.isArray(t)||j(t))return 1;let n=0;for(const s of Object.keys(t))n+=Et(t[s]);return n}function Kn(t){if(t==null||typeof t!="object"||Array.isArray(t)||j(t))return[];const n=[];for(const s of Object.keys(t)){const r=t[s];r!==null&&typeof r=="object"&&!Array.isArray(r)&&!j(r)&&n.push(s)}return n}function he(t,n,s){n&&navigator.clipboard.writeText(t).then(()=>{const r=n.textContent;n.textContent="âœ“",n.classList.add(`${s}-copy-row-ok`),setTimeout(()=>{n.textContent=r,n.classList.remove(`${s}-copy-row-ok`)},1200)}).catch(()=>{})}function fe({redacted:t,p:n}){const[s,r]=x(!1);return e("span",{className:`${n}-config-redacted`,style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[e("span",{children:s?t.value:t.display}),e("button",{type:"button",className:`${n}-btn`,title:s?"Hide":"Reveal",style:{padding:"0 4px",fontSize:"0.85em",lineHeight:1,minWidth:"auto"},onClick:l=>{l.stopPropagation(),r(i=>!i)},children:s?e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"}),e("path",{d:"M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"}),e("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})]})})]})}function Qn({env:t,search:n,p:s}){const r=P(new Map),l=n.toLowerCase(),i=Object.entries(t).filter(([c,o])=>{if(!l)return!0;const u=j(o)?o.display:o==null?"":String(o);return c.toLowerCase().includes(l)||u.toLowerCase().includes(l)});return e("div",{className:`${s}-config-table-wrap`,children:e("table",{className:`${s}-table ${s}-config-env-table`,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Variable"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:[i.map(([c,o])=>{const u=j(o),d=u?o.display:o==null?"null":String(o),f=`${c}=${d}`;return e("tr",{children:[e("td",{className:`${s}-env-key`,children:e("span",{className:`${s}-config-key`,children:c})}),e("td",{className:`${s}-env-val`,children:u?e(fe,{redacted:o,p:s}):e("span",{className:`${s}-config-val`,children:d})}),e("td",{children:!u&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:a=>{r.current.set(c,a)},onClick:a=>{a.stopPropagation(),he(f,r.current.get(c)??null,s)},children:"âŽ˜"})})]},c)}),i.length===0&&e("tr",{children:e("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching variables"})})]})]})})}function Gn({source:t,search:n,p:s}){const r=P(new Map),l=n.toLowerCase(),i=Ee(t,""),c=i.filter(o=>{const u=j(o.value)?o.value.display:o.value===null||o.value===void 0?"":String(o.value);return o.path.toLowerCase().includes(l)||u.toLowerCase().includes(l)});return e("div",{className:`${s}-config-table-wrap`,children:[e("table",{className:`${s}-table`,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Path"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:[c.map(o=>{const u=j(o.value),d=u?null:Ae(o.value),f=u?o.value.display:d.text,a=`${o.path}: ${f}`;return e("tr",{children:[e("td",{children:e("span",{className:`${s}-config-key`,style:{whiteSpace:"nowrap"},children:o.path})}),e("td",{children:u?e(fe,{redacted:o.value,p:s}):e("span",{className:`${s}-config-val`,style:{wordBreak:"break-all",color:d.color},children:d.text})}),e("td",{children:!u&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:p=>{r.current.set(o.path,p)},onClick:p=>{p.stopPropagation(),he(a,r.current.get(o.path)??null,s)},children:"âŽ˜"})})]},o.path)}),c.length===0&&e("tr",{children:e("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching entries"})})]})]}),e("div",{style:{padding:"4px 16px",fontSize:"10px",color:"var(--ss-muted)"},children:[c.length," of ",i.length," entries"]})]})}function Xn({obj:t,prefix:n,p:s}){const r=P(new Map),l=Ee(t,n);return e("table",{className:`${s}-table ${s}-config-inner-table`,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"35%"},children:"Key"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:l.map(i=>{const c=i.path.indexOf(n+".")===0?i.path.slice(n.length+1):i.path,o=j(i.value),u=o?null:Ae(i.value),d=o?i.value.display:u.text,f=`${i.path}: ${d}`;return e("tr",{children:[e("td",{title:c,children:e("span",{className:`${s}-config-key`,children:c})}),e("td",{title:d,children:o?e(fe,{redacted:i.value,p:s}):e("span",{className:`${s}-config-val`,style:{color:u.color},children:u.text})}),e("td",{children:!o&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:a=>{r.current.set(i.path,a)},onClick:a=>{a.stopPropagation(),he(f,r.current.get(i.path)??null,s)},children:"âŽ˜"})})]},i.path)})})]})}function Yn({value:t,p:n}){if(t==null)return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:"null"});if(j(t))return e(fe,{redacted:t,p:n});if(typeof t=="boolean")return e("span",{className:`${n}-config-val`,style:{color:t?"var(--ss-green-fg)":"var(--ss-red-fg)"},children:String(t)});if(typeof t=="number")return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-amber-fg)"},children:String(t)});if(Array.isArray(t)){const s=t.map(r=>r==null?"null":typeof r=="object"?JSON.stringify(r):String(r));return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-purple-fg)"},children:["[",s.join(", "),"]"]})}return typeof t=="object"?e("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:JSON.stringify(t)}):e("span",{className:`${n}-config-val`,children:String(t)})}function Zn({obj:t,expandedPaths:n,onToggle:s,p:r}){if(t==null||typeof t!="object"||Array.isArray(t)||j(t))return null;const l=Object.keys(t),i=P(new Map);return e("div",{className:`${r}-config-sections`,children:l.map(c=>{const o=t[c],u=o!==null&&typeof o=="object"&&!Array.isArray(o)&&!j(o),d=n.has(c),f=j(o);return e("div",{className:`${r}-config-section`,children:[e("div",{className:`${r}-config-section-header${u?"":` ${r}-config-leaf`}`,onClick:u?()=>s(c):void 0,style:{cursor:u?"pointer":"default"},children:[u?e("span",{className:`${r}-config-toggle`,children:d?"â–¼":"â–¶"}):e("span",{className:`${r}-config-toggle`,style:{visibility:"hidden"},children:"â€¢"}),e("span",{className:`${r}-config-key`,children:c}),u?e("span",{className:`${r}-config-count`,children:[Et(o)," entries"]}):e(I,{children:[e("span",{className:`${r}-config-val`,style:{marginLeft:"8px"},children:e(Yn,{value:o,p:r})}),!f&&e("button",{type:"button",className:`${r}-copy-row-btn`,style:{marginLeft:"4px"},title:"Copy",ref:a=>{i.current.set(c,a)},onClick:a=>{a.stopPropagation();const p=Ae(o);he(`${c}: ${p.text}`,i.current.get(c)??null,r)},children:"âŽ˜"})]})]}),u&&d&&e("div",{className:`${r}-config-section-body`,children:e(Xn,{obj:o,prefix:c,p:r})})]},c)})})}function es({data:t,isLoading:n,classPrefix:s}){const r=s,[l,i]=x(""),[c,o]=x(""),[u,d]=x("app"),[f,a]=x(new Set),[p,h]=x("Copy JSON");M(()=>{const N=setTimeout(()=>o(l),200);return()=>clearTimeout(N)},[l]);const g=t,y=k(N=>{a(S=>{const v=new Set(S);return v.has(N)?v.delete(N):v.add(N),v})},[]),m=k(()=>{if(!g)return;const N=u==="app"?g.app:g.env;if(!N)return;const S=Kn(N);a(new Set(S))},[g,u]),_=k(()=>{a(new Set)},[]),b=k(async()=>{if(g)try{const N=u==="app"?g.app:g.env;await navigator.clipboard.writeText(JSON.stringify(N,null,2)),h("Copied!"),setTimeout(()=>h("Copy JSON"),1500)}catch{}},[g,u]);return e("div",{children:[e("div",{className:`${r}-config-toolbar`,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px"},children:[e("button",{type:"button",className:`${r}-config-tab${u==="app"?` ${r}-active`:""}`,onClick:()=>d("app"),children:"App Config"}),e("button",{type:"button",className:`${r}-config-tab${u==="env"?` ${r}-active`:""}`,onClick:()=>d("env"),children:"Env"}),e("div",{style:{position:"relative",flex:1},children:[e("input",{type:"text",className:`${r}-search`,placeholder:"Search keys and values...",value:l,onChange:N=>i(N.target.value),style:{width:"100%"}}),l&&e("button",{type:"button",onClick:()=>i(""),style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"14px",color:"var(--ss-dim)",padding:"0 2px",lineHeight:1},children:"Ã—"})]}),u==="app"&&!c&&e(I,{children:[e("button",{type:"button",className:`${r}-btn`,onClick:m,children:"Expand All"}),e("button",{type:"button",className:`${r}-btn`,onClick:_,children:"Collapse All"})]}),e("button",{type:"button",className:`${r}-btn`,onClick:b,children:p})]}),n&&!t?e("div",{className:`${r}-empty`,children:"Loading config..."}):g?u==="env"?e(Qn,{env:g.env??{},search:c,p:r}):c?e(Gn,{source:g.app??{},search:c,p:r}):e("div",{className:`${r}-config-table-wrap`,children:e(Zn,{obj:g.app,expandedPaths:f,onToggle:y,p:r})}):e("div",{className:`${r}-empty`,children:"Config not available"})]})}function At({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:c}=F("config",r);return c?e("div",{className:"ss-dbg-empty",children:["Error: ",c.message]}):e(es,{data:l,isLoading:i,classPrefix:"ss-dbg"})}const ts=Object.freeze(Object.defineProperty({__proto__:null,ConfigTab:At,default:At},Symbol.toStringTag,{value:"Module"})),ns=["password","secret","token","key","credential","auth"];function Pt(t){const n=t.toLowerCase();return ns.some(s=>n.includes(s))}function Mt(t){const n=Date.now()-t,s=Math.floor(n/1e3);if(s<60)return`${s}s ago`;const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const l=Math.floor(r/60);return l<24?`${l}h ago`:`${Math.floor(l/24)}d ago`}function Pe(t){return t.toLocaleString()}function Ot(t){return t<1e3?`${t}ms`:t<6e4?`${t/1e3}s`:t<36e5?`${t/6e4}m`:`${t/36e5}h`}function ss(t){if(!t&&t!==0)return"-";const n=Math.floor(t),s=Math.floor(n/86400),r=Math.floor(n%86400/3600),l=Math.floor(n%3600/60);return s>0?`${s}d ${r}h`:r>0?`${r}h ${l}m`:l>0?`${l}m ${n%60}s`:`${n}s`}function jt(t){if(t==null)return"-";if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t))return t.join(", ")||"-";try{return JSON.stringify(t)}catch{return String(t)}}function Y({status:t,prefix:n}){let s=`${n}-dot`;return["healthy","active","connected","available","ready"].includes(t)?s+=` ${n}-dot-ok`:["errored","unavailable"].includes(t)&&(s+=` ${n}-dot-err`),e("span",{className:s})}const It=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})]}),Rt=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"}),e("path",{d:"M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"}),e("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),e("path",{d:"M14.12 14.12a3 3 0 1 1-4.24-4.24"})]});function rs({value:t}){const[n,s]=x(!1);return e("span",{children:[n?t:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",e("button",{type:"button",onClick:()=>s(r=>!r),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:n?e(Rt,{}):e(It,{})})]})}function ls({current:t,max:n,prefix:s}){const r=n>0?Math.min(100,Math.round(t/n*100)):0,l=r>=100;return e("div",{className:`${s}-bar`,children:[e("div",{className:`${s}-bar-track`,children:e("div",{className:`${s}-bar-fill${l?` ${s}-bar-fill-warn`:""}`,style:{width:`${r}%`}})}),e("span",{className:`${s}-bar-pct${l?` ${s}-bar-pct-warn`:""}`,children:[r,"%"]})]})}function is({config:t,prefix:n}){const s=Object.entries(t);return s.length===0?e("span",{className:`${n}-c-dim`,children:"-"}):e("span",{className:`${n}-c-muted`,children:s.map(([r,l],i)=>e("span",{children:[i>0&&", ",e("span",{className:`${n}-c-dim`,children:r}),"=",Pt(r)&&typeof l=="string"?e(rs,{value:l}):e("span",{children:jt(l)})]},r))})}function pe({label:t,value:n,prefix:s}){return e("div",{className:`${s}-info-card`,children:[e("span",{className:`${s}-info-card-label`,children:t}),e("span",{className:`${s}-info-card-value`,children:n})]})}function as({data:t,tableClassName:n,classPrefix:s}){const r=s||"ss-dash",[l,i]=x(new Set),c=k(f=>{i(a=>{const p=new Set(a);return p.has(f)?p.delete(f):p.add(f),p})},[]),o=k((f,a)=>{if(a==null)return e("span",{className:`${r}-c-dim`,children:"null"});if(typeof a=="boolean")return e("span",{className:a?`${r}-c-green`:`${r}-c-red`,children:String(a)});if(Array.isArray(a))return e("span",{children:a.join(", ")||"-"});const p=jt(a);if(Pt(f)){const h=l.has(f);return e("span",{children:[h?p:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",e("button",{type:"button",onClick:()=>c(f),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:h?e(Rt,{}):e(It,{})})]})}return e("span",{children:p})},[l,c,r]),u={collectionInterval:"Stats Collection",dashboardBroadcast:"Dashboard Broadcast",debugBroadcast:"Debug Broadcast",persistFlush:"Persist Flush",retentionCleanup:"Retention Cleanup"},d={prometheus:"Prometheus",pinoHook:"Pino Log Hook",edgePlugin:"Edge Plugin",cacheInspector:"Cache Inspector",queueInspector:"Queue Inspector"};return e("div",{children:[e("h3",{className:`${r}-internals-title`,children:"Package Info"}),e("div",{className:`${r}-info-cards`,children:[e(pe,{label:"Version",value:t.package.version||"-",prefix:r}),e(pe,{label:"Node.js",value:t.package.nodeVersion||"-",prefix:r}),e(pe,{label:"AdonisJS",value:t.package.adonisVersion||"-",prefix:r}),e(pe,{label:"Uptime",value:ss(t.package.uptime),prefix:r})]}),t.collectors.length>0&&e(I,{children:[e("h3",{className:`${r}-internals-title`,children:"Collectors"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Collector"}),e("th",{children:"Status"}),e("th",{children:"Last Error"}),e("th",{children:"Config"})]})}),e("tbody",{children:t.collectors.map(f=>e("tr",{children:[e("td",{children:[e("code",{children:f.name}),f.label&&f.label!==f.name&&e("span",{className:`${r}-c-dim`,children:[" ",f.label]})]}),e("td",{children:[e(Y,{status:f.status,prefix:r}),f.status]}),e("td",{className:f.lastError?`${r}-c-red`:`${r}-c-dim`,children:f.lastError?e(I,{children:[f.lastError,f.lastErrorAt&&e("span",{className:`${r}-c-dim`,style:{fontSize:"10px"},children:Mt(f.lastErrorAt)})]}):"-"}),e("td",{children:e(is,{config:f.config,prefix:r})})]},f.name))})]})]}),e("h3",{className:`${r}-internals-title`,children:"Buffers"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Buffer"}),e("th",{children:"Usage"}),e("th",{children:"Fill %"})]})}),e("tbody",{children:Object.entries(t.buffers).map(([f,a])=>e("tr",{children:[e("td",{style:{textTransform:"capitalize"},children:f}),e("td",{children:[Pe(a.current)," / ",Pe(a.max)]}),e("td",{children:e(ls,{current:a.current,max:a.max,prefix:r})})]},f))})]}),e("h3",{className:`${r}-internals-title`,children:"Timers"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Timer"}),e("th",{children:"Status"}),e("th",{children:"Interval"})]})}),e("tbody",{children:Object.entries(t.timers).map(([f,a])=>e("tr",{children:[e("td",{children:u[f]||f}),e("td",{children:[e(Y,{status:a.active?"active":"inactive",prefix:r}),e("span",{className:a.active?`${r}-c-green`:`${r}-c-dim`,children:a.active?"active":"inactive"})]}),e("td",{children:a.active?a.intervalMs?Ot(a.intervalMs):a.debounceMs?`${Ot(a.debounceMs)} (debounce)`:"-":e("span",{className:`${r}-c-dim`,children:"â€”"})})]},f))})]}),e("h3",{className:`${r}-internals-title`,children:"Integrations"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Integration"}),e("th",{children:"Status"}),e("th",{children:"Details"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"Transmit (SSE)"}),e("td",{children:[e(Y,{status:t.transmit.available?"connected":"inactive",prefix:r}),t.transmit.available?"connected":"unavailable"]}),e("td",{style:{fontSize:"11px"},children:t.transmit.channels.length>0?`Channels: ${t.transmit.channels.join(", ")}`:"-"})]}),Object.entries(t.integrations).map(([f,a])=>{const p=a.active??a.available??!1,h=a.active?"active":a.available?"available":"unavailable";let g=a.mode?`Mode: ${a.mode}`:"-";return f==="edgePlugin"&&a.active?g="@serverStats() tag registered":f==="cacheInspector"&&a.available?g="Redis dependency detected":f==="queueInspector"&&a.available&&(g="Queue dependency detected"),e("tr",{children:[e("td",{children:d[f]||f}),e("td",{children:[e(Y,{status:p?"active":"inactive",prefix:r}),h]}),e("td",{className:`${r}-c-dim`,style:{fontSize:"11px"},children:g})]},f)})]})]}),t.storage&&e(I,{children:[e("h3",{className:`${r}-internals-title`,children:"Storage (SQLite)"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Metric"}),e("th",{children:"Value"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"Status"}),e("td",{children:[e(Y,{status:t.storage.ready?"ready":"inactive",prefix:r}),t.storage.ready?"ready":"not ready"]})]}),e("tr",{children:[e("td",{children:"DB Path"}),e("td",{children:e("code",{children:t.storage.dbPath})})]}),e("tr",{children:[e("td",{children:"File Size"}),e("td",{children:[t.storage.fileSizeMb.toFixed(1)," MB"]})]}),e("tr",{children:[e("td",{children:"WAL Size"}),e("td",{children:[t.storage.walSizeMb.toFixed(1)," MB"]})]}),e("tr",{children:[e("td",{children:"Retention"}),e("td",{children:[t.storage.retentionDays," days"]})]}),e("tr",{children:[e("td",{children:"Last Cleanup"}),e("td",{children:t.storage.lastCleanupAt?Mt(t.storage.lastCleanupAt):"-"})]})]})]}),t.storage.tables.length>0&&e("table",{className:n,style:{marginTop:8},children:[e("thead",{children:e("tr",{children:[e("th",{children:"Table"}),e("th",{children:"Rows"})]})}),e("tbody",{children:t.storage.tables.map(f=>e("tr",{children:[e("td",{children:e("code",{children:f.name})}),e("td",{children:Pe(f.rowCount)})]},f.name))})]})]}),e("h3",{className:`${r}-internals-title`,children:"Resolved Config"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Setting"}),e("th",{children:"Value"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"intervalMs"}),e("td",{children:t.config.intervalMs})]}),e("tr",{children:[e("td",{children:"transport"}),e("td",{children:t.config.transport})]}),e("tr",{children:[e("td",{children:"channelName"}),e("td",{children:t.config.channelName})]}),e("tr",{children:[e("td",{children:"endpoint"}),e("td",{children:t.config.endpoint===!1?"false":t.config.endpoint})]}),e("tr",{children:[e("td",{children:"skipInTest"}),e("td",{children:o("skipInTest",t.config.skipInTest)})]}),e("tr",{children:[e("td",{children:"onStats callback"}),e("td",{children:t.config.hasOnStatsCallback?"defined":"not defined"})]}),e("tr",{children:[e("td",{children:"shouldShow callback"}),e("td",{children:t.config.hasShouldShowCallback?"defined":"not defined"})]})]})]}),e("h4",{className:`${r}-internals-title`,children:"DevToolbar"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Setting"}),e("th",{children:"Value"})]})}),e("tbody",{children:Object.entries(t.devToolbar).map(([f,a])=>e("tr",{children:[e("td",{children:f==="customPaneCount"?"customPanes":f}),e("td",{children:f==="customPaneCount"?`${a} registered`:o(f,a)})]},f))})]})]})}const cs=3e3;function Dt({options:t}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t||{},[l,i]=x(null),[c,o]=x(!0),[u,d]=x(null),f=P(null),a=P(null),p=k(()=>(f.current||(f.current=new oe({baseUrl:n,authToken:r})),f.current),[n,r]),h=k(async()=>{try{const y=await p().get(`${s}/diagnostics`);i(y),d(null),o(!1)}catch(g){if(g instanceof Ce){d(g),o(!1),a.current&&(clearInterval(a.current),a.current=null);return}d(g instanceof Error?g:new Error(String(g))),o(!1)}},[s,p]);return M(()=>(o(!0),d(null),h(),a.current=setInterval(h,cs),()=>{a.current&&(clearInterval(a.current),a.current=null)}),[h]),c&&!l?e("div",{className:"ss-dbg-empty",children:"Loading diagnostics..."}):u?e("div",{className:"ss-dbg-empty",children:["Error: ",u.message]}):l?e(as,{data:l,tableClassName:"ss-dbg-table",classPrefix:"ss-dbg"}):e("div",{className:"ss-dbg-empty",children:"Diagnostics not available"})}const os=Object.freeze(Object.defineProperty({__proto__:null,InternalsTab:Dt,default:Dt},Symbol.toStringTag,{value:"Module"}));function Ft({pane:t,options:n}){({...n});const{data:s,isLoading:r,error:l,clearData:i}=F(t.endpoint.replace(/^\//,""),{...n,debugEndpoint:""}),[c,o]=x(""),u=T(()=>{if(!s)return[];const p=t.dataKey||t.id;let h=s;for(const g of p.split("."))h=h?.[g];return Array.isArray(h)?h:[]},[s,t.dataKey,t.id]),d=T(()=>{if(!c)return u;const p=c.toLowerCase(),h=t.columns.filter(g=>g.searchable).map(g=>g.key);return h.length===0?u:u.filter(g=>h.some(y=>{const m=g[y];return m!==null&&String(m).toLowerCase().includes(p)}))},[u,c,t.columns]),f=(p,h)=>{if(p==null)return e("span",{className:"ss-dbg-c-dim",children:"-"});switch(h.format||"text"){case"time":return e("span",{className:"ss-dbg-event-time",title:H(p),children:typeof p=="number"?V(p):String(p)});case"timeAgo":return e("span",{className:"ss-dbg-event-time",title:H(p),children:V(p)});case"duration":{const y=typeof p=="number"?p:parseFloat(String(p));return isNaN(y)?String(p):e("span",{className:`ss-dbg-duration ${y>500?"ss-dbg-very-slow":y>100?"ss-dbg-slow":""}`,children:U(y)})}case"method":return e("span",{className:`ss-dbg-method ss-dbg-method-${String(p).toLowerCase()}`,children:String(p)});case"json":{let y=p;if(typeof p=="string")try{y=JSON.parse(p)}catch{}return ue(y,80)}case"badge":{const y=String(p).toLowerCase(),_=(h.badgeColorMap||{})[y]||"muted";return e("span",{className:`ss-dbg-badge ss-dbg-badge-${_}`,children:String(p)})}default:return String(p)}},a=P(null);return M(()=>{if(a.current)return q(a.current)},[d]),r&&!s?e("div",{className:"ss-dbg-empty",children:["Loading ",t.label,"..."]}):l?e("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):e("div",{children:[t.search&&e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:t.search.placeholder,value:c,onChange:p=>o(p.target.value)}),e("span",{className:"ss-dbg-summary",children:[d.length," items"]}),t.clearable&&e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:i,children:"Clear"})]}),d.length===0?e("div",{className:"ss-dbg-empty",children:"No data"}):e("table",{ref:a,className:"ss-dbg-table",children:[e("thead",{children:e("tr",{children:t.columns.map(p=>e("th",{children:p.label},p.key))})}),e("tbody",{children:d.map((p,h)=>e("tr",{children:t.columns.map(g=>e("td",{children:f(p[g.key],g)},g.key))},p.id??h))})]})]})}const ds=Object.freeze(Object.defineProperty({__proto__:null,CustomPaneTab:Ft,default:Ft},Symbol.toStringTag,{value:"Module"}))})();
