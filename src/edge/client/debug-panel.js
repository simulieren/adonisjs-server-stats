(function(){"use strict";var ee,x,Oe,J,je,Ie,Be,Re,ge,me,be,te={},ne=[],Ht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function H(t,n){for(var s in n)t[s]=n[s];return t}function ye(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function se(t,n,s){var r,l,i,o={};for(i in n)i=="key"?r=n[i]:i=="ref"?l=n[i]:o[i]=n[i];if(arguments.length>2&&(o.children=arguments.length>3?ee.call(arguments,2):s),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return re(t,o,r,l,null)}function re(t,n,s,r,l){var i={type:t,props:n,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++Oe,__i:-1,__u:0};return l==null&&x.vnode!=null&&x.vnode(i),i}function B(t){return t.children}function U(t,n){this.props=t,this.context=n}function K(t,n){if(n==null)return t.__?K(t.__,t.__i+1):null;for(var s;n<t.__k.length;n++)if((s=t.__k[n])!=null&&s.__e!=null)return s.__e;return typeof t.type=="function"?K(t):null}function Ut(t){if(t.__P&&t.__d){var n=t.__v,s=n.__e,r=[],l=[],i=H({},n);i.__v=n.__v+1,x.vnode&&x.vnode(i),ve(t.__P,i,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,r,s??K(n),!!(32&n.__u),l),i.__v=n.__v,i.__.__k[i.__i]=i,qe(r,i,l),n.__e=n.__=null,i.__e!=s&&De(i)}}function De(t){if((t=t.__)!=null&&t.__c!=null)return t.__e=t.__c.base=null,t.__k.some(function(n){if(n!=null&&n.__e!=null)return t.__e=t.__c.base=n.__e}),De(t)}function Fe(t){(!t.__d&&(t.__d=!0)&&J.push(t)&&!le.__r++||je!=x.debounceRendering)&&((je=x.debounceRendering)||Ie)(le)}function le(){for(var t,n=1;J.length;)J.length>n&&J.sort(Be),t=J.shift(),n=J.length,Ut(t);le.__r=0}function He(t,n,s,r,l,i,o,c,u,d,f){var a,p,h,g,y,m,_,b=r&&r.__k||ne,w=n.length;for(u=zt(s,n,b,u,w),a=0;a<w;a++)(h=s.__k[a])!=null&&(p=h.__i!=-1&&b[h.__i]||te,h.__i=a,m=ve(t,h,p,l,i,o,c,u,d,f),g=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&Ne(p.ref,null,h),f.push(h.ref,h.__c||g,h)),y==null&&g!=null&&(y=g),(_=!!(4&h.__u))||p.__k===h.__k?u=Ue(h,u,t,_):typeof h.type=="function"&&m!==void 0?u=m:g&&(u=g.nextSibling),h.__u&=-7);return s.__e=y,u}function zt(t,n,s,r,l){var i,o,c,u,d,f=s.length,a=f,p=0;for(t.__k=new Array(l),i=0;i<l;i++)(o=n[i])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[i]=re(null,o,null,null,null):Q(o)?o=t.__k[i]=re(B,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=t.__k[i]=re(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[i]=o,u=i+p,o.__=t,o.__b=t.__b+1,c=null,(d=o.__i=Vt(o,s,u,a))!=-1&&(a--,(c=s[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(l>f?p--:l<f&&p++),typeof o.type!="function"&&(o.__u|=4)):d!=u&&(d==u-1?p--:d==u+1?p++:(d>u?p--:p++,o.__u|=4))):t.__k[i]=null;if(a)for(i=0;i<f;i++)(c=s[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=K(c)),Je(c,c));return r}function Ue(t,n,s,r){var l,i;if(typeof t.type=="function"){for(l=t.__k,i=0;l&&i<l.length;i++)l[i]&&(l[i].__=t,n=Ue(l[i],n,s,r));return n}t.__e!=n&&(r&&(n&&t.type&&!n.parentNode&&(n=K(t)),s.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function ie(t,n){return n=n||[],t==null||typeof t=="boolean"||(Q(t)?t.some(function(s){ie(s,n)}):n.push(t)),n}function Vt(t,n,s,r){var l,i,o,c=t.key,u=t.type,d=n[s],f=d!=null&&(2&d.__u)==0;if(d===null&&c==null||f&&c==d.key&&u==d.type)return s;if(r>(f?1:0)){for(l=s-1,i=s+1;l>=0||i<n.length;)if((d=n[o=l>=0?l--:i++])!=null&&(2&d.__u)==0&&c==d.key&&u==d.type)return o}return-1}function ze(t,n,s){n[0]=="-"?t.setProperty(n,s??""):t[n]=s==null?"":typeof s!="number"||Ht.test(n)?s:s+"px"}function ae(t,n,s,r,l){var i,o;e:if(n=="style")if(typeof s=="string")t.style.cssText=s;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)s&&n in s||ze(t.style,n,"");if(s)for(n in s)r&&s[n]==r[n]||ze(t.style,n,s[n])}else if(n[0]=="o"&&n[1]=="n")i=n!=(n=n.replace(Re,"$1")),o=n.toLowerCase(),n=o in t||n=="onFocusOut"||n=="onFocusIn"?o.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+i]=s,s?r?s.u=r.u:(s.u=ge,t.addEventListener(n,i?be:me,i)):t.removeEventListener(n,i?be:me,i);else{if(l=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&s==1?"":s))}}function Ve(t){return function(n){if(this.l){var s=this.l[n.type+t];if(n.t==null)n.t=ge++;else if(n.t<s.u)return;return s(x.event?x.event(n):n)}}}function ve(t,n,s,r,l,i,o,c,u,d){var f,a,p,h,g,y,m,_,b,w,S,v,L,N,j,C=n.type;if(n.constructor!==void 0)return null;128&s.__u&&(u=!!(32&s.__u),i=[c=n.__e=s.__e]),(f=x.__b)&&f(n);e:if(typeof C=="function")try{if(_=n.props,b="prototype"in C&&C.prototype.render,w=(f=C.contextType)&&r[f.__c],S=f?w?w.props.value:f.__:r,s.__c?m=(a=n.__c=s.__c).__=a.__E:(b?n.__c=a=new C(_,S):(n.__c=a=new U(_,S),a.constructor=C,a.render=Wt),w&&w.sub(a),a.state||(a.state={}),a.__n=r,p=a.__d=!0,a.__h=[],a._sb=[]),b&&a.__s==null&&(a.__s=a.state),b&&C.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=H({},a.__s)),H(a.__s,C.getDerivedStateFromProps(_,a.__s))),h=a.props,g=a.state,a.__v=n,p)b&&C.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),b&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(b&&C.getDerivedStateFromProps==null&&_!==h&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(_,S),n.__v==s.__v||!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(_,a.__s,S)===!1){n.__v!=s.__v&&(a.props=_,a.state=a.__s,a.__d=!1),n.__e=s.__e,n.__k=s.__k,n.__k.some(function(D){D&&(D.__=n)}),ne.push.apply(a.__h,a._sb),a._sb=[],a.__h.length&&o.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(_,a.__s,S),b&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(h,g,y)})}if(a.context=S,a.props=_,a.__P=t,a.__e=!1,v=x.__r,L=0,b)a.state=a.__s,a.__d=!1,v&&v(n),f=a.render(a.props,a.state,a.context),ne.push.apply(a.__h,a._sb),a._sb=[];else do a.__d=!1,v&&v(n),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++L<25);a.state=a.__s,a.getChildContext!=null&&(r=H(H({},r),a.getChildContext())),b&&!p&&a.getSnapshotBeforeUpdate!=null&&(y=a.getSnapshotBeforeUpdate(h,g)),N=f!=null&&f.type===B&&f.key==null?We(f.props.children):f,c=He(t,Q(N)?N:[N],n,s,r,l,i,o,c,u,d),a.base=n.__e,n.__u&=-161,a.__h.length&&o.push(a),m&&(a.__E=a.__=null)}catch(D){if(n.__v=null,u||i!=null)if(D.then){for(n.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,n.__e=c}else{for(j=i.length;j--;)ye(i[j]);we(n)}else n.__e=s.__e,n.__k=s.__k,D.then||we(n);x.__e(D,n,s)}else i==null&&n.__v==s.__v?(n.__k=s.__k,n.__e=s.__e):c=n.__e=qt(s.__e,n,s,r,l,i,o,u,d);return(f=x.diffed)&&f(n),128&n.__u?void 0:c}function we(t){t&&(t.__c&&(t.__c.__e=!0),t.__k&&t.__k.some(we))}function qe(t,n,s){for(var r=0;r<s.length;r++)Ne(s[r],s[++r],s[++r]);x.__c&&x.__c(n,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(i){i.call(l)})}catch(i){x.__e(i,l.__v)}})}function We(t){return typeof t!="object"||t==null||t.__b>0?t:Q(t)?t.map(We):H({},t)}function qt(t,n,s,r,l,i,o,c,u){var d,f,a,p,h,g,y,m=s.props||te,_=n.props,b=n.type;if(b=="svg"?l="http://www.w3.org/2000/svg":b=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((h=i[d])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){t=h,i[d]=null;break}}if(t==null){if(b==null)return document.createTextNode(_);t=document.createElementNS(l,b,_.is&&_),c&&(x.__m&&x.__m(n,i),c=!1),i=null}if(b==null)m===_||c&&t.data==_||(t.data=_);else{if(i=i&&ee.call(t.childNodes),!c&&i!=null)for(m={},d=0;d<t.attributes.length;d++)m[(h=t.attributes[d]).name]=h.value;for(d in m)h=m[d],d=="dangerouslySetInnerHTML"?a=h:d=="children"||d in _||d=="value"&&"defaultValue"in _||d=="checked"&&"defaultChecked"in _||ae(t,d,null,h,l);for(d in _)h=_[d],d=="children"?p=h:d=="dangerouslySetInnerHTML"?f=h:d=="value"?g=h:d=="checked"?y=h:c&&typeof h!="function"||m[d]===h||ae(t,d,h,m[d],l);if(f)c||a&&(f.__html==a.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),n.__k=[];else if(a&&(t.innerHTML=""),He(n.type=="template"?t.content:t,Q(p)?p:[p],n,s,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":l,i,o,i?i[0]:s.__k&&K(s,0),c,u),i!=null)for(d=i.length;d--;)ye(i[d]);c||(d="value",b=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[d]||b=="progress"&&!g||b=="option"&&g!=m[d])&&ae(t,d,g,m[d],l),d="checked",y!=null&&y!=t[d]&&ae(t,d,y,m[d],l))}return t}function Ne(t,n,s){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&n==null||(t.__u=t(n))}else t.current=n}catch(l){x.__e(l,s)}}function Je(t,n,s){var r,l;if(x.unmount&&x.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Ne(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){x.__e(i,n)}r.base=r.__P=null}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&Je(r[l],n,s||typeof t.type!="function");s||ye(t.__e),t.__c=t.__=t.__e=void 0}function Wt(t,n,s){return this.constructor(t,s)}function Jt(t,n,s){var r,l,i,o;n==document&&(n=document.documentElement),x.__&&x.__(t,n),l=(r=!1)?null:n.__k,i=[],o=[],ve(n,t=n.__k=se(B,null,[t]),l||te,te,n.namespaceURI,l?null:n.firstChild?ee.call(n.childNodes):null,i,l?l.__e:n.firstChild,r,o),qe(i,t,o)}ee=ne.slice,x={__e:function(t,n,s,r){for(var l,i,o;n=n.__;)if((l=n.__c)&&!l.__)try{if((i=l.constructor)&&i.getDerivedStateFromError!=null&&(l.setState(i.getDerivedStateFromError(t)),o=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,r||{}),o=l.__d),o)return l.__E=l}catch(c){t=c}throw t}},Oe=0,U.prototype.setState=function(t,n){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},s),this.props)),t&&H(s,t),t!=null&&this.__v&&(n&&this._sb.push(n),Fe(this))},U.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fe(this))},U.prototype.render=B,J=[],Ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Be=function(t,n){return t.__v.__b-n.__v.__b},le.__r=0,Re=/(PointerCapture)$|Capture$/i,ge=0,me=Ve(!1),be=Ve(!0);var Kt=0;function e(t,n,s,r,l,i){n||(n={});var o,c,u=n;if("ref"in u)for(c in u={},n)c=="ref"?o=n[c]:u[c]=n[c];var d={type:t,props:u,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Kt,__i:-1,__u:0,__source:l,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(c in o)u[c]===void 0&&(u[c]=o[c]);return x.vnode&&x.vnode(d),d}var G,E,xe,Ke,X=0,Qe=[],A=x,Ge=A.__b,Xe=A.__r,Ye=A.diffed,Ze=A.__c,et=A.unmount,tt=A.__;function $e(t,n){A.__h&&A.__h(E,t,X||n),X=0;var s=E.__H||(E.__H={__:[],__h:[]});return t>=s.__.length&&s.__.push({}),s.__[t]}function $(t){return X=1,Qt(rt,t)}function Qt(t,n,s){var r=$e(G++,2);if(r.t=t,!r.__c&&(r.__=[s?s(n):rt(void 0,n),function(c){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,c);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=E,!E.__f)){var l=function(c,u,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(p){return p.__c});if(f.every(function(p){return!p.__N}))return!i||i.call(this,c,u,d);var a=r.__c.props!==c;return f.some(function(p){if(p.__N){var h=p.__[0];p.__=p.__N,p.__N=void 0,h!==p.__[0]&&(a=!0)}}),i&&i.call(this,c,u,d)||a};E.__f=!0;var i=E.shouldComponentUpdate,o=E.componentWillUpdate;E.componentWillUpdate=function(c,u,d){if(this.__e){var f=i;i=void 0,l(c,u,d),i=f}o&&o.call(this,c,u,d)},E.shouldComponentUpdate=l}return r.__N||r.__}function O(t,n){var s=$e(G++,3);!A.__s&&st(s.__H,n)&&(s.__=t,s.u=n,E.__H.__h.push(s))}function P(t){return X=5,T(function(){return{current:t}},[])}function T(t,n){var s=$e(G++,7);return st(s.__H,n)&&(s.__=t(),s.__H=n,s.__h=t),s.__}function k(t,n){return X=8,T(function(){return t},n)}function Gt(){for(var t;t=Qe.shift();){var n=t.__H;if(t.__P&&n)try{n.__h.some(oe),n.__h.some(Ce),n.__h=[]}catch(s){n.__h=[],A.__e(s,t.__v)}}}A.__b=function(t){E=null,Ge&&Ge(t)},A.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),tt&&tt(t,n)},A.__r=function(t){Xe&&Xe(t),G=0;var n=(E=t.__c).__H;n&&(xe===E?(n.__h=[],E.__h=[],n.__.some(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(n.__h.some(oe),n.__h.some(Ce),n.__h=[],G=0)),xe=E},A.diffed=function(t){Ye&&Ye(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(Qe.push(n)!==1&&Ke===A.requestAnimationFrame||((Ke=A.requestAnimationFrame)||Xt)(Gt)),n.__H.__.some(function(s){s.u&&(s.__H=s.u),s.u=void 0})),xe=E=null},A.__c=function(t,n){n.some(function(s){try{s.__h.some(oe),s.__h=s.__h.filter(function(r){return!r.__||Ce(r)})}catch(r){n.some(function(l){l.__h&&(l.__h=[])}),n=[],A.__e(r,s.__v)}}),Ze&&Ze(t,n)},A.unmount=function(t){et&&et(t);var n,s=t.__c;s&&s.__H&&(s.__H.__.some(function(r){try{oe(r)}catch(l){n=l}}),s.__H=void 0,n&&A.__e(n,s.__v))};var nt=typeof requestAnimationFrame=="function";function Xt(t){var n,s=function(){clearTimeout(r),nt&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(s,35);nt&&(n=requestAnimationFrame(s))}function oe(t){var n=E,s=t.__c;typeof s=="function"&&(t.__c=void 0,s()),E=n}function Ce(t){var n=E;t.__c=t.__(),E=n}function st(t,n){return!t||t.length!==n.length||n.some(function(s,r){return s!==t[r]})}function rt(t,n){return typeof n=="function"?n(t):n}function Yt(t,n){for(var s in n)t[s]=n[s];return t}function lt(t,n){for(var s in t)if(s!=="__source"&&!(s in n))return!0;for(var r in n)if(r!=="__source"&&t[r]!==n[r])return!0;return!1}function it(t,n){this.props=t,this.context=n}(it.prototype=new U).isPureReactComponent=!0,it.prototype.shouldComponentUpdate=function(t,n){return lt(this.props,t)||lt(this.state,n)};var at=x.__b;x.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),at&&at(t)};var Zt=x.__e;x.__e=function(t,n,s,r){if(t.then){for(var l,i=n;i=i.__;)if((l=i.__c)&&l.__c)return n.__e==null&&(n.__e=s.__e,n.__k=s.__k),l.__c(t,n)}Zt(t,n,s,r)};var ot=x.unmount;function ct(t,n,s){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Yt({},t)).__c!=null&&(t.__c.__P===s&&(t.__c.__P=n),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ct(r,n,s)})),t}function dt(t,n,s){return t&&s&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return dt(r,n,s)}),t.__c&&t.__c.__P===n&&(t.__e&&s.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=s)),t}function Y(){this.__u=0,this.o=null,this.__b=null}function ut(t){if(!t.__)return null;var n=t.__.__c;return n&&n.__a&&n.__a(t)}function R(t){var n,s,r,l=null;function i(o){if(n||(n=t()).then(function(c){c&&(l=c.default||c),r=!0},function(c){s=c,r=!0}),s)throw s;if(!r)throw n;return l?se(l,o):null}return i.displayName="Lazy",i.__f=!0,i}function ce(){this.i=null,this.l=null}x.unmount=function(t){var n=t.__c;n&&(n.__z=!0),n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),ot&&ot(t)},(Y.prototype=new U).__c=function(t,n){var s=n.__c,r=this;r.o==null&&(r.o=[]),r.o.push(s);var l=ut(r.__v),i=!1,o=function(){i||r.__z||(i=!0,s.__R=null,l?l(u):u())};s.__R=o;var c=s.__P;s.__P=null;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=dt(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.o.pop();)f.__P=c,f.forceUpdate()}};r.__u++||32&n.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Y.prototype.componentWillUnmount=function(){this.o=[]},Y.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ct(this.__b,s,r.__O=r.__P)}this.__b=null}var l=n.__a&&se(B,null,t.fallback);return l&&(l.__u&=-33),[se(B,null,n.__a?null:t.children),l]};var ht=function(t,n,s){if(++s[1]===s[0]&&t.l.delete(n),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(s=t.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;t.i=s=s[2]}};(ce.prototype=new U).__a=function(t){var n=this,s=ut(n.__v),r=n.l.get(t);return r[0]++,function(l){var i=function(){n.props.revealOrder?(r.push(l),ht(n,t,r)):l()};s?s(i):i()}},ce.prototype.render=function(t){this.i=null,this.l=new Map;var n=ie(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&n.reverse();for(var s=n.length;s--;)this.l.set(n[s],this.i=[1,0,this.i]);return t.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(n,s){ht(t,s,n)})};var en=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,sn=/[A-Z0-9]/g,rn=typeof document<"u",ln=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};U.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(U.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var ft=x.event;function an(){}function on(){return this.cancelBubble}function cn(){return this.defaultPrevented}x.event=function(t){return ft&&(t=ft(t)),t.persist=an,t.isPropagationStopped=on,t.isDefaultPrevented=cn,t.nativeEvent=t};var dn={enumerable:!1,configurable:!0,get:function(){return this.class}},pt=x.vnode;x.vnode=function(t){typeof t.type=="string"&&(function(n){var s=n.props,r=n.type,l={},i=r.indexOf("-")===-1;for(var o in s){var c=s[o];if(!(o==="value"&&"defaultValue"in s&&c==null||rn&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var u=o.toLowerCase();o==="defaultValue"&&"value"in s&&s.value==null?o="value":o==="download"&&c===!0?c="":u==="translate"&&c==="no"?c=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?o="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||ln(s.type)?u==="onfocus"?o="onfocusin":u==="onblur"?o="onfocusout":nn.test(o)&&(o=u):u=o="oninput":i&&tn.test(o)?o=o.replace(sn,"-$&").toLowerCase():c===null&&(c=void 0),u==="oninput"&&l[o=u]&&(o="oninputCapture"),l[o]=c}}r=="select"&&l.multiple&&Array.isArray(l.value)&&(l.value=ie(s.children).forEach(function(d){d.props.selected=l.value.indexOf(d.props.value)!=-1})),r=="select"&&l.defaultValue!=null&&(l.value=ie(s.children).forEach(function(d){d.props.selected=l.multiple?l.defaultValue.indexOf(d.props.value)!=-1:l.defaultValue==d.props.value})),s.class&&!s.className?(l.class=s.class,Object.defineProperty(l,"className",dn)):s.className&&(l.class=l.className=s.className),n.props=l})(t),t.$$typeof=en,pt&&pt(t)};var _t=x.__r;x.__r=function(t){_t&&_t(t),t.__c};var gt=x.diffed;x.diffed=function(t){gt&&gt(t);var n=t.props,s=t.__e;s!=null&&t.type==="textarea"&&"value"in n&&n.value!==s.value&&(s.value=n.value==null?"":n.value)};class ke extends Error{status;constructor(n=403){super(`Unauthorized (HTTP ${n})`),this.name="UnauthorizedError",this.status=n}}class un extends Error{status;body;constructor(n,s){super(`API error (HTTP ${n})`),this.name="ApiError",this.status=n,this.body=s}}class de{baseUrl;authToken;constructor(n){this.baseUrl=n.baseUrl.replace(/\/+$/,""),this.authToken=n.authToken}async fetch(n,s){const l={...{Accept:"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},...s?.headers},i=await globalThis.fetch(`${this.baseUrl}${n}`,{...s,headers:l,credentials:this.authToken?"omit":"include"});if(i.status===401||i.status===403)throw new ke(i.status);if(!i.ok){const o=await i.text().catch(()=>"");throw new un(i.status,o)}return i.json()}async get(n,s){const r=s?`${n}?${s}`:n;return this.fetch(r)}async post(n,s){const r={method:"POST",...s!==void 0?{body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}:{}};return this.fetch(n,r)}async delete(n){return this.fetch(n,{method:"DELETE"})}}const mt="/admin/api/debug",bt={tracing:!1,process:!1,system:!1,http:!1,db:!1,redis:!1,queues:!1,cache:!1,app:!1,log:!1,emails:!1,dashboard:!1,customPanes:[]};function hn(t){return{tracing:t.features?.tracing??!1,process:t.features?.process??!1,system:t.features?.system??!1,http:t.features?.http??!1,db:t.features?.db??!1,redis:t.features?.redis??!1,queues:t.features?.queues??!1,cache:t.features?.cache??!1,app:t.features?.app??!1,log:t.features?.log??!1,emails:t.features?.emails??!1,dashboard:t.features?.dashboard??!1,customPanes:t.customPanes??[]}}async function fn(t,n=mt){const s=`${n.replace(/\/+$/,"")}/config`;return t.fetch(s)}async function pn(t){const{baseUrl:n="",debugEndpoint:s=mt,authToken:r}=t,l=new de({baseUrl:n,authToken:r});try{const i=await fn(l,s);return hn(i)}catch{return bt}}function _n(t={}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t,[l,i]=$(bt),[o,c]=$(!0),[u,d]=$(null),f=P(!1);return O(()=>{if(f.current)return;f.current=!0;let a=!1;return(async()=>{try{const h=await pn({baseUrl:n,debugEndpoint:s,authToken:r});a||(i(h),c(!1))}catch(h){a||(d(h instanceof Error?h:new Error(String(h))),c(!1))}})(),()=>{a=!0}},[n,s,r]),{features:l,isLoading:o,error:u}}const ue="ss-dash-theme",Se="ss-theme-change";function Te(){if(typeof window>"u")return"light";const t=localStorage.getItem(ue);return t==="dark"||t==="light"?t:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function gn(t){typeof window>"u"||(localStorage.setItem(ue,t),window.dispatchEvent(new CustomEvent(Se,{detail:t})))}function mn(){const n=Te()==="dark"?"light":"dark";return gn(n),n}function bn(t){if(typeof window>"u")return()=>{};const n=i=>{const o=i.detail;(o==="dark"||o==="light")&&t(o)},s=i=>{if(i.key===ue){const o=i.newValue;t(o==="dark"||o==="light"?o:Te())}},r=window.matchMedia("(prefers-color-scheme: dark)"),l=i=>{localStorage.getItem(ue)||t(i.matches?"dark":"light")};return window.addEventListener(Se,n),window.addEventListener("storage",s),r.addEventListener("change",l),()=>{window.removeEventListener(Se,n),window.removeEventListener("storage",s),r.removeEventListener("change",l)}}function yn(){const[t,n]=$(()=>Te());O(()=>bn(l=>{n(l)}),[]);const s=k(()=>{const r=mn();return n(r),r},[]);return{theme:t,toggleTheme:s}}const M={queries:{viewBox:"0 0 24 24",elements:['<ellipse cx="12" cy="5" rx="9" ry="3"/>','<path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>','<path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>']},events:{viewBox:"0 0 24 24",elements:['<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>']},emails:{viewBox:"0 0 24 24",elements:['<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>','<polyline points="22,6 12,13 2,6"/>']},routes:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<line x1="2" y1="12" x2="22" y2="12"/>','<path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>']},logs:{viewBox:"0 0 24 24",elements:['<line x1="8" y1="6" x2="21" y2="6"/>','<line x1="8" y1="12" x2="21" y2="12"/>','<line x1="8" y1="18" x2="21" y2="18"/>','<line x1="3" y1="6" x2="3.01" y2="6"/>','<line x1="3" y1="12" x2="3.01" y2="12"/>','<line x1="3" y1="18" x2="3.01" y2="18"/>']},timeline:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},cache:{viewBox:"0 0 24 24",elements:['<rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>','<rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>','<line x1="6" y1="6" x2="6.01" y2="6"/>','<line x1="6" y1="18" x2="6.01" y2="18"/>']},jobs:{viewBox:"0 0 24 24",elements:['<rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>','<path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>']},config:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="3"/>','<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>']},internals:{viewBox:"0 0 24 24",elements:['<rect x="4" y="4" width="16" height="16" rx="2"/>','<rect x="9" y="9" width="6" height="6"/>','<line x1="9" y1="1" x2="9" y2="4"/>','<line x1="15" y1="1" x2="15" y2="4"/>','<line x1="9" y1="20" x2="9" y2="23"/>','<line x1="15" y1="20" x2="15" y2="23"/>','<line x1="20" y1="9" x2="23" y2="9"/>','<line x1="20" y1="14" x2="23" y2="14"/>','<line x1="1" y1="9" x2="4" y2="9"/>','<line x1="1" y1="14" x2="4" y2="14"/>']},overview:{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="7" height="7"/>','<rect x="14" y="3" width="7" height="7"/>','<rect x="14" y="14" width="7" height="7"/>','<rect x="3" y="14" width="7" height="7"/>']},requests:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},"dashboard-timeline":{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<polyline points="12 6 12 12 16 14"/>']},"custom-pane":{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="18" height="18" rx="2"/>','<path d="M9 3v18"/>']},wrench:{viewBox:"0 0 24 24",elements:['<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>']},"external-link":{viewBox:"0 0 24 24",elements:['<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>','<polyline points="15 3 21 3 21 9"/>','<line x1="10" y1="14" x2="21" y2="3"/>']},sun:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="5"/>','<line x1="12" y1="1" x2="12" y2="3"/>','<line x1="12" y1="21" x2="12" y2="23"/>','<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>','<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>','<line x1="1" y1="12" x2="3" y2="12"/>','<line x1="21" y1="12" x2="23" y2="12"/>','<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>','<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>']},moon:{viewBox:"0 0 24 24",elements:['<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>']},search:{viewBox:"0 0 24 24",elements:['<circle cx="11" cy="11" r="8"/>','<line x1="21" y1="21" x2="16.65" y2="16.65"/>']},eye:{viewBox:"0 0 24 24",elements:['<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>','<circle cx="12" cy="12" r="3"/>']},"eye-off":{viewBox:"0 0 24 24",elements:['<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>','<path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>','<line x1="1" y1="1" x2="23" y2="23"/>','<path d="M14.12 14.12a3 3 0 1 1-4.24-4.24"/>']},"chevron-right":{viewBox:"0 0 24 24",elements:['<path d="M9 18l6-6-6-6"/>']},"chevron-left":{viewBox:"0 0 24 24",elements:['<path d="M15 18l-6-6 6-6"/>']},"open-external":{viewBox:"0 0 16 16",elements:['<path d="M6 3H3v10h10v-3M9 1h6v6M7 9L15 1"/>']}};function vn({theme:t,onToggle:n,className:s="",classPrefix:r="ss-dash"}){const l=t==="dark";return e("button",{type:"button",className:`${r==="ss-dbg"?"ss-dbg-theme-toggle":"ss-dash-theme-btn"} ${s}`,onClick:n,title:l?"Switch to light theme":"Switch to dark theme","aria-label":l?"Switch to light theme":"Switch to dark theme",children:l?e("svg",{width:"16",height:"16",viewBox:M.sun.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M.sun.elements.join("")}}):e("svg",{width:"16",height:"16",viewBox:M.moon.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M.moon.elements.join("")}})})}const wn=R(()=>Promise.resolve().then(()=>Bn)),Nn=R(()=>Promise.resolve().then(()=>Rn)),xn=R(()=>Promise.resolve().then(()=>Dn)),$n=R(()=>Promise.resolve().then(()=>Fn)),Cn=R(()=>Promise.resolve().then(()=>Un)),kn=R(()=>Promise.resolve().then(()=>Vn)),Sn=R(()=>Promise.resolve().then(()=>qn)),Tn=R(()=>Promise.resolve().then(()=>Jn)),Ln=R(()=>Promise.resolve().then(()=>ts)),En=R(()=>Promise.resolve().then(()=>cs)),An=R(()=>Promise.resolve().then(()=>ds));function Pn(t){const{defaultOpen:n=!1,dashboardPath:s,isOpen:r,onOpenChange:l,isLive:i=!1,...o}=t,[c,u]=$(n),d=r!==void 0?r:c,f=v=>{l?l(v):u(v)},[a,p]=$("queries"),{features:h}=_n(o),{theme:g,toggleTheme:y}=yn(),m=h.customPanes||[];O(()=>{const v=L=>{L.key==="Escape"&&d&&f(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[d]);const _=T(()=>[{id:"queries",label:"Queries",visible:!0},{id:"events",label:"Events",visible:!0},{id:"emails",label:"Emails",visible:!0},{id:"routes",label:"Routes",visible:!0},{id:"logs",label:"Logs",visible:!0},{id:"timeline",label:"Timeline",visible:h.tracing},{id:"cache",label:"Cache",visible:h.cache},{id:"jobs",label:"Jobs",visible:h.queues},{id:"config",label:"Config",visible:!0},{id:"internals",label:"Internals",visible:!0}],[h]),b=T(()=>_.filter(v=>v.visible),[_]);O(()=>{const v=[...b.map(L=>L.id),...m.map(L=>L.id)];!v.includes(a)&&v.length>0&&p(v[0])},[b,m,a]);const w=k(()=>{f(!d)},[d]),S=k(()=>{const v={options:o},L=m.find(j=>j.id===a);if(L)return e(Y,{fallback:e("div",{className:"ss-dbg-empty",children:"Loading..."}),children:e(An,{pane:L,options:o})});const N={queries:e(wn,{...v}),events:e(Nn,{...v}),emails:e(xn,{...v}),routes:e($n,{...v,currentPath:typeof window<"u"?window.location.pathname:""}),logs:e(Cn,{...v}),timeline:e(kn,{...v}),cache:e(Sn,{...v,dashboardPath:s}),jobs:e(Tn,{...v,dashboardPath:s}),config:e(Ln,{...v,dashboardPath:s}),internals:e(En,{...v})};return e(Y,{fallback:e("div",{className:"ss-dbg-empty",children:"Loading..."}),children:N[a]||e("div",{className:"ss-dbg-empty",children:"Unknown tab"})})},[a,o,m]);return e(B,{children:[r===void 0&&e("button",{type:"button",className:`ss-dbg-btn ${d?"ss-dbg-active":""}`,onClick:w,title:"Toggle debug panel",id:"ss-dbg-wrench",children:e("svg",{width:"14",height:"14",viewBox:M.wrench.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M.wrench.elements.join("")}})}),e("div",{className:`ss-dbg-panel ${d?"ss-dbg-open":""}`,"data-ss-theme":g,id:"ss-dbg-panel",children:[e("div",{className:"ss-dbg-tabs",children:[e("div",{className:"ss-dbg-tabs-scroll",children:[b.map(v=>e("button",{type:"button",className:`ss-dbg-tab ${a===v.id?"ss-dbg-active":""}`,onClick:()=>p(v.id),children:[M[v.id]?e("svg",{className:"ss-dbg-tab-icon",viewBox:M[v.id].viewBox,dangerouslySetInnerHTML:{__html:M[v.id].elements.join("")}}):null,v.label]},v.id)),m.map(v=>e("button",{type:"button",className:`ss-dbg-tab ${a===v.id?"ss-dbg-active":""}`,onClick:()=>p(v.id),children:v.label},v.id))]}),e("div",{className:"ss-dbg-tabs-right",children:[e("span",{className:`ss-dbg-conn-mode ${i?"ss-dbg-conn-live":"ss-dbg-conn-polling"}`,title:i?"Connected via Transmit (SSE) â€” real-time updates":"Polling every 3s",children:i?"live":"polling"}),e(vn,{theme:g,onToggle:y,classPrefix:"ss-dbg"}),s&&e("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"ss-dbg-dashboard-link",title:"Open dashboard",children:e("svg",{width:"14",height:"14",viewBox:M["external-link"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M["external-link"].elements.join("")}})}),e("button",{type:"button",className:"ss-dbg-close",onClick:()=>f(!1),title:"Close panel",children:"Ã—"})]})]}),e("div",{className:"ss-dbg-content",children:d&&S()})]})]})}const yt=document.getElementById("ss-dbg-config"),Le=yt?JSON.parse(yt.textContent||"{}"):{},vt=document.getElementById("ss-dbg-panel");vt&&Jt(e(Pn,{debugEndpoint:Le.debugEndpoint,authToken:Le.authToken,dashboardPath:Le.dashboardPath||void 0,defaultOpen:!1}),vt);function z(t){return t>=1e3?`${(t/1e3).toFixed(2)}s`:t>=1?`${t.toFixed(0)}ms`:`${t.toFixed(2)}ms`}function V(t){if(!t)return"-";const n=typeof t=="string"?new Date(t):new Date(t);return Number.isNaN(n.getTime())?"-":n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+String(n.getMilliseconds()).padStart(3,"0")}function q(t){if(!t)return"-";const n=typeof t=="string"?new Date(t).getTime():t,s=Math.floor((Date.now()-n)/1e3);return s<0?"just now":s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function he(t,n=100){if(t===null)return"null";if(t===void 0)return"-";if(typeof t=="string")return'"'+(t.length>40?t.slice(0,40)+"...":t)+'"';if(typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t)){if(t.length===0)return"[]";const r="["+t.slice(0,3).map(l=>he(l,30)).join(", ")+(t.length>3?", ..."+t.length+" items":"")+"]";return r.length>n?"["+t.length+" items]":r}if(typeof t=="object"){const s=Object.keys(t);if(s.length===0)return"{}";const r=[];for(let i=0;i<Math.min(s.length,4);i++)r.push(s[i]+": "+he(t[s[i]],30));const l="{ "+r.join(", ")+(s.length>4?", ...+"+(s.length-4):"")+" }";return l.length>n?"{ "+s.slice(0,6).join(", ")+(s.length>6?", ...":"")+" }":l}return String(t)}const Mn="ss-col-resize",wt="ss-resizing";function W(t){const n=Array.from(t.querySelectorAll("thead th"));if(n.length===0)return()=>{};const s=[];let r=!1;function l(){if(!r){r=!0;for(const i of n)i.style.width=i.offsetWidth+"px";t.style.tableLayout="fixed"}}for(const i of n){let o=function(u){u.preventDefault(),u.stopPropagation(),l();const d=u.clientX,f=i.offsetWidth;c.classList.add(wt),c.setPointerCapture(u.pointerId);function a(h){const g=h.clientX-d,y=Math.max(30,f+g);i.style.width=y+"px"}function p(){c.classList.remove(wt),c.removeEventListener("pointermove",a),c.removeEventListener("pointerup",p)}c.addEventListener("pointermove",a),c.addEventListener("pointerup",p)};if(!i.textContent?.trim())continue;const c=document.createElement("div");c.className=Mn,i.appendChild(c),c.addEventListener("pointerdown",o),s.push(()=>{c.removeEventListener("pointerdown",o),c.remove()})}return()=>{for(const i of s)i()}}const On={queries:"/queries",events:"/events",emails:"/emails",routes:"/routes",logs:"/logs",timeline:"/traces",cache:"/cache",jobs:"/jobs",config:"/config",internals:"/diagnostics"};function jn(t){return On[t]||`/${t}`}const In=3e3;function F(t,n={}){const{baseUrl:s="",debugEndpoint:r="/admin/api/debug",authToken:l}=n,[i,o]=$(null),[c,u]=$(!0),[d,f]=$(null),a=P(null),p=P(null),h=P({}),g=k(()=>(a.current||(a.current=new de({baseUrl:s,authToken:l})),a.current),[s,l]),y=k(async()=>{if(h.current[t]){o(h.current[t]),u(!1);return}try{const w=g(),S=`${r}${jn(t)}`,v=await w.get(S);o(v),f(null),u(!1)}catch(w){if(w instanceof ke){f(w),u(!1),p.current&&(clearInterval(p.current),p.current=null);return}f(w instanceof Error?w:new Error(String(w))),u(!1)}},[t,r,g]);O(()=>(u(!0),f(null),y(),p.current=setInterval(y,In),()=>{p.current&&(clearInterval(p.current),p.current=null)}),[t,y]);const m=k(()=>{y()},[y]),_=k(()=>{o(null)},[]),b=k((w,S)=>{h.current[w]=S},[]);return{data:i,isLoading:c,error:d,refresh:m,clearData:_,cacheForTab:b}}function Nt({options:t}){const{data:n,isLoading:s,error:r}=F("queries",t),[l,i]=$(""),[o,c]=$(null),u=T(()=>{const h=n?.queries||[];if(!l)return h;const g=l.toLowerCase();return h.filter(y=>y.sql.toLowerCase().includes(g)||y.model&&y.model.toLowerCase().includes(g)||y.method.toLowerCase().includes(g))},[n,l]),d=T(()=>{const h={};for(const g of n?.queries||[])h[g.sql]=(h[g.sql]||0)+1;return h},[n]),f=T(()=>{const h=n?.queries||[],g=h.filter(_=>_.duration>100).length,y=Object.values(d).filter(_=>_>1).length,m=h.length>0?h.reduce((_,b)=>_+b.duration,0)/h.length:0;return{slowCount:g,dupCount:y,avgDuration:m}},[n,d]),a=k(h=>{c(g=>g===h?null:h)},[]),p=P(null);return O(()=>{if(p.current)return W(p.current)},[u]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading queries..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter queries...",value:l,onChange:h=>i(h.target.value)}),e("span",{className:"ss-dbg-summary",children:[u.length," queries",f.slowCount>0&&` | ${f.slowCount} slow`,f.dupCount>0&&` | ${f.dupCount} dup`,u.length>0&&` | avg ${z(f.avgDuration)}`]})]}),u.length===0?e("div",{className:"ss-dbg-empty",children:"No queries captured"}):e("table",{ref:p,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"70px"}}),e("col",{style:{width:"100px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"SQL"}),e("th",{children:"Duration"}),e("th",{children:"Method"}),e("th",{children:"Model"}),e("th",{children:"Time"})]})}),e("tbody",{children:u.map(h=>e("tr",{children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:h.id}),e("td",{children:[e("span",{className:`ss-dbg-sql ${o===h.id?"ss-dbg-expanded":""}`,onClick:()=>a(h.id),role:"button",tabIndex:0,onKeyDown:g=>g.key==="Enter"&&a(h.id),children:h.sql}),d[h.sql]>1&&e("span",{className:"ss-dbg-dup",children:[" x",d[h.sql]]}),h.inTransaction&&e("span",{className:"ss-dbg-dup",children:" TXN"})]}),e("td",{className:`ss-dbg-duration ${h.duration>500?"ss-dbg-very-slow":h.duration>100?"ss-dbg-slow":""}`,children:z(h.duration)}),e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${h.method.toLowerCase()}`,children:h.method})}),e("td",{className:"ss-dbg-c-muted",children:h.model||"-"}),e("td",{className:"ss-dbg-event-time",title:V(h.timestamp),children:q(h.timestamp)})]},h.id))})]})]})}const Bn=Object.freeze(Object.defineProperty({__proto__:null,QueriesTab:Nt,default:Nt},Symbol.toStringTag,{value:"Module"}));function Ee({data:t,maxPreviewLength:n=100,className:s="",classPrefix:r="ss-dash"}){const[l,i]=$(!1),o=T(()=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},[t]),c=T(()=>typeof o=="object"&&o!==null?he(o,n):String(o??"-"),[o,n]),u=T(()=>typeof o=="object"&&o!==null?JSON.stringify(o,null,2):String(o),[o]),d=k(()=>{i(a=>!a)},[]),f=k(async()=>{try{await navigator.clipboard.writeText(u)}catch{}},[u]);return!t&&t!==0&&t!==!1?e("span",{className:`ss-dim ${r}-c-dim`,children:"-"}):e("div",{className:`${r}-data-cell ${s}`,children:[e("span",{className:`${r}-data-preview`,onClick:d,role:"button",tabIndex:0,onKeyDown:a=>a.key==="Enter"&&d(),children:c}),l&&e("div",{className:`${r}-data-full`,onClick:d,children:[e("button",{className:`${r}-copy-btn`,onClick:a=>{a.stopPropagation(),f()},title:"Copy to clipboard",type:"button",children:"Copy"}),e("pre",{children:u})]})]})}function xt({options:t}){const{data:n,isLoading:s,error:r}=F("events",t),[l,i]=$(""),o=T(()=>{const u=n?.events||[];if(!l)return u;const d=l.toLowerCase();return u.filter(f=>(f.event||"").toLowerCase().includes(d)||(f.data||"").toLowerCase().includes(d))},[n,l]),c=P(null);return O(()=>{if(c.current)return W(c.current)},[o]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading events..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter events...",value:l,onChange:u=>i(u.target.value)}),e("span",{className:"ss-dbg-summary",children:[o.length," events"]})]}),o.length===0?e("div",{className:"ss-dbg-empty",children:"No events captured"}):e("table",{ref:c,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"20%"}}),e("col",{}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"Event"}),e("th",{children:"Data"}),e("th",{children:"Time"})]})}),e("tbody",{children:o.map(u=>{const d=u.timestamp||u.created_at||u.createdAt;return e("tr",{children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:u.id}),e("td",{className:"ss-dbg-event-name",children:u.event}),e("td",{className:"ss-dbg-event-data",children:e(Ee,{data:u.data,maxPreviewLength:80,classPrefix:"ss-dbg"})}),e("td",{className:"ss-dbg-event-time",title:V(d),children:q(d)})]},u.id)})})]})]})}const Rn=Object.freeze(Object.defineProperty({__proto__:null,EventsTab:xt,default:xt},Symbol.toStringTag,{value:"Module"}));function $t({options:t}){const{data:n,isLoading:s,error:r}=F("emails",t),[l,i]=$(""),[o,c]=$(null),u=T(()=>{const h=n?.emails||[];if(!l)return h;const g=l.toLowerCase();return h.filter(y=>(y.subject||"").toLowerCase().includes(g)||(y.to||"").toLowerCase().includes(g)||(y.from||"").toLowerCase().includes(g)||(y.mailer||"").toLowerCase().includes(g))},[n,l]),d=T(()=>u.find(h=>h.id===o),[u,o]),f=k(()=>c(null),[]),a={sent:"ss-dbg-email-status-sent",sending:"ss-dbg-email-status-sending",queued:"ss-dbg-email-status-queued",failed:"ss-dbg-email-status-failed"},p=P(null);return O(()=>{if(p.current)return W(p.current)},[u]),s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading emails..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):d?e("div",{className:"ss-dbg-email-preview",children:[e("div",{className:"ss-dbg-email-preview-header",children:[e("div",{className:"ss-dbg-email-preview-meta",children:[e("div",{children:[e("strong",{children:"Subject:"})," ",d.subject]}),e("div",{children:[e("strong",{children:"From:"})," ",d.from]}),e("div",{children:[e("strong",{children:"To:"})," ",d.to]}),d.cc&&e("div",{children:[e("strong",{children:"CC:"})," ",d.cc]})]}),e("button",{className:"ss-dbg-btn-clear",onClick:f,type:"button",children:"Ã—"})]}),d.html?e("iframe",{className:"ss-dbg-email-iframe",srcDoc:d.html,title:"Email preview",sandbox:""}):e("div",{style:{padding:"12px",whiteSpace:"pre-wrap"},children:d.text||"No content"})]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter emails...",value:l,onChange:h=>i(h.target.value)}),e("span",{className:"ss-dbg-summary",children:[u.length," emails"]})]}),u.length===0?e("div",{className:"ss-dbg-empty",children:"No emails captured"}):e("table",{ref:p,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"140px"}}),e("col",{style:{width:"140px"}}),e("col",{}),e("col",{style:{width:"70px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"40px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"From"}),e("th",{children:"To"}),e("th",{children:"Subject"}),e("th",{children:"Status"}),e("th",{children:"Mailer"}),e("th",{title:"Attachments",children:"ðŸ“Ž"}),e("th",{children:"Time"})]})}),e("tbody",{children:u.map(h=>e("tr",{className:"ss-dbg-email-row",onClick:()=>c(h.id),children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:h.id}),e("td",{className:"ss-dbg-c-secondary",title:h.from,children:h.from}),e("td",{className:"ss-dbg-c-secondary",title:h.to,children:h.to}),e("td",{className:"ss-dbg-c-sql",children:h.subject}),e("td",{children:e("span",{className:`ss-dbg-email-status ${a[h.status]||""}`,children:h.status})}),e("td",{className:"ss-dbg-c-muted",children:h.mailer}),e("td",{className:"ss-dbg-c-dim",style:{textAlign:"center"},children:h.attachmentCount>0?h.attachmentCount:"-"}),e("td",{className:"ss-dbg-event-time",title:V(h.timestamp||h.created_at||h.createdAt),children:q(h.timestamp||h.created_at||h.createdAt)})]},h.id))})]})]})}const Dn=Object.freeze(Object.defineProperty({__proto__:null,EmailsTab:$t,default:$t},Symbol.toStringTag,{value:"Module"}));function Ct({options:t,currentPath:n}){const{data:s,isLoading:r,error:l}=F("routes",t),[i,o]=$(""),c=T(()=>{const d=s?.routes||[];if(!i)return d;const f=i.toLowerCase();return d.filter(a=>a.pattern.toLowerCase().includes(f)||a.handler.toLowerCase().includes(f)||a.method.toLowerCase().includes(f)||a.name&&a.name.toLowerCase().includes(f))},[s,i]),u=P(null);return O(()=>{if(u.current)return W(u.current)},[c]),r&&!s?e("div",{className:"ss-dbg-empty",children:"Loading routes..."}):l?e("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter routes...",value:i,onChange:d=>o(d.target.value)}),e("span",{className:"ss-dbg-summary",children:[c.length," routes"]})]}),c.length===0?e("div",{className:"ss-dbg-empty",children:"No routes found"}):e("table",{ref:u,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"70px"}}),e("col",{style:{width:"25%"}}),e("col",{style:{width:"15%"}}),e("col",{}),e("col",{style:{width:"20%"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"Method"}),e("th",{children:"Pattern"}),e("th",{children:"Name"}),e("th",{children:"Handler"}),e("th",{children:"Middleware"})]})}),e("tbody",{children:c.map((d,f)=>{const a=n&&(d.pattern===n||new RegExp("^"+d.pattern.replace(/:[^/]+/g,"[^/]+")+"$").test(n));return e("tr",{className:a?"ss-dbg-current-route":"",children:[e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${d.method.toLowerCase()}`,children:d.method})}),e("td",{className:"ss-dbg-c-text",children:d.pattern}),e("td",{className:"ss-dbg-c-muted",children:d.name||"-"}),e("td",{className:"ss-dbg-c-sql",children:d.handler}),e("td",{className:"ss-dbg-c-dim",style:{fontSize:"10px"},children:d.middleware.length>0?d.middleware.join(", "):"-"})]},`${d.method}-${d.pattern}-${f}`)})})]})]})}const Fn=Object.freeze(Object.defineProperty({__proto__:null,RoutesTab:Ct,default:Ct},Symbol.toStringTag,{value:"Module"})),Hn=["all","error","warn","info","debug"];function kt({options:t}){const{data:n,isLoading:s,error:r}=F("logs",t),[l,i]=$("all"),[o,c]=$(""),[u,d]=$(""),f=k(_=>(_.levelName||_.level_name||(typeof _.level=="string"?_.level:"")||"info").toLowerCase(),[]),a=k(_=>_.msg||_.message||JSON.stringify(_),[]),p=k(_=>_.time||_.timestamp||0,[]),h=k(_=>_.requestId||_.request_id||_["x-request-id"]||"",[]),g=T(()=>{let _=Array.isArray(n)?n:n?.logs||n?.entries||[];if(l!=="all"&&(_=_.filter(b=>{const w=f(b);return l==="error"?w==="error"||w==="fatal":w===l})),u){const b=u.toLowerCase();_=_.filter(w=>h(w).toLowerCase().includes(b))}if(o){const b=o.toLowerCase();_=_.filter(w=>a(w).toLowerCase().includes(b))}return _},[n,l,o,u,f,a,h]),y=k(_=>{switch(_){case"error":case"fatal":return"ss-dbg-log-level-error";case"warn":return"ss-dbg-log-level-warn";case"info":return"ss-dbg-log-level-info";case"debug":return"ss-dbg-log-level-debug";case"trace":return"ss-dbg-log-level-trace";default:return"ss-dbg-log-level-info"}},[]),m=k(_=>{d(b=>b===_?"":_)},[]);return s&&!n?e("div",{className:"ss-dbg-empty",children:"Loading logs..."}):r?e("div",{className:"ss-dbg-empty",children:["Error: ",r.message]}):e("div",{children:[e("div",{className:"ss-dbg-log-filters",children:[Hn.map(_=>e("button",{type:"button",className:`ss-dbg-log-filter ${l===_?"ss-dbg-active":""}`,onClick:()=>i(_),children:_},_)),u&&e("button",{type:"button",className:"ss-dbg-log-filter ss-dbg-active",onClick:()=>d(""),children:["req: ",u.slice(0,8)," x"]}),e("span",{className:"ss-dbg-summary",style:{marginLeft:"auto"},children:[g.length," entries"]})]}),e("div",{className:"ss-dbg-search-bar",children:e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter log messages...",value:o,onChange:_=>c(_.target.value)})}),e("div",{style:{overflow:"auto",flex:1},children:g.length===0?e("div",{className:"ss-dbg-empty",children:"No log entries"}):g.slice(-200).reverse().map((_,b)=>{const w=f(_),S=a(_),v=p(_),L=h(_);return e("div",{className:"ss-dbg-log-entry",children:[e("span",{className:`ss-dbg-log-level ${y(w)}`,children:w.toUpperCase()}),e("span",{className:"ss-dbg-log-time",title:v?V(v):"",children:v?q(v):"-"}),L?e("span",{className:"ss-dbg-log-reqid",onClick:()=>m(L),role:"button",tabIndex:0,title:L,onKeyDown:N=>N.key==="Enter"&&m(L),children:L.slice(0,8)}):e("span",{className:"ss-dbg-log-reqid-empty",children:"-"}),e("span",{className:"ss-dbg-log-msg",children:S})]},b)})})]})}const Un=Object.freeze(Object.defineProperty({__proto__:null,LogsTab:kt,default:kt},Symbol.toStringTag,{value:"Module"})),St={request:"#1e3a5f",middleware:"rgba(30, 58, 95, 0.7)",db:"#6d28d9",view:"#0e7490",mail:"#059669",event:"#b45309",custom:"#525252"},zn=[{label:"Request",color:"#1e3a5f"},{label:"Middleware",color:"rgba(30, 58, 95, 0.7)"},{label:"Database",color:"#6d28d9"},{label:"View",color:"#0e7490"},{label:"Mail",color:"#059669"},{label:"Event",color:"#b45309"}];function Tt({options:t}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t||{},{data:l,isLoading:i,error:o}=F("timeline",t),[c,u]=$(""),[d,f]=$(null),[a,p]=$(null),[h,g]=$(!1),[y,m]=$(null),_=T(()=>{const N=l?.traces||[];if(!c)return N;const j=c.toLowerCase();return N.filter(C=>C.url.toLowerCase().includes(j)||C.method.toLowerCase().includes(j)||String(C.statusCode).includes(j))},[l,c]),b=P(null),w=k(()=>(b.current||(b.current=new de({baseUrl:n,authToken:r})),b.current),[n,r]);O(()=>{if(d===null){p(null),m(null);return}let N=!1;return g(!0),m(null),w().get(`${s}/traces/${d}`).then(C=>{N||(p(C),g(!1))}).catch(C=>{N||(m(C instanceof Error?C.message:"Failed to load trace"),g(!1))}),()=>{N=!0}},[d,s,w]);const S=k(N=>{f(j=>j===N?null:N)},[]),v=k(N=>N>=500?"ss-dbg-status-5xx":N>=400?"ss-dbg-status-4xx":N>=300?"ss-dbg-status-3xx":"ss-dbg-status-2xx",[]),L=P(null);if(O(()=>{if(L.current)return W(L.current)},[_]),i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading traces..."});if(o)return e("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(d!==null){if(h)return e("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});if(y)return e("div",{children:[e("div",{className:"ss-dbg-tl-detail-header",children:e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:"â† Back"})}),e("div",{className:"ss-dbg-empty",children:["Error: ",y]})]});if(!a)return e("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});const N=a.spans||[],j=a.warnings||[];return e("div",{children:[e("div",{className:"ss-dbg-tl-detail-header",children:[e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:"â† Back"}),e("span",{className:`ss-dbg-method ss-dbg-method-${a.method.toLowerCase()}`,children:a.method}),e("span",{className:"ss-dbg-tl-detail-url",children:a.url}),e("span",{className:`ss-dbg-status ${v(a.statusCode)}`,children:a.statusCode}),e("span",{className:"ss-dbg-tl-meta",children:[z(a.totalDuration)," Â·"," ",a.spanCount," spans"]})]}),e("div",{className:"ss-dbg-tl-legend",children:zn.map(C=>e("div",{className:"ss-dbg-tl-legend-item",children:[e("div",{className:"ss-dbg-tl-legend-dot",style:{background:C.color}}),e("span",{children:C.label})]},C.label))}),e("div",{style:{padding:"8px 12px",overflow:"auto"},children:N.length===0?e("div",{className:"ss-dbg-empty",children:"No spans captured for this request"}):N.map(C=>{const D=a.totalDuration||1,us=C.startOffset/D*100,hs=Math.max(C.duration/D*100,.5);return e("div",{className:"ss-dbg-tl-row",children:[e("div",{className:"ss-dbg-tl-label",title:C.label,children:C.label}),e("div",{className:"ss-dbg-tl-track",children:e("div",{className:`ss-dbg-tl-bar ss-dbg-tl-bar-${C.category}`,style:{left:`${us}%`,width:`${hs}%`,background:St[C.category]||St.custom},title:`${C.label}: ${z(C.duration)}`})}),e("span",{className:"ss-dbg-tl-dur",children:z(C.duration)})]},C.id)})}),j.length>0&&e("div",{className:"ss-dbg-tl-warnings",children:[e("div",{className:"ss-dbg-tl-warnings-title",children:"Warnings"}),j.map((C,D)=>e("div",{className:"ss-dbg-tl-warning",children:C},D))]})]})}return e("div",{children:[e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter traces...",value:c,onChange:N=>u(N.target.value)}),e("span",{className:"ss-dbg-summary",children:[_.length," traces"]})]}),_.length===0?e("div",{className:"ss-dbg-empty",children:"No traces captured. Enable tracing in config."}):e("table",{ref:L,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"70px"}}),e("col",{}),e("col",{style:{width:"60px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"50px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"#"}),e("th",{children:"Method"}),e("th",{children:"URL"}),e("th",{children:"Status"}),e("th",{children:"Duration"}),e("th",{children:"Spans"}),e("th",{children:"Time"})]})}),e("tbody",{children:_.map(N=>e("tr",{className:"ss-dbg-email-row",onClick:()=>S(N.id),children:[e("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:N.id}),e("td",{children:e("span",{className:`ss-dbg-method ss-dbg-method-${N.method.toLowerCase()}`,children:N.method})}),e("td",{title:N.url,children:N.url}),e("td",{children:e("span",{className:`ss-dbg-status ${v(N.statusCode)}`,children:N.statusCode})}),e("td",{className:`ss-dbg-duration ${N.totalDuration>500?"ss-dbg-very-slow":N.totalDuration>100?"ss-dbg-slow":""}`,children:z(N.totalDuration)}),e("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:N.spanCount}),e("td",{className:"ss-dbg-event-time",title:V(N.timestamp),children:q(N.timestamp)})]},N.id))})]})]})}const Vn=Object.freeze(Object.defineProperty({__proto__:null,TimelineTab:Tt,default:Tt},Symbol.toStringTag,{value:"Module"}));function Lt({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:o}=F("cache",r),[c,u]=$(""),[d,f]=$(null),[a,p]=$(null),h=T(()=>{const b=l?.keys||[];if(!c)return b;const w=c.toLowerCase();return b.filter(S=>S.key.toLowerCase().includes(w))},[l,c]),g=k(async b=>{if(d===b){f(null),p(null);return}f(b);try{const{baseUrl:w="",authToken:S}=t||{},v=s||t?.debugEndpoint||"/admin/api/debug",L=`${w}${v}/cache/${encodeURIComponent(b)}`,N={Accept:"application/json"};S&&(N.Authorization=`Bearer ${S}`);const C=await(await fetch(L,{headers:N,credentials:S?"omit":"same-origin"})).json();p(C)}catch{p({error:"Failed to fetch key value"})}},[d,t,s]),y=P(null);if(O(()=>{if(y.current)return W(y.current)},[h]),i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading cache data..."});if(o)return e("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!l)return e("div",{className:"ss-dbg-empty",children:"Cache inspector not available"});const _=l.stats||l;return e("div",{children:[e("div",{className:"ss-dbg-cache-stats",children:[e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Hit Rate:"}),e("span",{className:"ss-dbg-cache-stat-value",children:[_.hitRate!==null&&_.hitRate!==void 0?_.hitRate.toFixed(1):"0","%"]})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Hits:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.totalHits??0})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Misses:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.totalMisses??0})]}),e("div",{className:"ss-dbg-cache-stat",children:[e("span",{className:"ss-dbg-cache-stat-label",children:"Keys:"}),e("span",{className:"ss-dbg-cache-stat-value",children:_.keyCount??"-"})]})]}),e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter keys...",value:c,onChange:b=>u(b.target.value)}),e("span",{className:"ss-dbg-summary",children:[h.length," keys"]})]}),d&&a&&e("div",{className:"ss-dbg-cache-detail",children:[e("strong",{children:d}),e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>f(null),children:["â†"," Back"]}),e(Ee,{data:a,classPrefix:"ss-dbg"})]}),h.length===0?e("div",{className:"ss-dbg-empty",children:"No cache keys found"}):e("table",{ref:y,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"Key"}),e("th",{children:"Type"}),e("th",{children:"TTL"}),e("th",{children:"Size"})]})}),e("tbody",{children:h.map(b=>e("tr",{className:"ss-dbg-email-row",onClick:()=>g(b.key),children:[e("td",{className:"ss-dbg-c-sql",children:b.key}),e("td",{className:"ss-dbg-c-muted",children:b.type}),e("td",{className:"ss-dbg-c-muted",children:b.ttl>0?`${b.ttl}s`:"-"}),e("td",{className:"ss-dbg-c-dim",children:b.size>0?`${b.size}B`:"-"})]},b.key))})]})]})}const qn=Object.freeze(Object.defineProperty({__proto__:null,CacheTab:Lt,default:Lt},Symbol.toStringTag,{value:"Module"})),Wn=["all","active","waiting","delayed","completed","failed"];function Et({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:o}=F("jobs",r),[c,u]=$("all"),[d,f]=$(null),a=T(()=>{if(!l)return[];const m=l.data||l.jobs||[];return c==="all"?m:m.filter(_=>_.status===c)},[l,c]),p=k(async m=>{f(m);try{const{baseUrl:_="",authToken:b}=t||{},w=s||t?.debugEndpoint||"/admin/api/debug",S=`${_}${w}/jobs/${m}/retry`,v={Accept:"application/json"};b&&(v.Authorization=`Bearer ${b}`),await fetch(S,{method:"POST",headers:v,credentials:b?"omit":"same-origin"})}catch{}f(null)},[t,s]),h={completed:"ss-dbg-job-status-completed",failed:"ss-dbg-job-status-failed",active:"ss-dbg-job-status-active",waiting:"ss-dbg-job-status-waiting",delayed:"ss-dbg-job-status-delayed"},g=P(null);if(O(()=>{if(g.current)return W(g.current)},[a]),!s)return e("div",{className:"ss-dbg-empty",children:"Queue inspector not available (no dashboard configured)"});if(i&&!l)return e("div",{className:"ss-dbg-empty",children:"Loading jobs..."});if(o)return e("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!l)return e("div",{className:"ss-dbg-empty",children:"Queue inspector not available"});const y=l.stats||l.overview;return e("div",{children:[e("div",{className:"ss-dbg-job-stats-area",children:[e("div",{className:"ss-dbg-job-stats",children:[e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Active:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.active??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Waiting:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.waiting??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Delayed:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.delayed??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Completed:"}),e("span",{className:"ss-dbg-job-stat-value",children:y?.completed??0})]}),e("div",{className:"ss-dbg-job-stat",children:[e("span",{className:"ss-dbg-job-stat-label",children:"Failed:"}),e("span",{className:"ss-dbg-job-stat-value ss-dbg-c-red",children:y?.failed??0})]})]}),e("div",{className:"ss-dbg-log-filters",children:Wn.map(m=>e("button",{type:"button",className:`ss-dbg-job-filter ${c===m?"ss-dbg-active":""}`,onClick:()=>u(m),children:m},m))})]}),a.length===0?e("div",{className:"ss-dbg-empty",children:"No jobs found"}):e("table",{ref:g,className:"ss-dbg-table",children:[e("colgroup",{children:[e("col",{style:{width:"50px"}}),e("col",{style:{width:"15%"}}),e("col",{style:{width:"80px"}}),e("col",{}),e("col",{style:{width:"50px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"60px"}})]}),e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"Name"}),e("th",{children:"Status"}),e("th",{children:"Payload"}),e("th",{children:"Tries"}),e("th",{children:"Duration"}),e("th",{children:"Time"}),e("th",{})]})}),e("tbody",{children:a.map(m=>{const _=m;return e("tr",{children:[e("td",{className:"ss-dbg-c-dim",children:m.id}),e("td",{className:"ss-dbg-c-sql",title:m.name,children:m.name}),e("td",{children:e("span",{className:`ss-dbg-badge ${h[m.status]||"ss-dbg-badge-muted"}`,children:m.status})}),e("td",{children:e(Ee,{data:m.payload||m.data,maxPreviewLength:60,classPrefix:"ss-dbg"})}),e("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:m.attempts||_.attemptsMade||0}),e("td",{className:"ss-dbg-duration",children:m.duration!==null?z(m.duration):"-"}),e("td",{className:"ss-dbg-event-time",title:V(m.timestamp||m.createdAt||_.processedAt||_.created_at),children:q(m.timestamp||m.createdAt||_.processedAt||_.created_at)}),e("td",{children:m.status==="failed"&&e("button",{type:"button",className:"ss-dbg-retry-btn",onClick:()=>p(m.id),disabled:d===m.id,children:d===m.id?"...":"Retry"})})]},m.id)})})]})]})}const Jn=Object.freeze(Object.defineProperty({__proto__:null,JobsTab:Et,default:Et},Symbol.toStringTag,{value:"Module"}));function I(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.__redacted===!0}function Ae(t,n){if(typeof t!="object"||t===null||t===void 0)return[{path:n,value:t}];if(Array.isArray(t)||I(t))return[{path:n,value:t}];const s=[];for(const r of Object.keys(t)){const l=n?`${n}.${r}`:r,i=t[r];typeof i=="object"&&i!==null&&!Array.isArray(i)&&!I(i)?s.push(...Ae(i,l)):s.push({path:l,value:i})}return s}function Pe(t){return t==null?{text:"null",color:"var(--ss-dim)"}:typeof t=="boolean"?{text:String(t),color:t?"var(--ss-green-fg)":"var(--ss-red-fg)"}:typeof t=="number"?{text:String(t),color:"var(--ss-amber-fg)"}:Array.isArray(t)?{text:`[${t.map(s=>s==null?"null":typeof s=="object"?JSON.stringify(s):String(s)).join(", ")}]`,color:"var(--ss-purple-fg)"}:typeof t=="object"?{text:JSON.stringify(t),color:"var(--ss-dim)"}:{text:String(t)}}function At(t){if(t==null||typeof t!="object"||Array.isArray(t)||I(t))return 1;let n=0;for(const s of Object.keys(t))n+=At(t[s]);return n}function Kn(t){if(t==null||typeof t!="object"||Array.isArray(t)||I(t))return[];const n=[];for(const s of Object.keys(t)){const r=t[s];r!==null&&typeof r=="object"&&!Array.isArray(r)&&!I(r)&&n.push(s)}return n}function fe(t,n,s){n&&navigator.clipboard.writeText(t).then(()=>{const r=n.textContent;n.textContent="âœ“",n.classList.add(`${s}-copy-row-ok`),setTimeout(()=>{n.textContent=r,n.classList.remove(`${s}-copy-row-ok`)},1200)}).catch(()=>{})}function pe({redacted:t,p:n}){const[s,r]=$(!1);return e("span",{className:`${n}-config-redacted`,style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[e("span",{children:s?t.value:t.display}),e("button",{type:"button",className:`${n}-btn`,title:s?"Hide":"Reveal",style:{padding:"0 4px",fontSize:"0.85em",lineHeight:1,minWidth:"auto"},onClick:l=>{l.stopPropagation(),r(i=>!i)},children:s?e("svg",{width:"14",height:"14",viewBox:M["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M["eye-off"].elements.join("")}}):e("svg",{width:"14",height:"14",viewBox:M.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M.eye.elements.join("")}})})]})}function Qn({env:t,search:n,p:s}){const r=P(new Map),l=n.toLowerCase(),i=Object.entries(t).filter(([o,c])=>{if(!l)return!0;const u=I(c)?c.display:c==null?"":String(c);return o.toLowerCase().includes(l)||u.toLowerCase().includes(l)});return e("div",{className:`${s}-config-table-wrap`,children:e("table",{className:`${s}-table ${s}-config-env-table`,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Variable"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:[i.map(([o,c])=>{const u=I(c),d=u?c.display:c==null?"null":String(c),f=`${o}=${d}`;return e("tr",{children:[e("td",{className:`${s}-env-key`,children:e("span",{className:`${s}-config-key`,children:o})}),e("td",{className:`${s}-env-val`,children:u?e(pe,{redacted:c,p:s}):e("span",{className:`${s}-config-val`,children:d})}),e("td",{children:!u&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:a=>{r.current.set(o,a)},onClick:a=>{a.stopPropagation(),fe(f,r.current.get(o)??null,s)},children:"âŽ˜"})})]},o)}),i.length===0&&e("tr",{children:e("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching variables"})})]})]})})}function Gn({source:t,search:n,p:s}){const r=P(new Map),l=n.toLowerCase(),i=Ae(t,""),o=i.filter(c=>{const u=I(c.value)?c.value.display:c.value===null||c.value===void 0?"":String(c.value);return c.path.toLowerCase().includes(l)||u.toLowerCase().includes(l)});return e("div",{className:`${s}-config-table-wrap`,children:[e("table",{className:`${s}-table`,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Path"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:[o.map(c=>{const u=I(c.value),d=u?null:Pe(c.value),f=u?c.value.display:d.text,a=`${c.path}: ${f}`;return e("tr",{children:[e("td",{children:e("span",{className:`${s}-config-key`,style:{whiteSpace:"nowrap"},children:c.path})}),e("td",{children:u?e(pe,{redacted:c.value,p:s}):e("span",{className:`${s}-config-val`,style:{wordBreak:"break-all",color:d.color},children:d.text})}),e("td",{children:!u&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:p=>{r.current.set(c.path,p)},onClick:p=>{p.stopPropagation(),fe(a,r.current.get(c.path)??null,s)},children:"âŽ˜"})})]},c.path)}),o.length===0&&e("tr",{children:e("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching entries"})})]})]}),e("div",{style:{padding:"4px 16px",fontSize:"10px",color:"var(--ss-muted)"},children:[o.length," of ",i.length," entries"]})]})}function Xn({obj:t,prefix:n,p:s}){const r=P(new Map),l=Ae(t,n);return e("table",{className:`${s}-table ${s}-config-inner-table`,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"35%"},children:"Key"}),e("th",{children:"Value"}),e("th",{style:{width:36}})]})}),e("tbody",{children:l.map(i=>{const o=i.path.indexOf(n+".")===0?i.path.slice(n.length+1):i.path,c=I(i.value),u=c?null:Pe(i.value),d=c?i.value.display:u.text,f=`${i.path}: ${d}`;return e("tr",{children:[e("td",{title:o,children:e("span",{className:`${s}-config-key`,children:o})}),e("td",{title:d,children:c?e(pe,{redacted:i.value,p:s}):e("span",{className:`${s}-config-val`,style:{color:u.color},children:u.text})}),e("td",{children:!c&&e("button",{type:"button",className:`${s}-copy-row-btn`,title:"Copy",ref:a=>{r.current.set(i.path,a)},onClick:a=>{a.stopPropagation(),fe(f,r.current.get(i.path)??null,s)},children:"âŽ˜"})})]},i.path)})})]})}function Yn({value:t,p:n}){if(t==null)return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:"null"});if(I(t))return e(pe,{redacted:t,p:n});if(typeof t=="boolean")return e("span",{className:`${n}-config-val`,style:{color:t?"var(--ss-green-fg)":"var(--ss-red-fg)"},children:String(t)});if(typeof t=="number")return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-amber-fg)"},children:String(t)});if(Array.isArray(t)){const s=t.map(r=>r==null?"null":typeof r=="object"?JSON.stringify(r):String(r));return e("span",{className:`${n}-config-val`,style:{color:"var(--ss-purple-fg)"},children:["[",s.join(", "),"]"]})}return typeof t=="object"?e("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:JSON.stringify(t)}):e("span",{className:`${n}-config-val`,children:String(t)})}function Zn({obj:t,expandedPaths:n,onToggle:s,p:r}){if(t==null||typeof t!="object"||Array.isArray(t)||I(t))return null;const l=Object.keys(t),i=P(new Map);return e("div",{className:`${r}-config-sections`,children:l.map(o=>{const c=t[o],u=c!==null&&typeof c=="object"&&!Array.isArray(c)&&!I(c),d=n.has(o),f=I(c);return e("div",{className:`${r}-config-section`,children:[e("div",{className:`${r}-config-section-header${u?"":` ${r}-config-leaf`}`,onClick:u?()=>s(o):void 0,style:{cursor:u?"pointer":"default"},children:[u?e("span",{className:`${r}-config-toggle`,children:d?"â–¼":"â–¶"}):e("span",{className:`${r}-config-toggle`,style:{visibility:"hidden"},children:"â€¢"}),e("span",{className:`${r}-config-key`,children:o}),u?e("span",{className:`${r}-config-count`,children:[At(c)," entries"]}):e(B,{children:[e("span",{className:`${r}-config-val`,style:{marginLeft:"8px"},children:e(Yn,{value:c,p:r})}),!f&&e("button",{type:"button",className:`${r}-copy-row-btn`,style:{marginLeft:"4px"},title:"Copy",ref:a=>{i.current.set(o,a)},onClick:a=>{a.stopPropagation();const p=Pe(c);fe(`${o}: ${p.text}`,i.current.get(o)??null,r)},children:"âŽ˜"})]})]}),u&&d&&e("div",{className:`${r}-config-section-body`,children:e(Xn,{obj:c,prefix:o,p:r})})]},o)})})}function es({data:t,isLoading:n,classPrefix:s}){const r=s,[l,i]=$(""),[o,c]=$(""),[u,d]=$("app"),[f,a]=$(new Set),[p,h]=$("Copy JSON");O(()=>{const w=setTimeout(()=>c(l),200);return()=>clearTimeout(w)},[l]);const g=t,y=k(w=>{a(S=>{const v=new Set(S);return v.has(w)?v.delete(w):v.add(w),v})},[]),m=k(()=>{if(!g)return;const w=u==="app"?g.app:g.env;if(!w)return;const S=Kn(w);a(new Set(S))},[g,u]),_=k(()=>{a(new Set)},[]),b=k(async()=>{if(g)try{const w=u==="app"?g.app:g.env;await navigator.clipboard.writeText(JSON.stringify(w,null,2)),h("Copied!"),setTimeout(()=>h("Copy JSON"),1500)}catch{}},[g,u]);return e("div",{children:[e("div",{className:`${r}-config-toolbar`,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px"},children:[e("button",{type:"button",className:`${r}-config-tab${u==="app"?` ${r}-active`:""}`,onClick:()=>d("app"),children:"App Config"}),e("button",{type:"button",className:`${r}-config-tab${u==="env"?` ${r}-active`:""}`,onClick:()=>d("env"),children:"Env"}),e("div",{style:{position:"relative",flex:1},children:[e("input",{type:"text",className:`${r}-search`,placeholder:"Search keys and values...",value:l,onChange:w=>i(w.target.value),style:{width:"100%"}}),l&&e("button",{type:"button",onClick:()=>i(""),style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"14px",color:"var(--ss-dim)",padding:"0 2px",lineHeight:1},children:"Ã—"})]}),u==="app"&&!o&&e(B,{children:[e("button",{type:"button",className:`${r}-btn`,onClick:m,children:"Expand All"}),e("button",{type:"button",className:`${r}-btn`,onClick:_,children:"Collapse All"})]}),e("button",{type:"button",className:`${r}-btn`,onClick:b,children:p})]}),n&&!t?e("div",{className:`${r}-empty`,children:"Loading config..."}):g?u==="env"?e(Qn,{env:g.env??{},search:o,p:r}):o?e(Gn,{source:g.app??{},search:o,p:r}):e("div",{className:`${r}-config-table-wrap`,children:e(Zn,{obj:g.app,expandedPaths:f,onToggle:y,p:r})}):e("div",{className:`${r}-empty`,children:"Config not available"})]})}function Pt({options:t,dashboardPath:n}){const s=T(()=>n?n.replace(/\/+$/,"")+"/api":null,[n]),r=T(()=>s?{...t,debugEndpoint:s}:t,[s,t]),{data:l,isLoading:i,error:o}=F("config",r);return o?e("div",{className:"ss-dbg-empty",children:["Error: ",o.message]}):e(es,{data:l,isLoading:i,classPrefix:"ss-dbg"})}const ts=Object.freeze(Object.defineProperty({__proto__:null,ConfigTab:Pt,default:Pt},Symbol.toStringTag,{value:"Module"})),ns=["password","secret","token","key","credential","auth"];function Mt(t){const n=t.toLowerCase();return ns.some(s=>n.includes(s))}function Ot(t){const n=Date.now()-t,s=Math.floor(n/1e3);if(s<60)return`${s}s ago`;const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const l=Math.floor(r/60);return l<24?`${l}h ago`:`${Math.floor(l/24)}d ago`}function Me(t){return t.toLocaleString()}function jt(t){return t<1e3?`${t}ms`:t<6e4?`${t/1e3}s`:t<36e5?`${t/6e4}m`:`${t/36e5}h`}function ss(t){if(!t&&t!==0)return"-";const n=Math.floor(t),s=Math.floor(n/86400),r=Math.floor(n%86400/3600),l=Math.floor(n%3600/60);return s>0?`${s}d ${r}h`:r>0?`${r}h ${l}m`:l>0?`${l}m ${n%60}s`:`${n}s`}function It(t){if(t==null)return"-";if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t))return t.join(", ")||"-";try{return JSON.stringify(t)}catch{return String(t)}}function Z({status:t,prefix:n}){let s=`${n}-dot`;return["healthy","active","connected","available","ready"].includes(t)?s+=` ${n}-dot-ok`:["errored","unavailable"].includes(t)&&(s+=` ${n}-dot-err`),e("span",{className:s})}const Bt=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:M.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M.eye.elements.join("")}}),Rt=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:M["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:M["eye-off"].elements.join("")}});function rs({value:t}){const[n,s]=$(!1);return e("span",{children:[n?t:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",e("button",{type:"button",onClick:()=>s(r=>!r),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:n?e(Rt,{}):e(Bt,{})})]})}function ls({current:t,max:n,prefix:s}){const r=n>0?Math.min(100,Math.round(t/n*100)):0,l=r>=100;return e("div",{className:`${s}-bar`,children:[e("div",{className:`${s}-bar-track`,children:e("div",{className:`${s}-bar-fill${l?` ${s}-bar-fill-warn`:""}`,style:{width:`${r}%`}})}),e("span",{className:`${s}-bar-pct${l?` ${s}-bar-pct-warn`:""}`,children:[r,"%"]})]})}function is({config:t,prefix:n}){const s=Object.entries(t);return s.length===0?e("span",{className:`${n}-c-dim`,children:"-"}):e("span",{className:`${n}-c-muted`,children:s.map(([r,l],i)=>e("span",{children:[i>0&&", ",e("span",{className:`${n}-c-dim`,children:r}),"=",Mt(r)&&typeof l=="string"?e(rs,{value:l}):e("span",{children:It(l)})]},r))})}function _e({label:t,value:n,prefix:s}){return e("div",{className:`${s}-info-card`,children:[e("span",{className:`${s}-info-card-label`,children:t}),e("span",{className:`${s}-info-card-value`,children:n})]})}function as({data:t,tableClassName:n,classPrefix:s}){const r=s||"ss-dash",[l,i]=$(new Set),o=k(f=>{i(a=>{const p=new Set(a);return p.has(f)?p.delete(f):p.add(f),p})},[]),c=k((f,a)=>{if(a==null)return e("span",{className:`${r}-c-dim`,children:"null"});if(typeof a=="boolean")return e("span",{className:a?`${r}-c-green`:`${r}-c-red`,children:String(a)});if(Array.isArray(a))return e("span",{children:a.join(", ")||"-"});const p=It(a);if(Mt(f)){const h=l.has(f);return e("span",{children:[h?p:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",e("button",{type:"button",onClick:()=>o(f),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:h?e(Rt,{}):e(Bt,{})})]})}return e("span",{children:p})},[l,o,r]),u={collectionInterval:"Stats Collection",dashboardBroadcast:"Dashboard Broadcast",debugBroadcast:"Debug Broadcast",persistFlush:"Persist Flush",retentionCleanup:"Retention Cleanup"},d={prometheus:"Prometheus",pinoHook:"Pino Log Hook",edgePlugin:"Edge Plugin",cacheInspector:"Cache Inspector",queueInspector:"Queue Inspector"};return e("div",{children:[e("h3",{className:`${r}-internals-title`,children:"Package Info"}),e("div",{className:`${r}-info-cards`,children:[e(_e,{label:"Version",value:t.package.version||"-",prefix:r}),e(_e,{label:"Node.js",value:t.package.nodeVersion||"-",prefix:r}),e(_e,{label:"AdonisJS",value:t.package.adonisVersion||"-",prefix:r}),e(_e,{label:"Uptime",value:ss(t.package.uptime),prefix:r})]}),t.collectors.length>0&&e(B,{children:[e("h3",{className:`${r}-internals-title`,children:"Collectors"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Collector"}),e("th",{children:"Status"}),e("th",{children:"Last Error"}),e("th",{children:"Config"})]})}),e("tbody",{children:t.collectors.map(f=>e("tr",{children:[e("td",{children:[e("code",{children:f.name}),f.label&&f.label!==f.name&&e("span",{className:`${r}-c-dim`,children:[" ",f.label]})]}),e("td",{children:[e(Z,{status:f.status,prefix:r}),f.status]}),e("td",{className:f.lastError?`${r}-c-red`:`${r}-c-dim`,children:f.lastError?e(B,{children:[f.lastError,f.lastErrorAt&&e("span",{className:`${r}-c-dim`,style:{fontSize:"10px"},children:Ot(f.lastErrorAt)})]}):"-"}),e("td",{children:e(is,{config:f.config,prefix:r})})]},f.name))})]})]}),e("h3",{className:`${r}-internals-title`,children:"Buffers"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Buffer"}),e("th",{children:"Usage"}),e("th",{children:"Fill %"})]})}),e("tbody",{children:Object.entries(t.buffers).map(([f,a])=>e("tr",{children:[e("td",{style:{textTransform:"capitalize"},children:f}),e("td",{children:[Me(a.current)," / ",Me(a.max)]}),e("td",{children:e(ls,{current:a.current,max:a.max,prefix:r})})]},f))})]}),e("h3",{className:`${r}-internals-title`,children:"Timers"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Timer"}),e("th",{children:"Status"}),e("th",{children:"Interval"})]})}),e("tbody",{children:Object.entries(t.timers).map(([f,a])=>e("tr",{children:[e("td",{children:u[f]||f}),e("td",{children:[e(Z,{status:a.active?"active":"inactive",prefix:r}),e("span",{className:a.active?`${r}-c-green`:`${r}-c-dim`,children:a.active?"active":"inactive"})]}),e("td",{children:a.active?a.intervalMs?jt(a.intervalMs):a.debounceMs?`${jt(a.debounceMs)} (debounce)`:"-":e("span",{className:`${r}-c-dim`,children:"â€”"})})]},f))})]}),e("h3",{className:`${r}-internals-title`,children:"Integrations"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{children:"Integration"}),e("th",{children:"Status"}),e("th",{children:"Details"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"Transmit (SSE)"}),e("td",{children:[e(Z,{status:t.transmit.available?"connected":"inactive",prefix:r}),t.transmit.available?"connected":"unavailable"]}),e("td",{style:{fontSize:"11px"},children:t.transmit.channels.length>0?`Channels: ${t.transmit.channels.join(", ")}`:"-"})]}),Object.entries(t.integrations).map(([f,a])=>{const p=a.active??a.available??!1,h=a.active?"active":a.available?"available":"unavailable";let g=a.mode?`Mode: ${a.mode}`:"-";return f==="edgePlugin"&&a.active?g="@serverStats() tag registered":f==="cacheInspector"&&a.available?g="Redis dependency detected":f==="queueInspector"&&a.available&&(g="Queue dependency detected"),e("tr",{children:[e("td",{children:d[f]||f}),e("td",{children:[e(Z,{status:p?"active":"inactive",prefix:r}),h]}),e("td",{className:`${r}-c-dim`,style:{fontSize:"11px"},children:g})]},f)})]})]}),t.storage&&e(B,{children:[e("h3",{className:`${r}-internals-title`,children:"Storage (SQLite)"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Metric"}),e("th",{children:"Value"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"Status"}),e("td",{children:[e(Z,{status:t.storage.ready?"ready":"inactive",prefix:r}),t.storage.ready?"ready":"not ready"]})]}),e("tr",{children:[e("td",{children:"DB Path"}),e("td",{children:e("code",{children:t.storage.dbPath})})]}),e("tr",{children:[e("td",{children:"File Size"}),e("td",{children:[t.storage.fileSizeMb.toFixed(1)," MB"]})]}),e("tr",{children:[e("td",{children:"WAL Size"}),e("td",{children:[t.storage.walSizeMb.toFixed(1)," MB"]})]}),e("tr",{children:[e("td",{children:"Retention"}),e("td",{children:[t.storage.retentionDays," days"]})]}),e("tr",{children:[e("td",{children:"Last Cleanup"}),e("td",{children:t.storage.lastCleanupAt?Ot(t.storage.lastCleanupAt):"-"})]})]})]}),t.storage.tables.length>0&&e("table",{className:n,style:{marginTop:8},children:[e("thead",{children:e("tr",{children:[e("th",{children:"Table"}),e("th",{children:"Rows"})]})}),e("tbody",{children:t.storage.tables.map(f=>e("tr",{children:[e("td",{children:e("code",{children:f.name})}),e("td",{children:Me(f.rowCount)})]},f.name))})]})]}),e("h3",{className:`${r}-internals-title`,children:"Resolved Config"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Setting"}),e("th",{children:"Value"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{children:"intervalMs"}),e("td",{children:t.config.intervalMs})]}),e("tr",{children:[e("td",{children:"transport"}),e("td",{children:t.config.transport})]}),e("tr",{children:[e("td",{children:"channelName"}),e("td",{children:t.config.channelName})]}),e("tr",{children:[e("td",{children:"endpoint"}),e("td",{children:t.config.endpoint===!1?"false":t.config.endpoint})]}),e("tr",{children:[e("td",{children:"skipInTest"}),e("td",{children:c("skipInTest",t.config.skipInTest)})]}),e("tr",{children:[e("td",{children:"onStats callback"}),e("td",{children:t.config.hasOnStatsCallback?"defined":"not defined"})]}),e("tr",{children:[e("td",{children:"shouldShow callback"}),e("td",{children:t.config.hasShouldShowCallback?"defined":"not defined"})]})]})]}),e("h4",{className:`${r}-internals-title`,children:"DevToolbar"}),e("table",{className:n,children:[e("thead",{children:e("tr",{children:[e("th",{style:{width:"200px"},children:"Setting"}),e("th",{children:"Value"})]})}),e("tbody",{children:Object.entries(t.devToolbar).map(([f,a])=>e("tr",{children:[e("td",{children:f==="customPaneCount"?"customPanes":f}),e("td",{children:f==="customPaneCount"?`${a} registered`:c(f,a)})]},f))})]})]})}const os=3e3;function Dt({options:t}){const{baseUrl:n="",debugEndpoint:s="/admin/api/debug",authToken:r}=t||{},[l,i]=$(null),[o,c]=$(!0),[u,d]=$(null),f=P(null),a=P(null),p=k(()=>(f.current||(f.current=new de({baseUrl:n,authToken:r})),f.current),[n,r]),h=k(async()=>{try{const y=await p().get(`${s}/diagnostics`);i(y),d(null),c(!1)}catch(g){if(g instanceof ke){d(g),c(!1),a.current&&(clearInterval(a.current),a.current=null);return}d(g instanceof Error?g:new Error(String(g))),c(!1)}},[s,p]);return O(()=>(c(!0),d(null),h(),a.current=setInterval(h,os),()=>{a.current&&(clearInterval(a.current),a.current=null)}),[h]),o&&!l?e("div",{className:"ss-dbg-empty",children:"Loading diagnostics..."}):u?e("div",{className:"ss-dbg-empty",children:["Error: ",u.message]}):l?e(as,{data:l,tableClassName:"ss-dbg-table",classPrefix:"ss-dbg"}):e("div",{className:"ss-dbg-empty",children:"Diagnostics not available"})}const cs=Object.freeze(Object.defineProperty({__proto__:null,InternalsTab:Dt,default:Dt},Symbol.toStringTag,{value:"Module"}));function Ft({pane:t,options:n}){({...n});const{data:s,isLoading:r,error:l,clearData:i}=F(t.endpoint.replace(/^\//,""),{...n,debugEndpoint:""}),[o,c]=$(""),u=T(()=>{if(!s)return[];const p=t.dataKey||t.id;let h=s;for(const g of p.split("."))h=h?.[g];return Array.isArray(h)?h:[]},[s,t.dataKey,t.id]),d=T(()=>{if(!o)return u;const p=o.toLowerCase(),h=t.columns.filter(g=>g.searchable).map(g=>g.key);return h.length===0?u:u.filter(g=>h.some(y=>{const m=g[y];return m!==null&&String(m).toLowerCase().includes(p)}))},[u,o,t.columns]),f=(p,h)=>{if(p==null)return e("span",{className:"ss-dbg-c-dim",children:"-"});switch(h.format||"text"){case"time":return e("span",{className:"ss-dbg-event-time",title:V(p),children:typeof p=="number"?q(p):String(p)});case"timeAgo":return e("span",{className:"ss-dbg-event-time",title:V(p),children:q(p)});case"duration":{const y=typeof p=="number"?p:parseFloat(String(p));return isNaN(y)?String(p):e("span",{className:`ss-dbg-duration ${y>500?"ss-dbg-very-slow":y>100?"ss-dbg-slow":""}`,children:z(y)})}case"method":return e("span",{className:`ss-dbg-method ss-dbg-method-${String(p).toLowerCase()}`,children:String(p)});case"json":{let y=p;if(typeof p=="string")try{y=JSON.parse(p)}catch{}return he(y,80)}case"badge":{const y=String(p).toLowerCase(),_=(h.badgeColorMap||{})[y]||"muted";return e("span",{className:`ss-dbg-badge ss-dbg-badge-${_}`,children:String(p)})}default:return String(p)}},a=P(null);return O(()=>{if(a.current)return W(a.current)},[d]),r&&!s?e("div",{className:"ss-dbg-empty",children:["Loading ",t.label,"..."]}):l?e("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):e("div",{children:[t.search&&e("div",{className:"ss-dbg-search-bar",children:[e("input",{type:"text",className:"ss-dbg-search",placeholder:t.search.placeholder,value:o,onChange:p=>c(p.target.value)}),e("span",{className:"ss-dbg-summary",children:[d.length," items"]}),t.clearable&&e("button",{type:"button",className:"ss-dbg-btn-clear",onClick:i,children:"Clear"})]}),d.length===0?e("div",{className:"ss-dbg-empty",children:"No data"}):e("table",{ref:a,className:"ss-dbg-table",children:[e("thead",{children:e("tr",{children:t.columns.map(p=>e("th",{children:p.label},p.key))})}),e("tbody",{children:d.map((p,h)=>e("tr",{children:t.columns.map(g=>e("td",{children:f(p[g.key],g)},g.key))},p.id??h))})]})]})}const ds=Object.freeze(Object.defineProperty({__proto__:null,CustomPaneTab:Ft,default:Ft},Symbol.toStringTag,{value:"Module"}))})();
