(function(){"use strict";var ne,N,Ie,J,De,Be,je,Re,ge,be,ye,re={},se=[],Vt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,G=Array.isArray;function U(e,n){for(var r in n)e[r]=n[r];return e}function ve(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function le(e,n,r){var s,i,l,o={};for(l in n)l=="key"?s=n[l]:l=="ref"?i=n[l]:o[l]=n[l];if(arguments.length>2&&(o.children=arguments.length>3?ne.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)o[l]===void 0&&(o[l]=e.defaultProps[l]);return ie(e,o,s,i,null)}function ie(e,n,r,s,i){var l={type:e,props:n,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Ie,__i:-1,__u:0};return i==null&&N.vnode!=null&&N.vnode(l),l}function I(e){return e.children}function H(e,n){this.props=e,this.context=n}function K(e,n){if(n==null)return e.__?K(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?K(e):null}function Wt(e){if(e.__P&&e.__d){var n=e.__v,r=n.__e,s=[],i=[],l=U({},n);l.__v=n.__v+1,N.vnode&&N.vnode(l),we(e.__P,l,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,s,r??K(n),!!(32&n.__u),i),l.__v=n.__v,l.__.__k[l.__i]=l,qe(s,l,i),n.__e=n.__=null,l.__e!=r&&Fe(l)}}function Fe(e){if((e=e.__)!=null&&e.__c!=null)return e.__e=e.__c.base=null,e.__k.some(function(n){if(n!=null&&n.__e!=null)return e.__e=e.__c.base=n.__e}),Fe(e)}function Ue(e){(!e.__d&&(e.__d=!0)&&J.push(e)&&!ae.__r++||De!=N.debounceRendering)&&((De=N.debounceRendering)||Be)(ae)}function ae(){for(var e,n=1;J.length;)J.length>n&&J.sort(je),e=J.shift(),n=J.length,Wt(e);ae.__r=0}function He(e,n,r,s,i,l,o,h,c,a,p){var d,u,f,_,m,y,b,g=s&&s.__k||se,k=n.length;for(c=qt(r,n,g,c,k),d=0;d<k;d++)(f=r.__k[d])!=null&&(u=f.__i!=-1&&g[f.__i]||re,f.__i=d,y=we(e,f,u,i,l,o,h,c,a,p),_=f.__e,f.ref&&u.ref!=f.ref&&(u.ref&&xe(u.ref,null,f),p.push(f.ref,f.__c||_,f)),m==null&&_!=null&&(m=_),(b=!!(4&f.__u))||u.__k===f.__k?c=ze(f,c,e,b):typeof f.type=="function"&&y!==void 0?c=y:_&&(c=_.nextSibling),f.__u&=-7);return r.__e=m,c}function qt(e,n,r,s,i){var l,o,h,c,a,p=r.length,d=p,u=0;for(e.__k=new Array(i),l=0;l<i;l++)(o=n[l])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=e.__k[l]=ie(null,o,null,null,null):G(o)?o=e.__k[l]=ie(I,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=e.__k[l]=ie(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):e.__k[l]=o,c=l+u,o.__=e,o.__b=e.__b+1,h=null,(a=o.__i=Jt(o,r,c,d))!=-1&&(d--,(h=r[a])&&(h.__u|=2)),h==null||h.__v==null?(a==-1&&(i>p?u--:i<p&&u++),typeof o.type!="function"&&(o.__u|=4)):a!=c&&(a==c-1?u--:a==c+1?u++:(a>c?u--:u++,o.__u|=4))):e.__k[l]=null;if(d)for(l=0;l<p;l++)(h=r[l])!=null&&(2&h.__u)==0&&(h.__e==s&&(s=K(h)),Ke(h,h));return s}function ze(e,n,r,s){var i,l;if(typeof e.type=="function"){for(i=e.__k,l=0;i&&l<i.length;l++)i[l]&&(i[l].__=e,n=ze(i[l],n,r,s));return n}e.__e!=n&&(s&&(n&&e.type&&!n.parentNode&&(n=K(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function oe(e,n){return n=n||[],e==null||typeof e=="boolean"||(G(e)?e.some(function(r){oe(r,n)}):n.push(e)),n}function Jt(e,n,r,s){var i,l,o,h=e.key,c=e.type,a=n[r],p=a!=null&&(2&a.__u)==0;if(a===null&&h==null||p&&h==a.key&&c==a.type)return r;if(s>(p?1:0)){for(i=r-1,l=r+1;i>=0||l<n.length;)if((a=n[o=i>=0?i--:l++])!=null&&(2&a.__u)==0&&h==a.key&&c==a.type)return o}return-1}function Ve(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||Vt.test(n)?r:r+"px"}function ce(e,n,r,s,i){var l,o;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(n in s)r&&n in r||Ve(e.style,n,"");if(r)for(n in r)s&&r[n]==s[n]||Ve(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(Re,"$1")),o=n.toLowerCase(),n=o in e||n=="onFocusOut"||n=="onFocusIn"?o.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=r,r?s?r.u=s.u:(r.u=ge,e.addEventListener(n,l?ye:be,l)):e.removeEventListener(n,l?ye:be,l);else{if(i=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function We(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=ge++;else if(n.t<r.u)return;return r(N.event?N.event(n):n)}}}function we(e,n,r,s,i,l,o,h,c,a){var p,d,u,f,_,m,y,b,g,k,C,v,w,P,$,M=n.type;if(n.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),l=[h=n.__e=r.__e]),(p=N.__b)&&p(n);e:if(typeof M=="function")try{if(b=n.props,g="prototype"in M&&M.prototype.render,k=(p=M.contextType)&&s[p.__c],C=p?k?k.props.value:p.__:s,r.__c?y=(d=n.__c=r.__c).__=d.__E:(g?n.__c=d=new M(b,C):(n.__c=d=new H(b,C),d.constructor=M,d.render=Qt),k&&k.sub(d),d.state||(d.state={}),d.__n=s,u=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=U({},d.__s)),U(d.__s,M.getDerivedStateFromProps(b,d.__s))),f=d.props,_=d.state,d.__v=n,u)g&&M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&M.getDerivedStateFromProps==null&&b!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,C),n.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,C)===!1){n.__v!=r.__v&&(d.props=b,d.state=d.__s,d.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(q){q&&(q.__=n)}),se.push.apply(d.__h,d._sb),d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,C),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,_,m)})}if(d.context=C,d.props=b,d.__P=e,d.__e=!1,v=N.__r,w=0,g)d.state=d.__s,d.__d=!1,v&&v(n),p=d.render(d.props,d.state,d.context),se.push.apply(d.__h,d._sb),d._sb=[];else do d.__d=!1,v&&v(n),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(s=U(U({},s),d.getChildContext())),g&&!u&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,_)),P=p!=null&&p.type===I&&p.key==null?Je(p.props.children):p,h=He(e,G(P)?P:[P],n,r,s,i,l,o,h,c,a),d.base=n.__e,n.__u&=-161,d.__h.length&&o.push(d),y&&(d.__E=d.__=null)}catch(q){if(n.__v=null,c||l!=null)if(q.then){for(n.__u|=c?160:128;h&&h.nodeType==8&&h.nextSibling;)h=h.nextSibling;l[l.indexOf(h)]=null,n.__e=h}else{for($=l.length;$--;)ve(l[$]);Ne(n)}else n.__e=r.__e,n.__k=r.__k,q.then||Ne(n);N.__e(q,n,r)}else l==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):h=n.__e=Kt(r.__e,n,r,s,i,l,o,c,a);return(p=N.diffed)&&p(n),128&n.__u?void 0:h}function Ne(e){e&&(e.__c&&(e.__c.__e=!0),e.__k&&e.__k.some(Ne))}function qe(e,n,r){for(var s=0;s<r.length;s++)xe(r[s],r[++s],r[++s]);N.__c&&N.__c(n,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(l){l.call(i)})}catch(l){N.__e(l,i.__v)}})}function Je(e){return typeof e!="object"||e==null||e.__b>0?e:G(e)?e.map(Je):U({},e)}function Kt(e,n,r,s,i,l,o,h,c){var a,p,d,u,f,_,m,y=r.props||re,b=n.props,g=n.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),l!=null){for(a=0;a<l.length;a++)if((f=l[a])&&"setAttribute"in f==!!g&&(g?f.localName==g:f.nodeType==3)){e=f,l[a]=null;break}}if(e==null){if(g==null)return document.createTextNode(b);e=document.createElementNS(i,g,b.is&&b),h&&(N.__m&&N.__m(n,l),h=!1),l=null}if(g==null)y===b||h&&e.data==b||(e.data=b);else{if(l=l&&ne.call(e.childNodes),!h&&l!=null)for(y={},a=0;a<e.attributes.length;a++)y[(f=e.attributes[a]).name]=f.value;for(a in y)f=y[a],a=="dangerouslySetInnerHTML"?d=f:a=="children"||a in b||a=="value"&&"defaultValue"in b||a=="checked"&&"defaultChecked"in b||ce(e,a,null,f,i);for(a in b)f=b[a],a=="children"?u=f:a=="dangerouslySetInnerHTML"?p=f:a=="value"?_=f:a=="checked"?m=f:h&&typeof f!="function"||y[a]===f||ce(e,a,f,y[a],i);if(p)h||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),n.__k=[];else if(d&&(e.innerHTML=""),He(n.type=="template"?e.content:e,G(u)?u:[u],n,r,s,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,l,o,l?l[0]:r.__k&&K(r,0),h,c),l!=null)for(a=l.length;a--;)ve(l[a]);h||(a="value",g=="progress"&&_==null?e.removeAttribute("value"):_!=null&&(_!==e[a]||g=="progress"&&!_||g=="option"&&_!=y[a])&&ce(e,a,_,y[a],i),a="checked",m!=null&&m!=e[a]&&ce(e,a,m,y[a],i))}return e}function xe(e,n,r){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&n==null||(e.__u=e(n))}else e.current=n}catch(i){N.__e(i,r)}}function Ke(e,n,r){var s,i;if(N.unmount&&N.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||xe(s,null,n)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){N.__e(l,n)}s.base=s.__P=null}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&Ke(s[i],n,r||typeof e.type!="function");r||ve(e.__e),e.__c=e.__=e.__e=void 0}function Qt(e,n,r){return this.constructor(e,r)}function Gt(e,n,r){var s,i,l,o;n==document&&(n=document.documentElement),N.__&&N.__(e,n),i=(s=!1)?null:n.__k,l=[],o=[],we(n,e=n.__k=le(I,null,[e]),i||re,re,n.namespaceURI,i?null:n.firstChild?ne.call(n.childNodes):null,l,i?i.__e:n.firstChild,s,o),qe(l,e,o)}ne=se.slice,N={__e:function(e,n,r,s){for(var i,l,o;n=n.__;)if((i=n.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),o=i.__d),o)return i.__E=i}catch(h){e=h}throw e}},Ie=0,H.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof e=="function"&&(e=e(U({},r),this.props)),e&&U(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),Ue(this))},H.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ue(this))},H.prototype.render=I,J=[],Be=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,je=function(e,n){return e.__v.__b-n.__v.__b},ae.__r=0,Re=/(PointerCapture)$|Capture$/i,ge=0,be=We(!1),ye=We(!0);var Xt=0;function t(e,n,r,s,i,l){n||(n={});var o,h,c=n;if("ref"in c)for(h in c={},n)h=="ref"?o=n[h]:c[h]=n[h];var a={type:e,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Xt,__i:-1,__u:0,__source:i,__self:l};if(typeof e=="function"&&(o=e.defaultProps))for(h in o)c[h]===void 0&&(c[h]=o[h]);return N.vnode&&N.vnode(a),a}var X,L,$e,Qe,Y=0,Ge=[],E=N,Xe=E.__b,Ye=E.__r,Ze=E.diffed,et=E.__c,tt=E.unmount,nt=E.__;function ke(e,n){E.__h&&E.__h(L,e,Y||n),Y=0;var r=L.__H||(L.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function x(e){return Y=1,Yt(lt,e)}function Yt(e,n,r){var s=ke(X++,2);if(s.t=e,!s.__c&&(s.__=[r?r(n):lt(void 0,n),function(h){var c=s.__N?s.__N[0]:s.__[0],a=s.t(c,h);c!==a&&(s.__N=[a,s.__[1]],s.__c.setState({}))}],s.__c=L,!L.__f)){var i=function(h,c,a){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(u){return u.__c});if(p.every(function(u){return!u.__N}))return!l||l.call(this,h,c,a);var d=s.__c.props!==h;return p.some(function(u){if(u.__N){var f=u.__[0];u.__=u.__N,u.__N=void 0,f!==u.__[0]&&(d=!0)}}),l&&l.call(this,h,c,a)||d};L.__f=!0;var l=L.shouldComponentUpdate,o=L.componentWillUpdate;L.componentWillUpdate=function(h,c,a){if(this.__e){var p=l;l=void 0,i(h,c,a),l=p}o&&o.call(this,h,c,a)},L.shouldComponentUpdate=i}return s.__N||s.__}function z(e,n){var r=ke(X++,3);!E.__s&&st(r.__H,n)&&(r.__=e,r.u=n,L.__H.__h.push(r))}function B(e){return Y=5,T(function(){return{current:e}},[])}function T(e,n){var r=ke(X++,7);return st(r.__H,n)&&(r.__=e(),r.__H=n,r.__h=e),r.__}function S(e,n){return Y=8,T(function(){return e},n)}function Zt(){for(var e;e=Ge.shift();){var n=e.__H;if(e.__P&&n)try{n.__h.some(de),n.__h.some(Ce),n.__h=[]}catch(r){n.__h=[],E.__e(r,e.__v)}}}E.__b=function(e){L=null,Xe&&Xe(e)},E.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),nt&&nt(e,n)},E.__r=function(e){Ye&&Ye(e),X=0;var n=(L=e.__c).__H;n&&($e===L?(n.__h=[],L.__h=[],n.__.some(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(n.__h.some(de),n.__h.some(Ce),n.__h=[],X=0)),$e=L},E.diffed=function(e){Ze&&Ze(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(Ge.push(n)!==1&&Qe===E.requestAnimationFrame||((Qe=E.requestAnimationFrame)||en)(Zt)),n.__H.__.some(function(r){r.u&&(r.__H=r.u),r.u=void 0})),$e=L=null},E.__c=function(e,n){n.some(function(r){try{r.__h.some(de),r.__h=r.__h.filter(function(s){return!s.__||Ce(s)})}catch(s){n.some(function(i){i.__h&&(i.__h=[])}),n=[],E.__e(s,r.__v)}}),et&&et(e,n)},E.unmount=function(e){tt&&tt(e);var n,r=e.__c;r&&r.__H&&(r.__H.__.some(function(s){try{de(s)}catch(i){n=i}}),r.__H=void 0,n&&E.__e(n,r.__v))};var rt=typeof requestAnimationFrame=="function";function en(e){var n,r=function(){clearTimeout(s),rt&&cancelAnimationFrame(n),setTimeout(e)},s=setTimeout(r,35);rt&&(n=requestAnimationFrame(r))}function de(e){var n=L,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),L=n}function Ce(e){var n=L;e.__c=e.__(),L=n}function st(e,n){return!e||e.length!==n.length||n.some(function(r,s){return r!==e[s]})}function lt(e,n){return typeof n=="function"?n(e):n}function tn(e,n){for(var r in n)e[r]=n[r];return e}function it(e,n){for(var r in e)if(r!=="__source"&&!(r in n))return!0;for(var s in n)if(s!=="__source"&&e[s]!==n[s])return!0;return!1}function at(e,n){this.props=e,this.context=n}(at.prototype=new H).isPureReactComponent=!0,at.prototype.shouldComponentUpdate=function(e,n){return it(this.props,e)||it(this.state,n)};var ot=N.__b;N.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ot&&ot(e)};var nn=N.__e;N.__e=function(e,n,r,s){if(e.then){for(var i,l=n;l=l.__;)if((i=l.__c)&&i.__c)return n.__e==null&&(n.__e=r.__e,n.__k=r.__k),i.__c(e,n)}nn(e,n,r,s)};var ct=N.unmount;function dt(e,n,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),e.__c.__H=null),(e=tn({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=n),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(s){return dt(s,n,r)})),e}function ht(e,n,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(s){return ht(s,n,r)}),e.__c&&e.__c.__P===n&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function Z(){this.__u=0,this.o=null,this.__b=null}function ut(e){if(!e.__)return null;var n=e.__.__c;return n&&n.__a&&n.__a(e)}function D(e){var n,r,s,i=null;function l(o){if(n||(n=e()).then(function(h){h&&(i=h.default||h),s=!0},function(h){r=h,s=!0}),r)throw r;if(!s)throw n;return i?le(i,o):null}return l.displayName="Lazy",l.__f=!0,l}function he(){this.i=null,this.l=null}N.unmount=function(e){var n=e.__c;n&&(n.__z=!0),n&&n.__R&&n.__R(),n&&32&e.__u&&(e.type=null),ct&&ct(e)},(Z.prototype=new H).__c=function(e,n){var r=n.__c,s=this;s.o==null&&(s.o=[]),s.o.push(r);var i=ut(s.__v),l=!1,o=function(){l||s.__z||(l=!0,r.__R=null,i?i(c):c())};r.__R=o;var h=r.__P;r.__P=null;var c=function(){if(!--s.__u){if(s.state.__a){var a=s.state.__a;s.__v.__k[0]=ht(a,a.__c.__P,a.__c.__O)}var p;for(s.setState({__a:s.__b=null});p=s.o.pop();)p.__P=h,p.forceUpdate()}};s.__u++||32&n.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(o,o)},Z.prototype.componentWillUnmount=function(){this.o=[]},Z.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=dt(this.__b,r,s.__O=s.__P)}this.__b=null}var i=n.__a&&le(I,null,e.fallback);return i&&(i.__u&=-33),[le(I,null,n.__a?null:e.children),i]};var ft=function(e,n,r){if(++r[1]===r[0]&&e.l.delete(n),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(he.prototype=new H).__a=function(e){var n=this,r=ut(n.__v),s=n.l.get(e);return s[0]++,function(i){var l=function(){n.props.revealOrder?(s.push(i),ft(n,e,s)):i()};r?r(l):l()}},he.prototype.render=function(e){this.i=null,this.l=new Map;var n=oe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&n.reverse();for(var r=n.length;r--;)this.l.set(n[r],this.i=[1,0,this.i]);return e.children},he.prototype.componentDidUpdate=he.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(n,r){ft(e,r,n)})};var rn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ln=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,an=/[A-Z0-9]/g,on=typeof document<"u",cn=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};H.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(H.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(n){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:n})}})});var pt=N.event;function dn(){}function hn(){return this.cancelBubble}function un(){return this.defaultPrevented}N.event=function(e){return pt&&(e=pt(e)),e.persist=dn,e.isPropagationStopped=hn,e.isDefaultPrevented=un,e.nativeEvent=e};var fn={enumerable:!1,configurable:!0,get:function(){return this.class}},_t=N.vnode;N.vnode=function(e){typeof e.type=="string"&&(function(n){var r=n.props,s=n.type,i={},l=s.indexOf("-")===-1;for(var o in r){var h=r[o];if(!(o==="value"&&"defaultValue"in r&&h==null||on&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&h===!0?h="":c==="translate"&&h==="no"?h=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||s!=="input"&&s!=="textarea"||cn(r.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":ln.test(o)&&(o=c):c=o="oninput":l&&sn.test(o)?o=o.replace(an,"-$&").toLowerCase():h===null&&(h=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=h}}s=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=oe(r.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),s=="select"&&i.defaultValue!=null&&(i.value=oe(r.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",fn)):r.className&&(i.class=i.className=r.className),n.props=i})(e),e.$$typeof=rn,_t&&_t(e)};var mt=N.__r;N.__r=function(e){mt&&mt(e),e.__c};var gt=N.diffed;N.diffed=function(e){gt&&gt(e);var n=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in n&&n.value!==r.value&&(r.value=n.value==null?"":n.value)};class ue extends Error{status;constructor(n=403){super(`Unauthorized (HTTP ${n})`),this.name="UnauthorizedError",this.status=n}}class pn extends Error{status;body;constructor(n,r){super(`API error (HTTP ${n})`),this.name="ApiError",this.status=n,this.body=r}}class Se{baseUrl;authToken;constructor(n){this.baseUrl=n.baseUrl.replace(/\/+$/,""),this.authToken=n.authToken}async fetch(n,r){const i={...{Accept:"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},...r?.headers},l=await globalThis.fetch(`${this.baseUrl}${n}`,{...r,headers:i,credentials:this.authToken?"omit":"include"});if(l.status===401||l.status===403)throw new ue(l.status);if(!l.ok){const o=await l.text().catch(()=>"");throw new pn(l.status,o)}return l.json()}async get(n,r){const s=r?`${n}?${r}`:n;return this.fetch(s)}async post(n,r){const s={method:"POST",...r!==void 0?{body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}:{}};return this.fetch(n,s)}async delete(n){return this.fetch(n,{method:"DELETE"})}}const bt="/admin/api/debug",yt={tracing:!1,process:!1,system:!1,http:!1,db:!1,redis:!1,queues:!1,cache:!1,app:!1,log:!1,emails:!1,dashboard:!1,customPanes:[]};function _n(e){return{tracing:e.features?.tracing??!1,process:e.features?.process??!1,system:e.features?.system??!1,http:e.features?.http??!1,db:e.features?.db??!1,redis:e.features?.redis??!1,queues:e.features?.queues??!1,cache:e.features?.cache??!1,app:e.features?.app??!1,log:e.features?.log??!1,emails:e.features?.emails??!1,dashboard:e.features?.dashboard??!1,customPanes:e.customPanes??[]}}async function mn(e,n=bt){const r=`${n.replace(/\/+$/,"")}/config`;return e.fetch(r)}async function gn(e){const{baseUrl:n="",debugEndpoint:r=bt,authToken:s}=e,i=new Se({baseUrl:n,authToken:s});try{const l=await mn(i,r);return _n(l)}catch{return yt}}function bn(e={}){const{baseUrl:n="",debugEndpoint:r="/admin/api/debug",authToken:s}=e,[i,l]=x(yt),[o,h]=x(!0),[c,a]=x(null),p=B(!1);return z(()=>{if(p.current)return;p.current=!0;let d=!1;return(async()=>{try{const f=await gn({baseUrl:n,debugEndpoint:r,authToken:s});d||(l(f),h(!1))}catch(f){d||(a(f instanceof Error?f:new Error(String(f))),h(!1))}})(),()=>{d=!0}},[n,r,s]),{features:i,isLoading:o,error:c}}const fe="ss-dash-theme",Te="ss-theme-change";function Le(){if(typeof window>"u")return"light";const e=localStorage.getItem(fe);return e==="dark"||e==="light"?e:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function yn(e){typeof window>"u"||(localStorage.setItem(fe,e),window.dispatchEvent(new CustomEvent(Te,{detail:e})))}function vn(){const n=Le()==="dark"?"light":"dark";return yn(n),n}function wn(e){if(typeof window>"u")return()=>{};const n=l=>{const o=l.detail;(o==="dark"||o==="light")&&e(o)},r=l=>{if(l.key===fe){const o=l.newValue;e(o==="dark"||o==="light"?o:Le())}},s=window.matchMedia("(prefers-color-scheme: dark)"),i=l=>{localStorage.getItem(fe)||e(l.matches?"dark":"light")};return window.addEventListener(Te,n),window.addEventListener("storage",r),s.addEventListener("change",i),()=>{window.removeEventListener(Te,n),window.removeEventListener("storage",r),s.removeEventListener("change",i)}}function Nn(){const[e,n]=x(()=>Le());z(()=>wn(i=>{n(i)}),[]);const r=S(()=>{const s=vn();return n(s),s},[]);return{theme:e,toggleTheme:r}}const A={queries:{viewBox:"0 0 24 24",elements:['<ellipse cx="12" cy="5" rx="9" ry="3"/>','<path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>','<path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>']},events:{viewBox:"0 0 24 24",elements:['<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>']},emails:{viewBox:"0 0 24 24",elements:['<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>','<polyline points="22,6 12,13 2,6"/>']},routes:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<line x1="2" y1="12" x2="22" y2="12"/>','<path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>']},logs:{viewBox:"0 0 24 24",elements:['<line x1="8" y1="6" x2="21" y2="6"/>','<line x1="8" y1="12" x2="21" y2="12"/>','<line x1="8" y1="18" x2="21" y2="18"/>','<line x1="3" y1="6" x2="3.01" y2="6"/>','<line x1="3" y1="12" x2="3.01" y2="12"/>','<line x1="3" y1="18" x2="3.01" y2="18"/>']},timeline:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},cache:{viewBox:"0 0 24 24",elements:['<rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>','<rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>','<line x1="6" y1="6" x2="6.01" y2="6"/>','<line x1="6" y1="18" x2="6.01" y2="18"/>']},jobs:{viewBox:"0 0 24 24",elements:['<rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>','<path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>']},config:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="3"/>','<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>']},internals:{viewBox:"0 0 24 24",elements:['<rect x="4" y="4" width="16" height="16" rx="2"/>','<rect x="9" y="9" width="6" height="6"/>','<line x1="9" y1="1" x2="9" y2="4"/>','<line x1="15" y1="1" x2="15" y2="4"/>','<line x1="9" y1="20" x2="9" y2="23"/>','<line x1="15" y1="20" x2="15" y2="23"/>','<line x1="20" y1="9" x2="23" y2="9"/>','<line x1="20" y1="14" x2="23" y2="14"/>','<line x1="1" y1="9" x2="4" y2="9"/>','<line x1="1" y1="14" x2="4" y2="14"/>']},overview:{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="7" height="7"/>','<rect x="14" y="3" width="7" height="7"/>','<rect x="14" y="14" width="7" height="7"/>','<rect x="3" y="14" width="7" height="7"/>']},requests:{viewBox:"0 0 24 24",elements:['<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>']},"dashboard-timeline":{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="10"/>','<polyline points="12 6 12 12 16 14"/>']},"custom-pane":{viewBox:"0 0 24 24",elements:['<rect x="3" y="3" width="18" height="18" rx="2"/>','<path d="M9 3v18"/>']},wrench:{viewBox:"0 0 24 24",elements:['<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>']},"external-link":{viewBox:"0 0 24 24",elements:['<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>','<polyline points="15 3 21 3 21 9"/>','<line x1="10" y1="14" x2="21" y2="3"/>']},sun:{viewBox:"0 0 24 24",elements:['<circle cx="12" cy="12" r="5"/>','<line x1="12" y1="1" x2="12" y2="3"/>','<line x1="12" y1="21" x2="12" y2="23"/>','<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>','<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>','<line x1="1" y1="12" x2="3" y2="12"/>','<line x1="21" y1="12" x2="23" y2="12"/>','<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>','<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>']},moon:{viewBox:"0 0 24 24",elements:['<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>']},search:{viewBox:"0 0 24 24",elements:['<circle cx="11" cy="11" r="8"/>','<line x1="21" y1="21" x2="16.65" y2="16.65"/>']},eye:{viewBox:"0 0 24 24",elements:['<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>','<circle cx="12" cy="12" r="3"/>']},"eye-off":{viewBox:"0 0 24 24",elements:['<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>','<path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>','<line x1="1" y1="1" x2="23" y2="23"/>','<path d="M14.12 14.12a3 3 0 1 1-4.24-4.24"/>']},"chevron-right":{viewBox:"0 0 24 24",elements:['<path d="M9 18l6-6-6-6"/>']},"chevron-left":{viewBox:"0 0 24 24",elements:['<path d="M15 18l-6-6 6-6"/>']},"open-external":{viewBox:"0 0 16 16",elements:['<path d="M6 3H3v10h10v-3M9 1h6v6M7 9L15 1"/>']}};function xn({theme:e,onToggle:n,className:r="",classPrefix:s="ss-dash"}){const i=e==="dark";return t("button",{type:"button",className:`${s==="ss-dbg"?"ss-dbg-theme-toggle":"ss-dash-theme-btn"} ${r}`,onClick:n,title:i?"Switch to light theme":"Switch to dark theme","aria-label":i?"Switch to light theme":"Switch to dark theme",children:i?t("svg",{width:"16",height:"16",viewBox:A.sun.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.sun.elements.join("")}}):t("svg",{width:"16",height:"16",viewBox:A.moon.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.moon.elements.join("")}})})}const $n=D(()=>Promise.resolve().then(()=>Gn)),kn=D(()=>Promise.resolve().then(()=>Xn)),Cn=D(()=>Promise.resolve().then(()=>Yn)),Sn=D(()=>Promise.resolve().then(()=>Zn)),Tn=D(()=>Promise.resolve().then(()=>sr)),Ln=D(()=>Promise.resolve().then(()=>ir)),En=D(()=>Promise.resolve().then(()=>ar)),An=D(()=>Promise.resolve().then(()=>ur)),Pn=D(()=>Promise.resolve().then(()=>vr)),Mn=D(()=>Promise.resolve().then(()=>Or)),On=D(()=>Promise.resolve().then(()=>Ir));function In(e){const{defaultOpen:n=!1,dashboardPath:r,isOpen:s,onOpenChange:i,isLive:l=!1,...o}=e,[h,c]=x(n),a=s!==void 0?s:h,p=v=>{i?i(v):c(v)},[d,u]=x("queries"),{features:f}=bn(o),{theme:_,toggleTheme:m}=Nn(),y=f.customPanes||[];z(()=>{const v=w=>{w.key==="Escape"&&a&&p(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[a]);const b=T(()=>[{id:"queries",label:"Queries",visible:!0},{id:"events",label:"Events",visible:!0},{id:"emails",label:"Emails",visible:!0},{id:"routes",label:"Routes",visible:!0},{id:"logs",label:"Logs",visible:!0},{id:"timeline",label:"Timeline",visible:f.tracing},{id:"cache",label:"Cache",visible:f.cache},{id:"jobs",label:"Jobs",visible:f.queues},{id:"config",label:"Config",visible:!0},{id:"internals",label:"Internals",visible:!0}],[f]),g=T(()=>b.filter(v=>v.visible),[b]);z(()=>{const v=[...g.map(w=>w.id),...y.map(w=>w.id)];!v.includes(d)&&v.length>0&&u(v[0])},[g,y,d]);const k=S(()=>{p(!a)},[a]),C=S(()=>{const v={options:o},w=y.find($=>$.id===d);if(w)return t(Z,{fallback:t("div",{className:"ss-dbg-empty",children:"Loading..."}),children:t(On,{pane:w,options:o})});const P={queries:t($n,{...v}),events:t(kn,{...v}),emails:t(Cn,{...v}),routes:t(Sn,{...v,currentPath:typeof window<"u"?window.location.pathname:""}),logs:t(Tn,{...v}),timeline:t(Ln,{...v}),cache:t(En,{...v,dashboardPath:r}),jobs:t(An,{...v,dashboardPath:r}),config:t(Pn,{...v,dashboardPath:r}),internals:t(Mn,{...v})};return t(Z,{fallback:t("div",{className:"ss-dbg-empty",children:"Loading..."}),children:P[d]||t("div",{className:"ss-dbg-empty",children:"Unknown tab"})})},[d,o,y]);return t(I,{children:[s===void 0&&t("button",{type:"button",className:`ss-dbg-btn ${a?"ss-dbg-active":""}`,onClick:k,title:"Toggle debug panel",id:"ss-dbg-wrench",children:t("svg",{width:"14",height:"14",viewBox:A.wrench.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.wrench.elements.join("")}})}),t("div",{className:`ss-dbg-panel ${a?"ss-dbg-open":""}`,"data-ss-theme":_,id:"ss-dbg-panel",children:[t("div",{className:"ss-dbg-tabs",children:[t("div",{className:"ss-dbg-tabs-scroll",children:[g.map(v=>t("button",{type:"button",className:`ss-dbg-tab ${d===v.id?"ss-dbg-active":""}`,onClick:()=>u(v.id),children:[A[v.id]?t("svg",{className:"ss-dbg-tab-icon",viewBox:A[v.id].viewBox,dangerouslySetInnerHTML:{__html:A[v.id].elements.join("")}}):null,v.label]},v.id)),y.map(v=>t("button",{type:"button",className:`ss-dbg-tab ${d===v.id?"ss-dbg-active":""}`,onClick:()=>u(v.id),children:v.label},v.id))]}),t("div",{className:"ss-dbg-tabs-right",children:[t("span",{className:`ss-dbg-conn-mode ${l?"ss-dbg-conn-live":"ss-dbg-conn-polling"}`,title:l?"Connected via Transmit (SSE) â€” real-time updates":"Polling every 3s",children:l?"live":"polling"}),t(xn,{theme:_,onToggle:m,classPrefix:"ss-dbg"}),r&&t("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"ss-dbg-dashboard-link",title:"Open dashboard",children:t("svg",{width:"14",height:"14",viewBox:A["external-link"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["external-link"].elements.join("")}})}),t("button",{type:"button",className:"ss-dbg-close",onClick:()=>p(!1),title:"Close panel",children:"Ã—"})]})]}),t("div",{className:"ss-dbg-content",children:a&&C()})]})]})}function Dn(e){const n=document.getElementById(e);return n?JSON.parse(n.textContent||"{}"):{}}const Ee=Dn("ss-dbg-config"),vt=document.getElementById("ss-dbg-panel");vt&&Gt(t(In,{debugEndpoint:Ee.debugEndpoint,authToken:Ee.authToken,dashboardPath:Ee.dashboardPath||void 0,defaultOpen:!1}),vt);const Bn=3e3,jn=100,Rn=500;function Fn(e){if(!e&&e!==0)return"-";const n=Math.floor(e),r=Math.floor(n/86400),s=Math.floor(n%86400/3600),i=Math.floor(n%3600/60);return r>0?`${r}d ${s}h`:s>0?`${s}h ${i}m`:i>0?`${i}m ${n%60}s`:`${n}s`}function j(e){return e>=1e3?`${(e/1e3).toFixed(2)}s`:e>=1?`${e.toFixed(0)}ms`:`${e.toFixed(2)}ms`}function V(e){if(!e)return"-";const n=typeof e=="string"?new Date(e):new Date(e);return Number.isNaN(n.getTime())?"-":n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+String(n.getMilliseconds()).padStart(3,"0")}function R(e){if(!e)return"-";const n=typeof e=="string"?new Date(e).getTime():e,r=Math.floor((Date.now()-n)/1e3);return r<0?"just now":r<60?`${r}s ago`:r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:`${Math.floor(r/86400)}d ago`}function Q(e){return e>Rn?"very-slow":e>jn?"slow":"normal"}function pe(e,n=100){if(e===null)return"null";if(e===void 0)return"-";if(typeof e=="string")return'"'+(e.length>40?e.slice(0,40)+"...":e)+'"';if(typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e)){if(e.length===0)return"[]";const s="["+e.slice(0,3).map(i=>pe(i,30)).join(", ")+(e.length>3?", ..."+e.length+" items":"")+"]";return s.length>n?"["+e.length+" items]":s}if(typeof e=="object"){const r=Object.keys(e);if(r.length===0)return"{}";const s=[];for(let l=0;l<Math.min(r.length,4);l++)s.push(r[l]+": "+pe(e[r[l]],30));const i="{ "+s.join(", ")+(r.length>4?", ...+"+(r.length-4):"")+" }";return i.length>n?"{ "+r.slice(0,6).join(", ")+(r.length>6?", ...":"")+" }":i}return String(e)}function Un(e){return e<0?"no expiry":e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m`:e<86400?`${Math.floor(e/3600)}h`:`${Math.floor(e/86400)}d`}function Hn(e){return e<1024?`${e}B`:e<1024*1024?`${(e/1024).toFixed(1)}KB`:`${(e/(1024*1024)).toFixed(1)}MB`}function zn(e,n){if(!n)return e;const r=n.toLowerCase();return e.filter(s=>s.sql.toLowerCase().includes(r)||s.model&&s.model.toLowerCase().includes(r)||s.method.toLowerCase().includes(r))}function Vn(e){const n={};for(const r of e)n[r.sql]=(n[r.sql]||0)+1;return n}function Wn(e,n){const r=e.filter(l=>l.duration>100).length,s=Object.values(n).filter(l=>l>1).length,i=e.length>0?e.reduce((l,o)=>l+o.duration,0)/e.length:0;return{slowCount:r,dupCount:s,avgDuration:i,totalCount:e.length}}const qn={queries:"/queries",events:"/events",emails:"/emails",routes:"/routes",logs:"/logs",timeline:"/traces",cache:"/cache",jobs:"/jobs",config:"/config",internals:"/diagnostics"};function Jn(e){return qn[e]||`/${e}`}class Kn{client;endpoint;refreshInterval;callbacks;timer=null;currentTab=null;fetchOnceCache={};constructor(n){this.client=new Se({baseUrl:n.baseUrl,authToken:n.authToken}),this.endpoint=n.endpoint??"/admin/api/debug",this.refreshInterval=n.refreshInterval??Bn,this.callbacks={onData:n.onData,onLoading:n.onLoading,onError:n.onError,onUnauthorized:n.onUnauthorized}}start(n){this.stop(),this.currentTab=n,this.callbacks.onLoading(!0),this.callbacks.onError(null),this.fetchData(),this.timer=setInterval(()=>this.fetchData(),this.refreshInterval)}stop(){this.timer&&(clearInterval(this.timer),this.timer=null)}switchTab(n){this.start(n)}refresh(){this.currentTab&&this.fetchData()}async fetchCustomPane(n,r=!1){if(r&&this.fetchOnceCache[n]!==void 0){this.callbacks.onData(this.fetchOnceCache[n]),this.callbacks.onLoading(!1);return}this.callbacks.onLoading(!0);try{const s=await this.client.fetch(n);this.callbacks.onData(s),this.callbacks.onError(null),r&&(this.fetchOnceCache[n]=s)}catch(s){if(s instanceof ue){this.callbacks.onUnauthorized(s);return}this.callbacks.onError(s instanceof Error?s:new Error(String(s)))}finally{this.callbacks.onLoading(!1)}}cacheForTab(n,r){this.fetchOnceCache[n]=r}clearCache(){this.fetchOnceCache={}}async fetchData(){const n=this.currentTab;if(n){if(this.fetchOnceCache[n]!==void 0){this.callbacks.onData(this.fetchOnceCache[n]),this.callbacks.onLoading(!1);return}try{const r=`${this.endpoint}${Jn(n)}`,s=await this.client.fetch(r);this.callbacks.onData(s),this.callbacks.onError(null),this.callbacks.onLoading(!1)}catch(r){if(r instanceof ue){this.callbacks.onError(r),this.callbacks.onLoading(!1),this.stop(),this.callbacks.onUnauthorized(r);return}this.callbacks.onError(r instanceof Error?r:new Error(String(r))),this.callbacks.onLoading(!1)}}}}function F(e,n={}){const{baseUrl:r="",debugEndpoint:s="/admin/api/debug",authToken:i}=n,[l,o]=x(null),[h,c]=x(!0),[a,p]=x(null),d=B(null);d.current||(d.current=new Kn({baseUrl:r,endpoint:s,authToken:i,onData:m=>o(m),onLoading:m=>c(m),onError:m=>p(m),onUnauthorized:m=>p(m)})),z(()=>{const m=d.current;return m.start(e),()=>m.stop()},[e]);const u=S(()=>{d.current?.refresh()},[]),f=S(()=>{o(null)},[]),_=S((m,y)=>{d.current?.cacheForTab(m,y)},[]);return{data:l,isLoading:h,error:a,refresh:u,clearData:f,cacheForTab:_}}const Qn="ss-col-resize",wt="ss-resizing";function Nt(e){const n=Array.from(e.querySelectorAll("thead th"));if(n.length===0)return()=>{};const r=[];let s=!1;function i(){if(!s){s=!0;for(const l of n)l.style.width=l.offsetWidth+"px";e.style.tableLayout="fixed"}}for(const l of n){let o=function(c){c.preventDefault(),c.stopPropagation(),i();const a=c.clientX,p=l.offsetWidth;h.classList.add(wt),h.setPointerCapture(c.pointerId);function d(f){const _=f.clientX-a,m=Math.max(30,p+_);l.style.width=m+"px"}function u(){h.classList.remove(wt),h.removeEventListener("pointermove",d),h.removeEventListener("pointerup",u)}h.addEventListener("pointermove",d),h.addEventListener("pointerup",u)};if(!l.textContent?.trim())continue;const h=document.createElement("div");h.className=Qn,l.appendChild(h),h.addEventListener("pointerdown",o),r.push(()=>{h.removeEventListener("pointerdown",o),h.remove()})}return()=>{for(const l of r)l()}}function W(e=[]){const n=B(null),r=B(null);return z(()=>(n.current&&(r.current?.(),r.current=Nt(n.current)),()=>{r.current?.(),r.current=null}),e),S(i=>{r.current?.(),r.current=null,n.current=i,i&&(r.current=Nt(i))},[])}function xt({options:e}){const{data:n,isLoading:r,error:s}=F("queries",e),[i,l]=x(""),[o,h]=x(null),c=T(()=>n?.queries||[],[n]),a=T(()=>zn(c,i),[c,i]),p=T(()=>Vn(c),[c]),d=T(()=>Wn(c,p),[c,p]),u=S(_=>{h(m=>m===_?null:_)},[]),f=W([a]);return r&&!n?t("div",{className:"ss-dbg-empty",children:"Loading queries..."}):s?t("div",{className:"ss-dbg-empty",children:["Error: ",s.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter queries...",value:i,onChange:_=>l(_.target.value)}),t("span",{className:"ss-dbg-summary",children:[a.length," queries",d.slowCount>0&&` | ${d.slowCount} slow`,d.dupCount>0&&` | ${d.dupCount} dup`,a.length>0&&` | avg ${j(d.avgDuration)}`]})]}),a.length===0?t("div",{className:"ss-dbg-empty",children:"No queries captured"}):t("table",{ref:f,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"70px"}}),t("col",{style:{width:"100px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"SQL"}),t("th",{children:"Duration"}),t("th",{children:"Method"}),t("th",{children:"Model"}),t("th",{children:"Time"})]})}),t("tbody",{children:a.map(_=>t("tr",{children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:_.id}),t("td",{children:[t("span",{className:`ss-dbg-sql ${o===_.id?"ss-dbg-expanded":""}`,onClick:()=>u(_.id),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&u(_.id),children:_.sql}),p[_.sql]>1&&t("span",{className:"ss-dbg-dup",children:[" x",p[_.sql]]}),_.inTransaction&&t("span",{className:"ss-dbg-dup",children:" TXN"})]}),t("td",{className:`ss-dbg-duration ${Q(_.duration)==="very-slow"?"ss-dbg-very-slow":Q(_.duration)==="slow"?"ss-dbg-slow":""}`,children:j(_.duration)}),t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${_.method.toLowerCase()}`,children:_.method})}),t("td",{className:"ss-dbg-c-muted",children:_.model||"-"}),t("td",{className:"ss-dbg-event-time",title:V(_.timestamp),children:R(_.timestamp)})]},_.id))})]})]})}const Gn=Object.freeze(Object.defineProperty({__proto__:null,QueriesTab:xt,default:xt},Symbol.toStringTag,{value:"Module"}));function Ae({data:e,maxPreviewLength:n=100,className:r="",classPrefix:s="ss-dash"}){const[i,l]=x(!1),o=T(()=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},[e]),h=T(()=>typeof o=="object"&&o!==null?pe(o,n):String(o??"-"),[o,n]),c=T(()=>typeof o=="object"&&o!==null?JSON.stringify(o,null,2):String(o),[o]),a=S(()=>{l(d=>!d)},[]),p=S(async()=>{try{await navigator.clipboard.writeText(c)}catch{}},[c]);return!e&&e!==0&&e!==!1?t("span",{className:`ss-dim ${s}-c-dim`,children:"-"}):t("div",{className:`${s}-data-cell ${r}`,children:[t("span",{className:`${s}-data-preview`,onClick:a,role:"button",tabIndex:0,onKeyDown:d=>d.key==="Enter"&&a(),children:h}),i&&t("div",{className:`${s}-data-full`,onClick:a,children:[t("button",{className:`${s}-copy-btn`,onClick:d=>{d.stopPropagation(),p()},title:"Copy to clipboard",type:"button",children:"Copy"}),t("pre",{children:c})]})]})}function $t({options:e}){const{data:n,isLoading:r,error:s}=F("events",e),[i,l]=x(""),o=T(()=>{const c=n?.events||[];if(!i)return c;const a=i.toLowerCase();return c.filter(p=>(p.event||"").toLowerCase().includes(a)||(p.data||"").toLowerCase().includes(a))},[n,i]),h=W([o]);return r&&!n?t("div",{className:"ss-dbg-empty",children:"Loading events..."}):s?t("div",{className:"ss-dbg-empty",children:["Error: ",s.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter events...",value:i,onChange:c=>l(c.target.value)}),t("span",{className:"ss-dbg-summary",children:[o.length," events"]})]}),o.length===0?t("div",{className:"ss-dbg-empty",children:"No events captured"}):t("table",{ref:h,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"20%"}}),t("col",{}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"Event"}),t("th",{children:"Data"}),t("th",{children:"Time"})]})}),t("tbody",{children:o.map(c=>{const a=c.timestamp||c.created_at||c.createdAt;return t("tr",{children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:c.id}),t("td",{className:"ss-dbg-event-name",children:c.event}),t("td",{className:"ss-dbg-event-data",children:t(Ae,{data:c.data,maxPreviewLength:80,classPrefix:"ss-dbg"})}),t("td",{className:"ss-dbg-event-time",title:V(a),children:R(a)})]},c.id)})})]})]})}const Xn=Object.freeze(Object.defineProperty({__proto__:null,EventsTab:$t,default:$t},Symbol.toStringTag,{value:"Module"}));function kt({options:e}){const{data:n,isLoading:r,error:s}=F("emails",e),[i,l]=x(""),[o,h]=x(null),c=T(()=>{const f=n?.emails||[];if(!i)return f;const _=i.toLowerCase();return f.filter(m=>(m.subject||"").toLowerCase().includes(_)||(m.to||"").toLowerCase().includes(_)||(m.from||"").toLowerCase().includes(_)||(m.mailer||"").toLowerCase().includes(_))},[n,i]),a=T(()=>c.find(f=>f.id===o),[c,o]),p=S(()=>h(null),[]),d={sent:"ss-dbg-email-status-sent",sending:"ss-dbg-email-status-sending",queued:"ss-dbg-email-status-queued",failed:"ss-dbg-email-status-failed"},u=W([c]);return r&&!n?t("div",{className:"ss-dbg-empty",children:"Loading emails..."}):s?t("div",{className:"ss-dbg-empty",children:["Error: ",s.message]}):a?t("div",{className:"ss-dbg-email-preview",children:[t("div",{className:"ss-dbg-email-preview-header",children:[t("div",{className:"ss-dbg-email-preview-meta",children:[t("div",{children:[t("strong",{children:"Subject:"})," ",a.subject]}),t("div",{children:[t("strong",{children:"From:"})," ",a.from]}),t("div",{children:[t("strong",{children:"To:"})," ",a.to]}),a.cc&&t("div",{children:[t("strong",{children:"CC:"})," ",a.cc]})]}),t("button",{className:"ss-dbg-btn-clear",onClick:p,type:"button",children:"Ã—"})]}),a.html?t("iframe",{className:"ss-dbg-email-iframe",srcDoc:a.html,title:"Email preview",sandbox:""}):t("div",{style:{padding:"12px",whiteSpace:"pre-wrap"},children:a.text||"No content"})]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter emails...",value:i,onChange:f=>l(f.target.value)}),t("span",{className:"ss-dbg-summary",children:[c.length," emails"]})]}),c.length===0?t("div",{className:"ss-dbg-empty",children:"No emails captured"}):t("table",{ref:u,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"140px"}}),t("col",{style:{width:"140px"}}),t("col",{}),t("col",{style:{width:"70px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"40px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"From"}),t("th",{children:"To"}),t("th",{children:"Subject"}),t("th",{children:"Status"}),t("th",{children:"Mailer"}),t("th",{title:"Attachments",children:"ðŸ“Ž"}),t("th",{children:"Time"})]})}),t("tbody",{children:c.map(f=>t("tr",{className:"ss-dbg-email-row",onClick:()=>h(f.id),children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:f.id}),t("td",{className:"ss-dbg-c-secondary",title:f.from,children:f.from}),t("td",{className:"ss-dbg-c-secondary",title:f.to,children:f.to}),t("td",{className:"ss-dbg-c-sql",children:f.subject}),t("td",{children:t("span",{className:`ss-dbg-email-status ${d[f.status]||""}`,children:f.status})}),t("td",{className:"ss-dbg-c-muted",children:f.mailer}),t("td",{className:"ss-dbg-c-dim",style:{textAlign:"center"},children:f.attachmentCount>0?f.attachmentCount:"-"}),t("td",{className:"ss-dbg-event-time",title:V(f.timestamp||f.created_at||f.createdAt),children:R(f.timestamp||f.created_at||f.createdAt)})]},f.id))})]})]})}const Yn=Object.freeze(Object.defineProperty({__proto__:null,EmailsTab:kt,default:kt},Symbol.toStringTag,{value:"Module"}));function Ct({options:e,currentPath:n}){const{data:r,isLoading:s,error:i}=F("routes",e),[l,o]=x(""),h=T(()=>{const a=r?.routes||[];if(!l)return a;const p=l.toLowerCase();return a.filter(d=>d.pattern.toLowerCase().includes(p)||d.handler.toLowerCase().includes(p)||d.method.toLowerCase().includes(p)||d.name&&d.name.toLowerCase().includes(p))},[r,l]),c=W([h]);return s&&!r?t("div",{className:"ss-dbg-empty",children:"Loading routes..."}):i?t("div",{className:"ss-dbg-empty",children:["Error: ",i.message]}):t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter routes...",value:l,onChange:a=>o(a.target.value)}),t("span",{className:"ss-dbg-summary",children:[h.length," routes"]})]}),h.length===0?t("div",{className:"ss-dbg-empty",children:"No routes found"}):t("table",{ref:c,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"70px"}}),t("col",{style:{width:"25%"}}),t("col",{style:{width:"15%"}}),t("col",{}),t("col",{style:{width:"20%"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"Method"}),t("th",{children:"Pattern"}),t("th",{children:"Name"}),t("th",{children:"Handler"}),t("th",{children:"Middleware"})]})}),t("tbody",{children:h.map((a,p)=>{const d=n&&(a.pattern===n||new RegExp("^"+a.pattern.replace(/:[^/]+/g,"[^/]+")+"$").test(n));return t("tr",{className:d?"ss-dbg-current-route":"",children:[t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${a.method.toLowerCase()}`,children:a.method})}),t("td",{className:"ss-dbg-c-text",children:a.pattern}),t("td",{className:"ss-dbg-c-muted",children:a.name||"-"}),t("td",{className:"ss-dbg-c-sql",children:a.handler}),t("td",{className:"ss-dbg-c-dim",style:{fontSize:"10px"},children:a.middleware.length>0?a.middleware.join(", "):"-"})]},`${a.method}-${a.pattern}-${p}`)})})]})]})}const Zn=Object.freeze(Object.defineProperty({__proto__:null,RoutesTab:Ct,default:Ct},Symbol.toStringTag,{value:"Module"})),er=["all","error","warn","info","debug"];function St(e){return(e.levelName||e.level_name||(typeof e.level=="string"?e.level:"")||"info").toLowerCase()}function Tt(e){return e.msg||e.message||JSON.stringify(e)}function tr(e){return e.createdAt||e.created_at||e.time||e.timestamp||0}function Lt(e){const n=e.data||{};return e.requestId||e.request_id||e["x-request-id"]||n.requestId||n.request_id||n["x-request-id"]||""}function nr(e,n="ss-dbg-log-level"){switch(e){case"error":case"fatal":return`${n}-error`;case"warn":return`${n}-warn`;case"info":return`${n}-info`;case"debug":return`${n}-debug`;case"trace":return`${n}-trace`;default:return`${n}-info`}}function rr(e,n){return n==="all"?e:e.filter(r=>{const s=St(r);return n==="error"?s==="error"||s==="fatal":s===n})}function Et({options:e}){const{data:n,isLoading:r,error:s}=F("logs",e),[i,l]=x("all"),[o,h]=x(""),[c,a]=x(""),p=T(()=>{let u=Array.isArray(n)?n:n?.logs||n?.entries||[];if(u=rr(u,i),c){const f=c.toLowerCase();u=u.filter(_=>Lt(_).toLowerCase().includes(f))}if(o){const f=o.toLowerCase();u=u.filter(_=>Tt(_).toLowerCase().includes(f))}return u},[n,i,o,c]),d=S(u=>{a(f=>f===u?"":u)},[]);return r&&!n?t("div",{className:"ss-dbg-empty",children:"Loading logs..."}):s?t("div",{className:"ss-dbg-empty",children:["Error: ",s.message]}):t("div",{children:[t("div",{className:"ss-dbg-log-filters",children:[er.map(u=>t("button",{type:"button",className:`ss-dbg-log-filter ${i===u?"ss-dbg-active":""}`,onClick:()=>l(u),children:u},u)),c&&t("button",{type:"button",className:"ss-dbg-log-filter ss-dbg-active",onClick:()=>a(""),children:["req: ",c.slice(0,8)," x"]}),t("span",{className:"ss-dbg-summary",style:{marginLeft:"auto"},children:[p.length," entries"]})]}),t("div",{className:"ss-dbg-search-bar",children:t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter log messages...",value:o,onChange:u=>h(u.target.value)})}),t("div",{style:{overflow:"auto",flex:1},children:p.length===0?t("div",{className:"ss-dbg-empty",children:"No log entries"}):p.slice(-200).reverse().map((u,f)=>{const _=St(u),m=Tt(u),y=tr(u),b=Lt(u);return t("div",{className:"ss-dbg-log-entry",children:[t("span",{className:`ss-dbg-log-level ${nr(_)}`,children:_.toUpperCase()}),t("span",{className:"ss-dbg-log-time",title:y?V(y):"",children:y?R(y):"-"}),b?t("span",{className:"ss-dbg-log-reqid",onClick:()=>d(b),role:"button",tabIndex:0,title:b,onKeyDown:g=>g.key==="Enter"&&d(b),children:b.slice(0,8)}):t("span",{className:"ss-dbg-log-reqid-empty",children:"-"}),t("span",{className:"ss-dbg-log-msg",children:m})]},f)})})]})}const sr=Object.freeze(Object.defineProperty({__proto__:null,LogsTab:Et,default:Et},Symbol.toStringTag,{value:"Module"}));function At(e="",n){const r=B(null);return S(()=>(r.current||(r.current=new Se({baseUrl:e,authToken:n})),r.current),[e,n])}const Pt={request:"#1e3a5f",middleware:"rgba(30, 58, 95, 0.7)",db:"#6d28d9",view:"#0e7490",mail:"#059669",event:"#b45309",custom:"#525252"},lr=[{label:"Request",color:"#1e3a5f"},{label:"Middleware",color:"rgba(30, 58, 95, 0.7)"},{label:"Database",color:"#6d28d9"},{label:"View",color:"#0e7490"},{label:"Mail",color:"#059669"},{label:"Event",color:"#b45309"}];function Mt({options:e}){const{baseUrl:n="",debugEndpoint:r="/admin/api/debug",authToken:s}=e||{},{data:i,isLoading:l,error:o}=F("timeline",e),[h,c]=x(""),[a,p]=x(null),[d,u]=x(null),[f,_]=x(!1),[m,y]=x(null),b=T(()=>{const w=i?.traces||[];if(!h)return w;const P=h.toLowerCase();return w.filter($=>$.url.toLowerCase().includes(P)||$.method.toLowerCase().includes(P)||String($.statusCode).includes(P))},[i,h]),g=At(n,s);z(()=>{if(a===null){u(null),y(null);return}let w=!1;return _(!0),y(null),g().get(`${r}/traces/${a}`).then($=>{w||(u($),_(!1))}).catch($=>{w||(y($ instanceof Error?$.message:"Failed to load trace"),_(!1))}),()=>{w=!0}},[a,r,g]);const k=S(w=>{p(P=>P===w?null:w)},[]),C=S(w=>w>=500?"ss-dbg-status-5xx":w>=400?"ss-dbg-status-4xx":w>=300?"ss-dbg-status-3xx":"ss-dbg-status-2xx",[]),v=W([b]);if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading traces..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(a!==null){if(f)return t("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});if(m)return t("div",{children:[t("div",{className:"ss-dbg-tl-detail-header",children:t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:"â† Back"})}),t("div",{className:"ss-dbg-empty",children:["Error: ",m]})]});if(!d)return t("div",{className:"ss-dbg-empty",children:"Loading trace detail..."});const w=d.spans||[],P=d.warnings||[];return t("div",{children:[t("div",{className:"ss-dbg-tl-detail-header",children:[t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:"â† Back"}),t("span",{className:`ss-dbg-method ss-dbg-method-${d.method.toLowerCase()}`,children:d.method}),t("span",{className:"ss-dbg-tl-detail-url",children:d.url}),t("span",{className:`ss-dbg-status ${C(d.statusCode)}`,children:d.statusCode}),t("span",{className:"ss-dbg-tl-meta",children:[j(d.totalDuration)," Â·"," ",d.spanCount," spans"]})]}),t("div",{className:"ss-dbg-tl-legend",children:lr.map($=>t("div",{className:"ss-dbg-tl-legend-item",children:[t("div",{className:"ss-dbg-tl-legend-dot",style:{background:$.color}}),t("span",{children:$.label})]},$.label))}),t("div",{style:{padding:"8px 12px",overflow:"auto"},children:w.length===0?t("div",{className:"ss-dbg-empty",children:"No spans captured for this request"}):w.map($=>{const M=d.totalDuration||1,q=$.startOffset/M*100,Dr=Math.max($.duration/M*100,.5);return t("div",{className:"ss-dbg-tl-row",children:[t("div",{className:"ss-dbg-tl-label",title:$.label,children:$.label}),t("div",{className:"ss-dbg-tl-track",children:t("div",{className:`ss-dbg-tl-bar ss-dbg-tl-bar-${$.category}`,style:{left:`${q}%`,width:`${Dr}%`,background:Pt[$.category]||Pt.custom},title:`${$.label}: ${j($.duration)}`})}),t("span",{className:"ss-dbg-tl-dur",children:j($.duration)})]},$.id)})}),P.length>0&&t("div",{className:"ss-dbg-tl-warnings",children:[t("div",{className:"ss-dbg-tl-warnings-title",children:"Warnings"}),P.map(($,M)=>t("div",{className:"ss-dbg-tl-warning",children:$},M))]})]})}return t("div",{children:[t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter traces...",value:h,onChange:w=>c(w.target.value)}),t("span",{className:"ss-dbg-summary",children:[b.length," traces"]})]}),b.length===0?t("div",{className:"ss-dbg-empty",children:"No traces captured. Enable tracing in config."}):t("table",{ref:v,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"70px"}}),t("col",{}),t("col",{style:{width:"60px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"50px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"#"}),t("th",{children:"Method"}),t("th",{children:"URL"}),t("th",{children:"Status"}),t("th",{children:"Duration"}),t("th",{children:"Spans"}),t("th",{children:"Time"})]})}),t("tbody",{children:b.map(w=>t("tr",{className:"ss-dbg-email-row",onClick:()=>k(w.id),children:[t("td",{className:"ss-dbg-c-dim",style:{whiteSpace:"nowrap"},children:w.id}),t("td",{children:t("span",{className:`ss-dbg-method ss-dbg-method-${w.method.toLowerCase()}`,children:w.method})}),t("td",{title:w.url,children:w.url}),t("td",{children:t("span",{className:`ss-dbg-status ${C(w.statusCode)}`,children:w.statusCode})}),t("td",{className:`ss-dbg-duration ${Q(w.totalDuration)==="very-slow"?"ss-dbg-very-slow":Q(w.totalDuration)==="slow"?"ss-dbg-slow":""}`,children:j(w.totalDuration)}),t("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:w.spanCount}),t("td",{className:"ss-dbg-event-time",title:V(w.timestamp),children:R(w.timestamp)})]},w.id))})]})]})}const ir=Object.freeze(Object.defineProperty({__proto__:null,TimelineTab:Mt,default:Mt},Symbol.toStringTag,{value:"Module"}));function Pe(e,n){const r=T(()=>e?e.replace(/\/+$/,"")+"/api":null,[e]),s=T(()=>r?{...n,debugEndpoint:r}:n,[r,n]);return{dashApiBase:r,resolvedOptions:s}}function Ot({options:e,dashboardPath:n}){const{dashApiBase:r,resolvedOptions:s}=Pe(n,e),{data:i,isLoading:l,error:o}=F("cache",s),[h,c]=x(""),[a,p]=x(null),[d,u]=x(null),f=T(()=>{const g=i?.keys||[];if(!h)return g;const k=h.toLowerCase();return g.filter(C=>C.key.toLowerCase().includes(k))},[i,h]),_=S(async g=>{if(a===g){p(null),u(null);return}p(g);try{const{baseUrl:k="",authToken:C}=e||{},v=r||e?.debugEndpoint||"/admin/api/debug",w=`${k}${v}/cache/${encodeURIComponent(g)}`,P={Accept:"application/json"};C&&(P.Authorization=`Bearer ${C}`);const M=await(await fetch(w,{headers:P,credentials:C?"omit":"same-origin"})).json();u(M)}catch{u({error:"Failed to fetch key value"})}},[a,e,r]),m=W([f]);if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading cache data..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!i)return t("div",{className:"ss-dbg-empty",children:"Cache inspector not available"});const b=i.stats||i;return t("div",{children:[t("div",{className:"ss-dbg-cache-stats",children:[t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Hit Rate:"}),t("span",{className:"ss-dbg-cache-stat-value",children:[b.hitRate!==null&&b.hitRate!==void 0?b.hitRate.toFixed(1):"0","%"]})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Hits:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.totalHits??0})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Misses:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.totalMisses??0})]}),t("div",{className:"ss-dbg-cache-stat",children:[t("span",{className:"ss-dbg-cache-stat-label",children:"Keys:"}),t("span",{className:"ss-dbg-cache-stat-value",children:b.keyCount??"-"})]})]}),t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:"Filter keys...",value:h,onChange:g=>c(g.target.value)}),t("span",{className:"ss-dbg-summary",children:[f.length," keys"]})]}),a&&!!d&&t("div",{className:"ss-dbg-cache-detail",children:[t("strong",{children:a}),t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:()=>p(null),children:["â†"," Back"]}),t(Ae,{data:d,classPrefix:"ss-dbg"})]}),f.length===0?t("div",{className:"ss-dbg-empty",children:"No cache keys found"}):t("table",{ref:m,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"Key"}),t("th",{children:"Type"}),t("th",{children:"TTL"}),t("th",{children:"Size"})]})}),t("tbody",{children:f.map(g=>t("tr",{className:"ss-dbg-email-row",onClick:()=>_(g.key),children:[t("td",{className:"ss-dbg-c-sql",children:g.key}),t("td",{className:"ss-dbg-c-muted",children:g.type}),t("td",{className:"ss-dbg-c-muted",children:g.ttl>0?Un(g.ttl):"-"}),t("td",{className:"ss-dbg-c-dim",children:g.size>0?Hn(g.size):"-"})]},g.key))})]})]})}const ar=Object.freeze(Object.defineProperty({__proto__:null,CacheTab:Ot,default:Ot},Symbol.toStringTag,{value:"Module"})),or=["all","active","waiting","delayed","completed","failed"];function cr(e,n="ss-dbg-job-status"){switch(e){case"completed":case"failed":case"active":case"waiting":case"delayed":return`${n}-${e}`;default:return"ss-dbg-badge-muted"}}function dr(e){if(!e)return[];if(Array.isArray(e))return e;const n=e;return n.jobs||n.data||[]}function hr(e){if(!e||Array.isArray(e))return null;const n=e;return n.stats||n.overview||null}function It({options:e,dashboardPath:n}){const{dashApiBase:r,resolvedOptions:s}=Pe(n,e),{data:i,isLoading:l,error:o}=F("jobs",s),[h,c]=x("all"),[a,p]=x(null),d=T(()=>{const m=dr(i);return h==="all"?m:m.filter(y=>y.status===h)},[i,h]),u=S(async m=>{p(m);try{const{baseUrl:y="",authToken:b}=e||{},g=r||e?.debugEndpoint||"/admin/api/debug",k=`${y}${g}/jobs/${m}/retry`,C={Accept:"application/json"};b&&(C.Authorization=`Bearer ${b}`),await fetch(k,{method:"POST",headers:C,credentials:b?"omit":"same-origin"})}catch{}p(null)},[e,r]),f=W([d]);if(!r)return t("div",{className:"ss-dbg-empty",children:"Queue inspector not available (no dashboard configured)"});if(l&&!i)return t("div",{className:"ss-dbg-empty",children:"Loading jobs..."});if(o)return t("div",{className:"ss-dbg-empty",children:["Error: ",o.message]});if(!i)return t("div",{className:"ss-dbg-empty",children:"Queue inspector not available"});const _=hr(i);return t("div",{children:[t("div",{className:"ss-dbg-job-stats-area",children:[t("div",{className:"ss-dbg-job-stats",children:[t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Active:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.active??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Waiting:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.waiting??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Delayed:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.delayed??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Completed:"}),t("span",{className:"ss-dbg-job-stat-value",children:_?.completed??0})]}),t("div",{className:"ss-dbg-job-stat",children:[t("span",{className:"ss-dbg-job-stat-label",children:"Failed:"}),t("span",{className:"ss-dbg-job-stat-value ss-dbg-c-red",children:_?.failed??0})]})]}),t("div",{className:"ss-dbg-log-filters",children:or.map(m=>t("button",{type:"button",className:`ss-dbg-job-filter ${h===m?"ss-dbg-active":""}`,onClick:()=>c(m),children:m},m))})]}),d.length===0?t("div",{className:"ss-dbg-empty",children:"No jobs found"}):t("table",{ref:f,className:"ss-dbg-table",children:[t("colgroup",{children:[t("col",{style:{width:"50px"}}),t("col",{style:{width:"15%"}}),t("col",{style:{width:"80px"}}),t("col",{}),t("col",{style:{width:"50px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"80px"}}),t("col",{style:{width:"60px"}})]}),t("thead",{children:t("tr",{children:[t("th",{children:"ID"}),t("th",{children:"Name"}),t("th",{children:"Status"}),t("th",{children:"Payload"}),t("th",{children:"Tries"}),t("th",{children:"Duration"}),t("th",{children:"Time"}),t("th",{})]})}),t("tbody",{children:d.map(m=>{const y=m;return t("tr",{children:[t("td",{className:"ss-dbg-c-dim",children:m.id}),t("td",{className:"ss-dbg-c-sql",title:m.name,children:m.name}),t("td",{children:t("span",{className:`ss-dbg-badge ${cr(m.status)}`,children:m.status})}),t("td",{children:t(Ae,{data:m.payload||m.data,maxPreviewLength:60,classPrefix:"ss-dbg"})}),t("td",{className:"ss-dbg-c-muted",style:{textAlign:"center"},children:m.attempts||y.attemptsMade||0}),t("td",{className:"ss-dbg-duration",children:m.duration!==null?j(m.duration):"-"}),t("td",{className:"ss-dbg-event-time",title:V(m.timestamp||m.createdAt||y.processedAt||y.created_at),children:R(m.timestamp||m.createdAt||y.processedAt||y.created_at)}),t("td",{children:m.status==="failed"&&t("button",{type:"button",className:"ss-dbg-retry-btn",onClick:()=>u(m.id),disabled:a===m.id,children:a===m.id?"...":"Retry"})})]},m.id)})})]})]})}const ur=Object.freeze(Object.defineProperty({__proto__:null,JobsTab:It,default:It},Symbol.toStringTag,{value:"Module"}));function O(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.__redacted===!0}function Me(e,n=""){if(typeof e!="object"||e===null||e===void 0)return[{path:n,value:e}];if(Array.isArray(e)||O(e))return[{path:n,value:e}];const r=[];for(const s of Object.keys(e)){const i=n?`${n}.${s}`:s,l=e[s];typeof l=="object"&&l!==null&&!Array.isArray(l)&&!O(l)?r.push(...Me(l,i)):r.push({path:i,value:l})}return r}function Oe(e){return e==null?{text:"null",color:"var(--ss-dim)"}:typeof e=="boolean"?{text:String(e),color:e?"var(--ss-green-fg)":"var(--ss-red-fg)"}:typeof e=="number"?{text:String(e),color:"var(--ss-amber-fg)"}:Array.isArray(e)?{text:`[${e.map(r=>r==null?"null":typeof r=="object"?JSON.stringify(r):String(r)).join(", ")}]`,color:"var(--ss-purple-fg)"}:typeof e=="object"?{text:JSON.stringify(e),color:"var(--ss-dim)"}:{text:String(e)}}function Dt(e){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return 1;let n=0;for(const r of Object.keys(e))n+=Dt(e[r]);return n}function fr(e){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return[];const n=[];for(const r of Object.keys(e)){const s=e[r];s!==null&&typeof s=="object"&&!Array.isArray(s)&&!O(s)&&n.push(r)}return n}function _e(e,n,r){n&&navigator.clipboard.writeText(e).then(()=>{const s=n.textContent;n.textContent="âœ“",n.classList.add(`${r}-copy-row-ok`),setTimeout(()=>{n.textContent=s,n.classList.remove(`${r}-copy-row-ok`)},1200)}).catch(()=>{})}function me({redacted:e,p:n}){const[r,s]=x(!1);return t("span",{className:`${n}-config-redacted`,style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[t("span",{children:r?e.value:e.display}),t("button",{type:"button",className:`${n}-btn`,title:r?"Hide":"Reveal",style:{padding:"0 4px",fontSize:"0.85em",lineHeight:1,minWidth:"auto"},onClick:i=>{i.stopPropagation(),s(l=>!l)},children:r?t("svg",{width:"14",height:"14",viewBox:A["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["eye-off"].elements.join("")}}):t("svg",{width:"14",height:"14",viewBox:A.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.eye.elements.join("")}})})]})}function pr({env:e,search:n,p:r}){const s=B(new Map),i=n.toLowerCase(),l=Object.entries(e).filter(([o,h])=>{if(!i)return!0;const c=O(h)?h.display:h==null?"":String(h);return o.toLowerCase().includes(i)||c.toLowerCase().includes(i)});return t("div",{className:`${r}-config-table-wrap`,children:t("table",{className:`${r}-table ${r}-config-env-table`,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Variable"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:[l.map(([o,h])=>{const c=O(h),a=c?h.display:h==null?"null":String(h),p=`${o}=${a}`;return t("tr",{children:[t("td",{className:`${r}-env-key`,children:t("span",{className:`${r}-config-key`,children:o})}),t("td",{className:`${r}-env-val`,children:c?t(me,{redacted:h,p:r}):t("span",{className:`${r}-config-val`,children:a})}),t("td",{children:!c&&t("button",{type:"button",className:`${r}-copy-row-btn`,title:"Copy",ref:d=>{s.current.set(o,d)},onClick:d=>{d.stopPropagation(),_e(p,s.current.get(o)??null,r)},children:"âŽ˜"})})]},o)}),l.length===0&&t("tr",{children:t("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching variables"})})]})]})})}function _r({source:e,search:n,p:r}){const s=B(new Map),i=n.toLowerCase(),l=Me(e,""),o=l.filter(h=>{const c=O(h.value)?h.value.display:h.value===null||h.value===void 0?"":String(h.value);return h.path.toLowerCase().includes(i)||c.toLowerCase().includes(i)});return t("div",{className:`${r}-config-table-wrap`,children:[t("table",{className:`${r}-table`,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Path"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:[o.map(h=>{const c=O(h.value),a=c?null:Oe(h.value),p=c?h.value.display:a.text,d=`${h.path}: ${p}`;return t("tr",{children:[t("td",{children:t("span",{className:`${r}-config-key`,style:{whiteSpace:"nowrap"},children:h.path})}),t("td",{children:c?t(me,{redacted:h.value,p:r}):t("span",{className:`${r}-config-val`,style:{wordBreak:"break-all",color:a.color},children:a.text})}),t("td",{children:!c&&t("button",{type:"button",className:`${r}-copy-row-btn`,title:"Copy",ref:u=>{s.current.set(h.path,u)},onClick:u=>{u.stopPropagation(),_e(d,s.current.get(h.path)??null,r)},children:"âŽ˜"})})]},h.path)}),o.length===0&&t("tr",{children:t("td",{colSpan:3,style:{textAlign:"center",color:"var(--ss-dim)"},children:"No matching entries"})})]})]}),t("div",{style:{padding:"4px 16px",fontSize:"10px",color:"var(--ss-muted)"},children:[o.length," of ",l.length," entries"]})]})}function mr({obj:e,prefix:n,p:r}){const s=B(new Map),i=Me(e,n);return t("table",{className:`${r}-table ${r}-config-inner-table`,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"35%"},children:"Key"}),t("th",{children:"Value"}),t("th",{style:{width:36}})]})}),t("tbody",{children:i.map(l=>{const o=l.path.indexOf(n+".")===0?l.path.slice(n.length+1):l.path,h=O(l.value),c=h?null:Oe(l.value),a=h?l.value.display:c.text,p=`${l.path}: ${a}`;return t("tr",{children:[t("td",{title:o,children:t("span",{className:`${r}-config-key`,children:o})}),t("td",{title:a,children:h?t(me,{redacted:l.value,p:r}):t("span",{className:`${r}-config-val`,style:{color:c.color},children:c.text})}),t("td",{children:!h&&t("button",{type:"button",className:`${r}-copy-row-btn`,title:"Copy",ref:d=>{s.current.set(l.path,d)},onClick:d=>{d.stopPropagation(),_e(p,s.current.get(l.path)??null,r)},children:"âŽ˜"})})]},l.path)})})]})}function gr({value:e,p:n}){if(e==null)return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:"null"});if(O(e))return t(me,{redacted:e,p:n});if(typeof e=="boolean")return t("span",{className:`${n}-config-val`,style:{color:e?"var(--ss-green-fg)":"var(--ss-red-fg)"},children:String(e)});if(typeof e=="number")return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-amber-fg)"},children:String(e)});if(Array.isArray(e)){const r=e.map(s=>s==null?"null":typeof s=="object"?JSON.stringify(s):String(s));return t("span",{className:`${n}-config-val`,style:{color:"var(--ss-purple-fg)"},children:["[",r.join(", "),"]"]})}return typeof e=="object"?t("span",{className:`${n}-config-val`,style:{color:"var(--ss-dim)"},children:JSON.stringify(e)}):t("span",{className:`${n}-config-val`,children:String(e)})}function br({obj:e,expandedPaths:n,onToggle:r,p:s}){if(e==null||typeof e!="object"||Array.isArray(e)||O(e))return null;const i=Object.keys(e),l=B(new Map);return t("div",{className:`${s}-config-sections`,children:i.map(o=>{const h=e[o],c=h!==null&&typeof h=="object"&&!Array.isArray(h)&&!O(h),a=n.has(o),p=O(h);return t("div",{className:`${s}-config-section`,children:[t("div",{className:`${s}-config-section-header${c?"":` ${s}-config-leaf`}`,onClick:c?()=>r(o):void 0,style:{cursor:c?"pointer":"default"},children:[c?t("span",{className:`${s}-config-toggle`,children:a?"â–¼":"â–¶"}):t("span",{className:`${s}-config-toggle`,style:{visibility:"hidden"},children:"â€¢"}),t("span",{className:`${s}-config-key`,children:o}),c?t("span",{className:`${s}-config-count`,children:[Dt(h)," entries"]}):t(I,{children:[t("span",{className:`${s}-config-val`,style:{marginLeft:"8px"},children:t(gr,{value:h,p:s})}),!p&&t("button",{type:"button",className:`${s}-copy-row-btn`,style:{marginLeft:"4px"},title:"Copy",ref:d=>{l.current.set(o,d)},onClick:d=>{d.stopPropagation();const u=Oe(h);_e(`${o}: ${u.text}`,l.current.get(o)??null,s)},children:"âŽ˜"})]})]}),c&&a&&t("div",{className:`${s}-config-section-body`,children:t(mr,{obj:h,prefix:o,p:s})})]},o)})})}function yr({data:e,isLoading:n,classPrefix:r}){const s=r,[i,l]=x(""),[o,h]=x(""),[c,a]=x("app"),[p,d]=x(new Set),[u,f]=x("Copy JSON");z(()=>{const k=setTimeout(()=>h(i),200);return()=>clearTimeout(k)},[i]);const _=e,m=S(k=>{d(C=>{const v=new Set(C);return v.has(k)?v.delete(k):v.add(k),v})},[]),y=S(()=>{if(!_)return;const k=c==="app"?_.app:_.env;if(!k)return;const C=fr(k);d(new Set(C))},[_,c]),b=S(()=>{d(new Set)},[]),g=S(async()=>{if(_)try{const k=c==="app"?_.app:_.env;await navigator.clipboard.writeText(JSON.stringify(k,null,2)),f("Copied!"),setTimeout(()=>f("Copy JSON"),1500)}catch{}},[_,c]);return t("div",{children:[t("div",{className:`${s}-config-toolbar`,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px"},children:[t("button",{type:"button",className:`${s}-config-tab${c==="app"?` ${s}-active`:""}`,onClick:()=>a("app"),children:"App Config"}),t("button",{type:"button",className:`${s}-config-tab${c==="env"?` ${s}-active`:""}`,onClick:()=>a("env"),children:"Env"}),t("div",{style:{position:"relative",flex:1},children:[t("input",{type:"text",className:`${s}-search`,placeholder:"Search keys and values...",value:i,onChange:k=>l(k.target.value),style:{width:"100%"}}),i&&t("button",{type:"button",onClick:()=>l(""),style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"14px",color:"var(--ss-dim)",padding:"0 2px",lineHeight:1},children:"Ã—"})]}),c==="app"&&!o&&t(I,{children:[t("button",{type:"button",className:`${s}-btn`,onClick:y,children:"Expand All"}),t("button",{type:"button",className:`${s}-btn`,onClick:b,children:"Collapse All"})]}),t("button",{type:"button",className:`${s}-btn`,onClick:g,children:u})]}),n&&!e?t("div",{className:`${s}-empty`,children:"Loading config..."}):_?c==="env"?t(pr,{env:_.env??{},search:o,p:s}):o?t(_r,{source:_.app??{},search:o,p:s}):t("div",{className:`${s}-config-table-wrap`,children:t(br,{obj:_.app,expandedPaths:p,onToggle:m,p:s})}):t("div",{className:`${s}-empty`,children:"Config not available"})]})}function Bt({options:e,dashboardPath:n}){const{resolvedOptions:r}=Pe(n,e),{data:s,isLoading:i,error:l}=F("config",r);return l?t("div",{className:"ss-dbg-empty",children:["Error: ",l.message]}):t(yr,{data:s,isLoading:i,classPrefix:"ss-dbg"})}const vr=Object.freeze(Object.defineProperty({__proto__:null,ConfigTab:Bt,default:Bt},Symbol.toStringTag,{value:"Module"})),wr=["password","secret","token","key","credential","auth"];function jt(e){const n=e.toLowerCase();return wr.some(r=>n.includes(r))}function Rt(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e))return e.join(", ")||"-";try{return JSON.stringify(e)}catch{return String(e)}}const Nr={collectionInterval:"Stats Collection",dashboardBroadcast:"Dashboard Broadcast",debugBroadcast:"Debug Broadcast",persistFlush:"Persist Flush",retentionCleanup:"Retention Cleanup"};function xr(e){return Nr[e]||e}const $r={prometheus:"Prometheus",pinoHook:"Pino Log Hook",edgePlugin:"Edge Plugin",cacheInspector:"Cache Inspector",queueInspector:"Queue Inspector"};function kr(e){return $r[e]||e}const Cr=["healthy","active","connected","available","ready"],Sr=["errored","unavailable"];function Tr(e){return Cr.includes(e)?"ok":Sr.includes(e)?"err":""}function ee({status:e,prefix:n}){const r=Tr(e);let s=`${n}-dot`;return r==="ok"?s+=` ${n}-dot-ok`:r==="err"&&(s+=` ${n}-dot-err`),t("span",{className:s})}const Ft=()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:A.eye.viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A.eye.elements.join("")}}),Ut=()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:A["eye-off"].viewBox,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",dangerouslySetInnerHTML:{__html:A["eye-off"].elements.join("")}});function Lr({value:e}){const[n,r]=x(!1);return t("span",{children:[n?e:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",t("button",{type:"button",onClick:()=>r(s=>!s),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:n?t(Ut,{}):t(Ft,{})})]})}function Er({current:e,max:n,prefix:r}){const s=n>0?Math.min(100,Math.round(e/n*100)):0,i=s>=100;return t("div",{className:`${r}-bar`,children:[t("div",{className:`${r}-bar-track`,children:t("div",{className:`${r}-bar-fill${i?` ${r}-bar-fill-warn`:""}`,style:{width:`${s}%`}})}),t("span",{className:`${r}-bar-pct${i?` ${r}-bar-pct-warn`:""}`,children:[s,"%"]})]})}function Ar({config:e,prefix:n}){const r=Object.entries(e);return r.length===0?t("span",{className:`${n}-c-dim`,children:"-"}):t("span",{className:`${n}-c-muted`,children:r.map(([s,i],l)=>t("span",{children:[l>0&&", ",t("span",{className:`${n}-c-dim`,children:s}),"=",jt(s)&&typeof i=="string"?t(Lr,{value:i}):t("span",{children:Rt(i)})]},s))})}function te({label:e,value:n,prefix:r}){return t("div",{className:`${r}-info-card`,children:[t("span",{className:`${r}-info-card-label`,children:e}),t("span",{className:`${r}-info-card-value`,children:n})]})}function Pr({data:e,tableClassName:n,classPrefix:r}){const s=r||"ss-dash",[i,l]=x(new Set),o=S(c=>{l(a=>{const p=new Set(a);return p.has(c)?p.delete(c):p.add(c),p})},[]),h=S((c,a)=>{if(a==null)return t("span",{className:`${s}-c-dim`,children:"null"});if(typeof a=="boolean")return t("span",{className:a?`${s}-c-green`:`${s}-c-red`,children:String(a)});if(Array.isArray(a))return t("span",{children:a.join(", ")||"-"});const p=Rt(a);if(jt(c)){const d=i.has(c);return t("span",{children:[d?p:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"," ",t("button",{type:"button",onClick:()=>o(c),style:{background:"none",border:"1px solid var(--ss-border)",borderRadius:3,padding:"0 4px",fontSize:"10px",color:"var(--ss-dim)",cursor:"pointer",verticalAlign:"middle"},children:d?t(Ut,{}):t(Ft,{})})]})}return t("span",{children:p})},[i,o,s]);return t("div",{children:[t("h3",{className:`${s}-internals-title`,children:"Package Info"}),t("div",{className:`${s}-info-cards`,children:[t(te,{label:"Version",value:e.package.version||"-",prefix:s}),t(te,{label:"Node.js",value:e.package.nodeVersion||"-",prefix:s}),t(te,{label:"AdonisJS",value:e.package.adonisVersion||"-",prefix:s}),t(te,{label:"Uptime",value:Fn(e.package.uptime),prefix:s}),t(te,{label:"Renderer",value:e.devToolbar?.renderer||"preact",prefix:s})]}),e.collectors.length>0&&t(I,{children:[t("h3",{className:`${s}-internals-title`,children:"Collectors"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Collector"}),t("th",{children:"Status"}),t("th",{children:"Last Error"}),t("th",{children:"Config"})]})}),t("tbody",{children:e.collectors.map(c=>t("tr",{children:[t("td",{children:[t("code",{children:c.name}),c.label&&c.label!==c.name&&t("span",{className:`${s}-c-dim`,children:[" ",c.label]})]}),t("td",{children:[t(ee,{status:c.status,prefix:s}),c.status]}),t("td",{className:c.lastError?`${s}-c-red`:`${s}-c-dim`,children:c.lastError?t(I,{children:[c.lastError,c.lastErrorAt&&t("span",{className:`${s}-c-dim`,style:{fontSize:"10px"},children:R(c.lastErrorAt)})]}):"-"}),t("td",{children:t(Ar,{config:c.config,prefix:s})})]},c.name))})]})]}),t("h3",{className:`${s}-internals-title`,children:"Buffers"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Buffer"}),t("th",{children:"Usage"}),t("th",{children:"Fill %"})]})}),t("tbody",{children:Object.entries(e.buffers).map(([c,a])=>t("tr",{children:[t("td",{style:{textTransform:"capitalize"},children:c}),t("td",{children:[a.current.toLocaleString()," / ",a.max.toLocaleString()]}),t("td",{children:t(Er,{current:a.current,max:a.max,prefix:s})})]},c))})]}),t("h3",{className:`${s}-internals-title`,children:"Timers"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Timer"}),t("th",{children:"Status"}),t("th",{children:"Interval"})]})}),t("tbody",{children:Object.entries(e.timers).map(([c,a])=>t("tr",{children:[t("td",{children:xr(c)}),t("td",{children:[t(ee,{status:a.active?"active":"inactive",prefix:s}),t("span",{className:a.active?`${s}-c-green`:`${s}-c-dim`,children:a.active?"active":"inactive"})]}),t("td",{children:a.active?a.intervalMs?j(a.intervalMs):a.debounceMs?`${j(a.debounceMs)} (debounce)`:"-":t("span",{className:`${s}-c-dim`,children:"â€”"})})]},c))})]}),t("h3",{className:`${s}-internals-title`,children:"Integrations"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{children:"Integration"}),t("th",{children:"Status"}),t("th",{children:"Details"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"Transmit (SSE)"}),t("td",{children:[t(ee,{status:e.transmit.available?"connected":"inactive",prefix:s}),e.transmit.available?"connected":"unavailable"]}),t("td",{style:{fontSize:"11px"},children:e.transmit.channels.length>0?`Channels: ${e.transmit.channels.join(", ")}`:"-"})]}),Object.entries(e.integrations).map(([c,a])=>{const p=a.active??a.available??!1,d=a.active?"active":a.available?"available":"unavailable";let u=a.mode?`Mode: ${a.mode}`:"-";return c==="edgePlugin"&&a.active?u="@serverStats() tag registered":c==="cacheInspector"&&a.available?u="Redis dependency detected":c==="queueInspector"&&a.available&&(u="Queue dependency detected"),t("tr",{children:[t("td",{children:kr(c)}),t("td",{children:[t(ee,{status:p?"active":"inactive",prefix:s}),d]}),t("td",{className:`${s}-c-dim`,style:{fontSize:"11px"},children:u})]},c)})]})]}),e.storage&&t(I,{children:[t("h3",{className:`${s}-internals-title`,children:"Storage (SQLite)"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Metric"}),t("th",{children:"Value"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"Status"}),t("td",{children:[t(ee,{status:e.storage.ready?"ready":"inactive",prefix:s}),e.storage.ready?"ready":"not ready"]})]}),t("tr",{children:[t("td",{children:"DB Path"}),t("td",{children:t("code",{children:e.storage.dbPath})})]}),t("tr",{children:[t("td",{children:"File Size"}),t("td",{children:[e.storage.fileSizeMb.toFixed(1)," MB"]})]}),t("tr",{children:[t("td",{children:"WAL Size"}),t("td",{children:[e.storage.walSizeMb.toFixed(1)," MB"]})]}),t("tr",{children:[t("td",{children:"Retention"}),t("td",{children:[e.storage.retentionDays," days"]})]}),t("tr",{children:[t("td",{children:"Last Cleanup"}),t("td",{children:e.storage.lastCleanupAt?R(e.storage.lastCleanupAt):"-"})]})]})]}),e.storage.tables.length>0&&t("table",{className:n,style:{marginTop:8},children:[t("thead",{children:t("tr",{children:[t("th",{children:"Table"}),t("th",{children:"Rows"})]})}),t("tbody",{children:e.storage.tables.map(c=>t("tr",{children:[t("td",{children:t("code",{children:c.name})}),t("td",{children:c.rowCount.toLocaleString()})]},c.name))})]})]}),t("h3",{className:`${s}-internals-title`,children:"Resolved Config"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Setting"}),t("th",{children:"Value"})]})}),t("tbody",{children:[t("tr",{children:[t("td",{children:"intervalMs"}),t("td",{children:e.config.intervalMs})]}),t("tr",{children:[t("td",{children:"transport"}),t("td",{children:e.config.transport})]}),t("tr",{children:[t("td",{children:"channelName"}),t("td",{children:e.config.channelName})]}),t("tr",{children:[t("td",{children:"endpoint"}),t("td",{children:e.config.endpoint===!1?"false":e.config.endpoint})]}),t("tr",{children:[t("td",{children:"skipInTest"}),t("td",{children:h("skipInTest",e.config.skipInTest)})]}),t("tr",{children:[t("td",{children:"onStats callback"}),t("td",{children:e.config.hasOnStatsCallback?"defined":"not defined"})]}),t("tr",{children:[t("td",{children:"shouldShow callback"}),t("td",{children:e.config.hasShouldShowCallback?"defined":"not defined"})]})]})]}),t("h4",{className:`${s}-internals-title`,children:"DevToolbar"}),t("table",{className:n,children:[t("thead",{children:t("tr",{children:[t("th",{style:{width:"200px"},children:"Setting"}),t("th",{children:"Value"})]})}),t("tbody",{children:Object.entries(e.devToolbar).map(([c,a])=>t("tr",{children:[t("td",{children:c==="customPaneCount"?"customPanes":c}),t("td",{children:c==="customPaneCount"?`${a} registered`:h(c,a)})]},c))})]})]})}const Mr=3e3;function Ht({options:e}){const{baseUrl:n="",debugEndpoint:r="/admin/api/debug",authToken:s}=e||{},[i,l]=x(null),[o,h]=x(!0),[c,a]=x(null),p=B(null),d=At(n,s),u=S(async()=>{try{const _=await d().get(`${r}/diagnostics`);l(_),a(null),h(!1)}catch(f){if(f instanceof ue){a(f),h(!1),p.current&&(clearInterval(p.current),p.current=null);return}a(f instanceof Error?f:new Error(String(f))),h(!1)}},[r,d]);return z(()=>(h(!0),a(null),u(),p.current=setInterval(u,Mr),()=>{p.current&&(clearInterval(p.current),p.current=null)}),[u]),o&&!i?t("div",{className:"ss-dbg-empty",children:"Loading diagnostics..."}):c?t("div",{className:"ss-dbg-empty",children:["Error: ",c.message]}):i?t(Pr,{data:i,tableClassName:"ss-dbg-table",classPrefix:"ss-dbg"}):t("div",{className:"ss-dbg-empty",children:"Diagnostics not available"})}const Or=Object.freeze(Object.defineProperty({__proto__:null,InternalsTab:Ht,default:Ht},Symbol.toStringTag,{value:"Module"}));function zt({pane:e,options:n}){({...n});const{data:r,isLoading:s,error:i,clearData:l}=F(e.endpoint.replace(/^\//,""),{...n,debugEndpoint:""}),[o,h]=x(""),c=T(()=>{if(!r)return[];const u=e.dataKey||e.id;let f=r;for(const _ of u.split("."))f=f?.[_];return Array.isArray(f)?f:[]},[r,e.dataKey,e.id]),a=T(()=>{if(!o)return c;const u=o.toLowerCase(),f=e.columns.filter(_=>_.searchable).map(_=>_.key);return f.length===0?c:c.filter(_=>f.some(m=>{const y=_[m];return y!==null&&String(y).toLowerCase().includes(u)}))},[c,o,e.columns]),p=(u,f)=>{if(u==null)return t("span",{className:"ss-dbg-c-dim",children:"-"});switch(f.format||"text"){case"time":return t("span",{className:"ss-dbg-event-time",title:V(u),children:typeof u=="number"?R(u):String(u)});case"timeAgo":return t("span",{className:"ss-dbg-event-time",title:V(u),children:R(u)});case"duration":{const m=typeof u=="number"?u:parseFloat(String(u));return isNaN(m)?String(u):t("span",{className:`ss-dbg-duration ${Q(m)==="very-slow"?"ss-dbg-very-slow":Q(m)==="slow"?"ss-dbg-slow":""}`,children:j(m)})}case"method":return t("span",{className:`ss-dbg-method ss-dbg-method-${String(u).toLowerCase()}`,children:String(u)});case"json":{let m=u;if(typeof u=="string")try{m=JSON.parse(u)}catch{}return pe(m,80)}case"badge":{const m=String(u).toLowerCase(),b=(f.badgeColorMap||{})[m]||"muted";return t("span",{className:`ss-dbg-badge ss-dbg-badge-${b}`,children:String(u)})}default:return String(u)}},d=W([a]);return s&&!r?t("div",{className:"ss-dbg-empty",children:["Loading ",e.label,"..."]}):i?t("div",{className:"ss-dbg-empty",children:["Error: ",i.message]}):t("div",{children:[e.search&&t("div",{className:"ss-dbg-search-bar",children:[t("input",{type:"text",className:"ss-dbg-search",placeholder:e.search.placeholder,value:o,onChange:u=>h(u.target.value)}),t("span",{className:"ss-dbg-summary",children:[a.length," items"]}),e.clearable&&t("button",{type:"button",className:"ss-dbg-btn-clear",onClick:l,children:"Clear"})]}),a.length===0?t("div",{className:"ss-dbg-empty",children:"No data"}):t("table",{ref:d,className:"ss-dbg-table",children:[t("thead",{children:t("tr",{children:e.columns.map(u=>t("th",{children:u.label},u.key))})}),t("tbody",{children:a.map((u,f)=>t("tr",{children:e.columns.map(_=>t("td",{children:p(u[_.key],_)},_.key))},u.id??f))})]})]})}const Ir=Object.freeze(Object.defineProperty({__proto__:null,CustomPaneTab:zt,default:zt},Symbol.toStringTag,{value:"Module"}))})();
